<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>Reactä¸­contextçš„ä½¿ç”¨</title>
    <link href="/dylan/2022/03/28/react-context/"/>
    <url>/dylan/2022/03/28/react-context/</url>
    
    <content type="html"><![CDATA[<h2 id="context"><a href="#context" class="headerlink" title="context"></a>context</h2><p><code>context</code>æä¾›äº†ä¸€ç§æ–¹å¼ï¼Œèƒ½å¤Ÿè®©æ•°æ®åœ¨ç»„ä»¶ä¸­ä¼ é€’æ—¶ä¸å¿…ä¸€çº§ä¸€çº§çš„æ‰‹åŠ¨ä¼ é€’</p><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæ•°æ®åœ¨ç»„ä»¶ä¸­ï¼Œè¦ä¸€çº§ä¸€çº§çš„ä¼ é€’ï¼Œå•å‘æ•°æ®æµï¼Œæ¯”å¦‚Parentç»„ä»¶ä¸­çš„themeå€¼ï¼Œéœ€è¦åœ¨Itemç»„ä»¶ä¸­ä½¿ç”¨ï¼Œå°±éœ€è¦æˆ‘ä»¬ä»Parentä¸­å‘ä¸‹ä¼ é€’ï¼Œ ä½†å½“æˆ‘ä»¬æœ‰äº†<code>Context</code>åï¼Œæˆ‘ä»¬å°±ä¸éœ€è¦ä¸€çº§ä¸€çº§ä¼ é€’äº†</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs react">Parent(theme=red)<br>    List(theme=red)<br>        Item(theme=red)<br>        <br>ThemeContext.Provider value=&#123;&#x27;red&#x27;&#125;<br>    List<br>        ThemeContext.Customer  (theme) =&gt; &#123; theme &#125;<br></code></pre></td></tr></table></figure><p>å…·ä½“ä½¿ç”¨ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> React, &#123; createContext &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;<br><br><span class="hljs-comment">// åˆ›å»ºContextçš„å”¯ä¸€æ–¹æ³•</span><br><span class="hljs-keyword">const</span> ThemeContext = createContext()<br><br><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>&#123;<br>  render () &#123;<br>    <span class="hljs-keyword">return</span> (<br>      <span class="hljs-comment">// ä½¿ç”¨ Context.Provider åŒ…è£¹åç»­ç»„ä»¶ï¼Œvalue æŒ‡å®šå€¼ </span><br>      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ThemeContext.Provider</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&#123;</span>&#x27;<span class="hljs-attr">red</span>&#x27;&#125;&gt;</span></span><br><span class="xml">        <span class="hljs-tag">&lt;<span class="hljs-name">Middle</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">Middle</span>&gt;</span></span><br><span class="xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">ThemeContext.Provider</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Bottom</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>&#123;<br>  render () &#123;<br>    <span class="hljs-keyword">return</span> (<br>      <span class="hljs-comment">// Context.Consumer Consumeræ¶ˆè´¹è€…ä½¿ç”¨Contextå¾—å€¼</span><br>      <span class="hljs-comment">// ä½†å­ç»„ä»¶ä¸èƒ½æ˜¯å…¶ä»–ç»„ä»¶ï¼Œå¿…é¡»æ¸²æŸ“ä¸€ä¸ªå‡½æ•°ï¼Œå‡½æ•°çš„å‚æ•°å°±æ˜¯Contextå¾—å€¼</span><br>      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ThemeContext.Consumer</span>&gt;</span></span><br><span class="xml">        &#123;</span><br><span class="xml">          theme =&gt; <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>ThemeContext çš„ å€¼ä¸º &#123;theme&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="xml">        &#125;</span><br><span class="xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">ThemeContext.Consumer</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Middle</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>&#123;<br>  render () &#123;<br>    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Bottom</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">Bottom</span>&gt;</span></span><br>  &#125;<br>&#125;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> App;<br></code></pre></td></tr></table></figure><p>å½“<code>Provider</code>æä¾›çš„å€¼æ›´æ”¹æ—¶ï¼Œ<code>Consumer</code>å¿…é¡»é‡æ–°æ¸²æŸ“ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> React, &#123; createContext &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;<br><br><span class="hljs-comment">// åˆ›å»ºContextçš„å”¯ä¸€æ–¹æ³•</span><br><span class="hljs-keyword">const</span> ThemeContext = createContext()<br><br><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>&#123;<br>  state = &#123;<br>    <span class="hljs-attr">theme</span>: <span class="hljs-string">&#x27;red&#x27;</span><br>  &#125;<br>  render () &#123;<br>    <span class="hljs-keyword">const</span> &#123; theme &#125; = <span class="hljs-built_in">this</span>.state<br>    <span class="hljs-keyword">return</span> (<br>      <span class="hljs-comment">// ä½¿ç”¨ Context.Provider åŒ…è£¹åç»­ç»„ä»¶ï¼Œvalue æŒ‡å®šå€¼ </span><br>      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ThemeContext.Provider</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&#123;theme&#125;</span>&gt;</span></span><br><span class="xml">        &#123;/* å½“Contextçš„Providerå€¼æ›´æ”¹æ—¶ï¼ŒConsumer çš„å€¼å¿…é¡»é‡æ–°æ¸²æŸ“ */&#125;</span><br><span class="xml">        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;()</span> =&gt;</span> &#123;</span><br><span class="xml">            this.setState(&#123; theme: &#x27;yellow&#x27;&#125;)&#125;&#125;</span><br><span class="xml">        &gt;æŒ‰é’®<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="xml">        <span class="hljs-tag">&lt;<span class="hljs-name">Middle</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">Middle</span>&gt;</span></span><br><span class="xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">ThemeContext.Provider</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Bottom</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>&#123;<br>  render () &#123;<br>    <span class="hljs-keyword">return</span> (<br>      <span class="hljs-comment">// Context.Consumer Consumeræ¶ˆè´¹è€…ä½¿ç”¨Contextå¾—å€¼</span><br>      <span class="hljs-comment">// ä½†å­ç»„ä»¶ä¸èƒ½æ˜¯å…¶ä»–ç»„ä»¶ï¼Œå¿…é¡»æ¸²æŸ“ä¸€ä¸ªå‡½æ•°ï¼Œå‡½æ•°çš„å‚æ•°å°±æ˜¯Contextå¾—å€¼</span><br>      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ThemeContext.Consumer</span>&gt;</span></span><br><span class="xml">        &#123;</span><br><span class="xml">          theme =&gt; <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>ThemeContext çš„ å€¼ä¸º &#123;theme&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="xml">        &#125;</span><br><span class="xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">ThemeContext.Consumer</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Middle</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>&#123;<br>  render () &#123;<br>    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Bottom</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">Bottom</span>&gt;</span></span><br>  &#125;<br>&#125;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> App;<br></code></pre></td></tr></table></figure><p>å½“å‡ºç°å¤šä¸ª<code>Context</code>çš„æ—¶å€™ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> React, &#123; createContext &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;<br><br><span class="hljs-comment">// åˆ›å»ºContextçš„å”¯ä¸€æ–¹æ³•</span><br><span class="hljs-keyword">const</span> ThemeContext = createContext()<br><span class="hljs-keyword">const</span> SizeContext = createContext()<br><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>&#123;<br>  state = &#123;<br>    <span class="hljs-attr">theme</span>: <span class="hljs-string">&#x27;red&#x27;</span>,<br>    <span class="hljs-attr">size</span>: <span class="hljs-string">&#x27;small&#x27;</span><br>  &#125;<br>  render () &#123;<br>    <span class="hljs-keyword">const</span> &#123; theme, size &#125; = <span class="hljs-built_in">this</span>.state<br>    <span class="hljs-keyword">return</span> (<br>      <span class="hljs-comment">// ä½¿ç”¨ Context.Provider åŒ…è£¹åç»­ç»„ä»¶ï¼Œvalue æŒ‡å®šå€¼ </span><br>      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ThemeContext.Provider</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&#123;theme&#125;</span>&gt;</span></span><br><span class="xml">        &#123;/* å½“å‡ºç°å¤šä¸ªContextçš„æ—¶å€™ï¼Œåªéœ€è¦å°†Context.Provider åµŒå¥—å³å¯ */&#125;</span><br><span class="xml">        <span class="hljs-tag">&lt;<span class="hljs-name">SizeContext.Provider</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&#123;size&#125;</span>&gt;</span></span><br><span class="xml">          &#123;/* å½“Contextçš„Providerå€¼æ›´æ”¹æ—¶ï¼ŒConsumer çš„å€¼å¿…é¡»é‡æ–°æ¸²æŸ“ */&#125;</span><br><span class="xml">          <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;</span></span></span><br><span class="hljs-tag"><span class="xml">            () =&gt;</span> &#123;</span><br><span class="xml">                this.setState(&#123; theme: &#x27;yellow&#x27;, size: &#x27;big&#x27;&#125;)</span><br><span class="xml">            &#125;</span><br><span class="xml">          &#125;&gt;æŒ‰é’®<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="xml">          <span class="hljs-tag">&lt;<span class="hljs-name">Middle</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">Middle</span>&gt;</span></span><br><span class="xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">SizeContext.Provider</span>&gt;</span></span><br><span class="xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">ThemeContext.Provider</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Bottom</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>&#123;<br>  render () &#123;<br>    <span class="hljs-keyword">return</span> (<br>      <span class="hljs-comment">// Context.Consumer Consumeræ¶ˆè´¹è€…ä½¿ç”¨Contextå¾—å€¼</span><br>      <span class="hljs-comment">// ä½†å­ç»„ä»¶ä¸èƒ½æ˜¯å…¶ä»–ç»„ä»¶ï¼Œå¿…é¡»æ¸²æŸ“ä¸€ä¸ªå‡½æ•°ï¼Œå‡½æ•°çš„å‚æ•°å°±æ˜¯Contextå¾—å€¼</span><br>      <span class="hljs-comment">// å½“å‡ºç° å¤šä¸ªConsumerçš„æ—¶å€™ï¼Œè¿›è¡ŒåµŒå¥—ï¼Œæ¯ä¸ªConsumer</span><br>      <span class="hljs-comment">// çš„å­ç»„ä»¶å¿…é¡»æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå³å¯</span><br>      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ThemeContext.Consumer</span>&gt;</span></span><br><span class="xml">        &#123;</span><br><span class="xml">          theme =&gt; (</span><br><span class="xml">            <span class="hljs-tag">&lt;<span class="hljs-name">SizeContext.Consumer</span>&gt;</span></span><br><span class="xml">              &#123;</span><br><span class="xml">                size =&gt; (</span><br><span class="xml">                    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span></span><br><span class="xml">                        ThemeContext çš„ å€¼ä¸º &#123;theme&#125;; </span><br><span class="xml">                        SizeContext çš„å€¼ä¸º &#123;size&#125;</span><br><span class="xml">                    <span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="xml">                )</span><br><span class="xml">              &#125;</span><br><span class="xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">SizeContext.Consumer</span>&gt;</span></span><br><span class="xml">          )</span><br><span class="xml">        &#125;</span><br><span class="xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">ThemeContext.Consumer</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Middle</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>&#123;<br>  render () &#123;<br>    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Bottom</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">Bottom</span>&gt;</span></span><br>  &#125;<br>&#125;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> App;<br></code></pre></td></tr></table></figure><p>å¦‚æœ<code>Consumer</code>å‘ä¸Šæ‰¾ä¸åˆ°<code>Provider</code>æ˜¯ï¼Œreactä¸ä¼šæŠ¥é”™ï¼Œå¯ä»¥é€šè¿‡<code>createContext</code>ä¼ å…¥é»˜è®¤å€¼ï¼Œæ‰¾ä¸åˆ°æ—¶ä¼šæ˜¾ç¤ºé»˜è®¤å€¼</p><p>æ³¨æ„ï¼š<code>context</code>ç±»ä¼¼äºå…¨å±€å˜é‡åšæ³•ï¼Œä¼šè®©ç»„ä»¶å¤±å»ç‹¬ç«‹æ€§ã€å¤ç”¨èµ·æ¥æ›´å›°éš¾ï¼Œä¸èƒ½æ»¥ç”¨ã€ä½†æœ¬èº«å®ƒä¸€å®šæœ‰é€‚åˆä½¿ç”¨çš„åœºæ™¯ï¼Œå…·ä½“çœ‹æƒ…å†µä½¿ç”¨</p><h2 id="contextType"><a href="#contextType" class="headerlink" title="contextType"></a>contextType</h2><p><code>contextType</code> å¯ä»¥ç®€åŒ– <code>context</code> çš„ä½¿ç”¨ï¼Œä¸ä½¿ç”¨ <code>consumer</code> ä¹Ÿå¯ä»¥å…±äº«å˜é‡ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> React, &#123; createContext &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;<br><br><span class="hljs-comment">// åˆ›å»ºContextçš„å”¯ä¸€æ–¹æ³•</span><br><span class="hljs-keyword">const</span> ThemeContext = createContext()<br><span class="hljs-keyword">const</span> SizeContext = createContext()<br><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>&#123;<br>  state = &#123;<br>    <span class="hljs-attr">theme</span>: <span class="hljs-string">&#x27;red&#x27;</span>,<br>    <span class="hljs-attr">size</span>: <span class="hljs-string">&#x27;small&#x27;</span><br>  &#125;<br>  render () &#123;<br>    <span class="hljs-keyword">const</span> &#123; theme, size &#125; = <span class="hljs-built_in">this</span>.state<br>    <span class="hljs-keyword">return</span> (<br>      <span class="hljs-comment">// ä½¿ç”¨ Context.Provider åŒ…è£¹åç»­ç»„ä»¶ï¼Œvalue æŒ‡å®šå€¼ </span><br>      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ThemeContext.Provider</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&#123;theme&#125;</span>&gt;</span></span><br><span class="xml">        &#123;/* å½“å‡ºç°å¤šä¸ªContextçš„æ—¶å€™ï¼Œåªéœ€è¦å°†Context.Provider åµŒå¥—å³å¯ */&#125;</span><br><span class="xml">        <span class="hljs-tag">&lt;<span class="hljs-name">SizeContext.Provider</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&#123;size&#125;</span>&gt;</span></span><br><span class="xml">          &#123;/* å½“Contextçš„Providerå€¼æ›´æ”¹æ—¶ï¼ŒConsumer çš„å€¼å¿…é¡»é‡æ–°æ¸²æŸ“ */&#125;</span><br><span class="xml">          <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;()</span> =&gt;</span> &#123;this.setState(&#123; theme: &#x27;yellow&#x27;, size: &#x27;big&#x27;&#125;)&#125;&#125;&gt;æŒ‰é’®<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="xml">          <span class="hljs-tag">&lt;<span class="hljs-name">Middle</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">Middle</span>&gt;</span></span><br><span class="xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">SizeContext.Provider</span>&gt;</span></span><br><span class="xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">ThemeContext.Provider</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Bottom</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>&#123;<br>  <span class="hljs-comment">// ç”³æ˜é™æ€å˜é‡ã€contextType å°† context ç›´æ¥èµ‹å€¼äº contextType</span><br>  <span class="hljs-keyword">static</span> contextType = ThemeContext<br>  <br>  render () &#123;<br>    <span class="hljs-comment">// åœ¨ render å‡½æ•°ä¸­ å¯ä»¥ç›´æ¥ è®¿é—® this.context è·å–å…±äº«å˜é‡ã€è¿™æ ·å°±å¯ä»¥ä¸ä½¿ç”¨ consumer</span><br>    <span class="hljs-keyword">const</span> theme = <span class="hljs-built_in">this</span>.context<br>    <span class="hljs-keyword">return</span> (<br>      <span class="hljs-comment">// Context.Consumer Consumeræ¶ˆè´¹è€…ä½¿ç”¨Contextå¾—å€¼</span><br>      <span class="hljs-comment">// ä½†å­ç»„ä»¶ä¸èƒ½æ˜¯å…¶ä»–ç»„ä»¶ï¼Œå¿…é¡»æ¸²æŸ“ä¸€ä¸ªå‡½æ•°ï¼Œå‡½æ•°çš„å‚æ•°å°±æ˜¯Contextå¾—å€¼</span><br>      <span class="hljs-comment">// å½“å‡ºç° å¤šä¸ªConsumerçš„æ—¶å€™ï¼Œè¿›è¡ŒåµŒå¥—ï¼Œæ¯ä¸ªConsumer çš„å­ç»„ä»¶å¿…é¡»æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå³å¯</span><br>      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="xml">        <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>ThemeContext çš„ å€¼ä¸º &#123;theme&#125; <span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Middle</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>&#123;<br>  render () &#123;<br>    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Bottom</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">Bottom</span>&gt;</span></span><br>  &#125;<br>&#125;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> App;<br></code></pre></td></tr></table></figure><p><code>contextType</code>åªèƒ½åœ¨ç±»ç»„ä»¶ä¸­ä½¿ç”¨</p><p>ä¸€ä¸ªç»„ä»¶å¦‚æœæœ‰å¤šä¸ª<code>consumer</code>ï¼Œ<code>contextType</code>åªå¯¹å…¶ä¸­ä¸€ä¸ªæœ‰æ•ˆï¼Œæ‰€ä»¥<code>contextType</code>åªèƒ½æœ‰ä¸€ä¸ª</p>]]></content>
    
    
    <categories>
      
      <category>å­¦ä¹ ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>React</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>axiosæºç ç†è§£</title>
    <link href="/dylan/2022/03/26/axios/"/>
    <url>/dylan/2022/03/26/axios/</url>
    
    <content type="html"><![CDATA[<h2 id="ä¸€ã€axiosç®€ä»‹"><a href="#ä¸€ã€axiosç®€ä»‹" class="headerlink" title="ä¸€ã€axiosç®€ä»‹"></a>ä¸€ã€axiosç®€ä»‹</h2><ul><li>æ”¯æŒ Promise APIï¼›</li><li>èƒ½å¤Ÿæ‹¦æˆªè¯·æ±‚å’Œå“åº”ï¼›</li><li>èƒ½å¤Ÿè½¬æ¢è¯·æ±‚å’Œå“åº”æ•°æ®ï¼›</li><li>å®¢æˆ·ç«¯æ”¯æŒé˜²å¾¡ <a href="https://link.juejin.cn/?target=https://en.wikipedia.org/wiki/Cross-site_request_forgery">CSRF</a> æ”»å‡»ï¼›</li><li>åŒæ—¶æ”¯æŒæµè§ˆå™¨å’Œ Node.js ç¯å¢ƒï¼›</li><li>èƒ½å¤Ÿå–æ¶ˆè¯·æ±‚åŠè‡ªåŠ¨è½¬æ¢ JSON æ•°æ®ã€‚</li></ul><p>axiosæºç ç›®å½•ï¼š</p><figure class="highlight vala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs vala"><span class="hljs-meta"># ğŸ“ lib</span><br><span class="hljs-meta"># |â€”â€”  ğŸ“ adapters // axiosä¸»è¦ä½¿ç”¨çš„è¯·æ±‚æ–¹æ³•</span><br><span class="hljs-meta"># |â€”â€”  |â€”â€”  ğŸ“ƒ http.js  // axiosä¸­nodeç«¯ä½¿ç”¨çš„è¯·æ±‚å‡½æ•°</span><br><span class="hljs-meta"># |â€”â€”  |â€”â€”  ğŸ“ƒ xhr.js  // axiosä¸­æµè§ˆå™¨ç«¯ä½¿ç”¨çš„è¯·æ±‚å‡½æ•°</span><br><span class="hljs-meta"># |â€”â€”  ğŸ“ cancel</span><br><span class="hljs-meta"># |â€”â€”  |â€”â€”  ğŸ“ƒ Cancel.js // å®šä¹‰äº†ï¼Œå–æ¶ˆè¯·æ±‚è¿”å›çš„ä¿¡æ¯ç»“æ„</span><br><span class="hljs-meta"># |â€”â€”  |â€”â€”  ğŸ“ƒ CancelToken.js // å®šä¹‰äº†ç”¨äºå–æ¶ˆè¯·æ±‚çš„ä¸»è¦æ–¹æ³•</span><br><span class="hljs-meta"># |â€”â€”  |â€”â€”  ğŸ“ƒ isCancel.js // åˆ¤æ–­æ˜¯å¦æ˜¯å–æ¶ˆè¯·æ±‚çš„ä¿¡æ¯</span><br><span class="hljs-meta"># |â€”â€”  ğŸ“ core</span><br><span class="hljs-meta"># |â€”â€”  |â€”â€”  ğŸ“ƒ Axios.js // Axiosç±»</span><br><span class="hljs-meta"># |â€”â€”  |â€”â€”  ğŸ“ƒ dispatchRequest.js // å‘èµ·è¯·æ±‚çš„åœ°æ–¹ </span><br><span class="hljs-meta"># |â€”â€”  |â€”â€”  ğŸ“ƒ InterceptorManager.js // InterceptorManagerç±»ï¼Œæ‹¦æˆªå™¨ç±»</span><br><span class="hljs-meta"># |â€”â€”  |â€”â€”  ğŸ“ƒ mergeConfig.js // åˆå¹¶é…ç½®é¡¹</span><br><span class="hljs-meta"># |â€”â€”  |â€”â€”  ğŸ“ƒ settle.js // æ ¹æ®è¯·æ±‚çŠ¶æ€ï¼Œå¤„ç†Promise</span><br><span class="hljs-meta"># |â€”â€”  |â€”â€”  ğŸ“ƒ createError.js // ç”ŸæˆæŒ‡å®šçš„error</span><br><span class="hljs-meta"># |â€”â€”  |â€”â€”  ğŸ“ƒ enhanceError.js // æŒ‡å®šerrorå¯¹è±¡çš„toJSONæ–¹æ³•</span><br><span class="hljs-meta"># |â€”â€”  |â€”â€”  ğŸ“ƒ transformData.js // ä½¿ç”¨default.jsä¸­transformRequestå’ŒtransformResponseå¯¹å“åº”ä»¥åŠè¯·æ±‚è¿›è¡Œæ ¼å¼åŒ–</span><br><span class="hljs-meta"># |â€”â€”  ğŸ“ helpers</span><br><span class="hljs-meta"># |â€”â€”  |â€”â€”  ğŸ“ƒ bind.js // å·¥å…·å‡½æ•°</span><br><span class="hljs-meta"># |â€”â€”  |â€”â€”  ğŸ“ƒ parseHeaders.js // å°†getAllResponseHeadersè¿”å›çš„headerä¿¡æ¯è½¬åŒ–ä¸ºå¯¹è±¡</span><br><span class="hljs-meta"># |â€”â€”  |â€”â€”  ğŸ“ƒ buildURL.js // å°†paramså‚æ•°</span><br><span class="hljs-meta"># |â€”â€”  |â€”â€”  ğŸ“ƒ cookies.js // å°è£…äº†è¯»å–ï¼Œå†™å…¥ï¼Œåˆ é™¤cookiesçš„æ–¹æ³•</span><br><span class="hljs-meta"># |â€”â€”  |â€”â€”  ğŸ“ƒ isURLSameOrigin.js // æ£€æµ‹å½“å‰çš„urlä¸è¯·æ±‚çš„urlæ˜¯å¦åŒæº</span><br><span class="hljs-meta"># |â€”â€”  |â€”â€”  ğŸ“ƒ normalizeHeaderName.js // å¯¹å¯¹è±¡å±æ€§åçš„è¿›è¡Œæ ¼å¼åŒ–ï¼Œåˆ é™¤ï¼Œæ–°å»ºç¬¦åˆå¤§å°å†™è§„èŒƒçš„å±æ€§</span><br><span class="hljs-meta"># |â€”â€”  |â€”â€”  ğŸ“ƒ combineURLs.js // ç»„åˆbaseurl</span><br><span class="hljs-meta"># |â€”â€”  |â€”â€”  ğŸ“ƒ isAbsoluteURL.js // åˆ¤æ–­æ˜¯å¦ä¸ºç»å¯¹è·¯å¾„ï¼ˆæŒ‡çš„://æˆ–//å¼€å¤´çš„ä¸ºç»å¯¹è·¯å¾„ï¼‰</span><br><span class="hljs-meta"># |â€”â€”  ğŸ“ƒ axios.js</span><br><span class="hljs-meta"># |â€”â€”  ğŸ“ƒ defaults.js // axiosä¸­é»˜è®¤é…ç½®</span><br><span class="hljs-meta"># |â€”â€”  ğŸ“ƒ utils.js // ä¸€äº›å·¥å…·æ–¹æ³•</span><br><span class="hljs-meta"># |â€”â€”  |â€”â€”  â¹ isFormData // åˆ¤æ–­æ˜¯å¦æ˜¯formDataå¯¹è±¡</span><br><span class="hljs-meta"># |â€”â€”  |â€”â€”  â¹ isStandardBrowserEnv // åˆ¤æ–­å½“å‰ç¯å¢ƒæ˜¯å¦ä¸ºæ ‡å‡†æµè§ˆå™¨ç¯å¢ƒ</span><br><span class="hljs-meta"># |â€”â€”  |â€”â€”  â¹ isUndefined // åˆ¤æ–­æ˜¯å¦ä¸ºundefined</span><br><span class="hljs-meta"># |â€”â€”  |â€”â€”  â¹ merge</span><br><span class="hljs-meta"># |â€”â€”  |â€”â€”  â¹ isURLSearchParams // åˆ¤æ–­æ˜¯å¦ä¸ºURLSearchParamså¯¹è±¡</span><br></code></pre></td></tr></table></figure><h2 id="äºŒã€æ‹¦æˆªå™¨"><a href="#äºŒã€æ‹¦æˆªå™¨" class="headerlink" title="äºŒã€æ‹¦æˆªå™¨"></a>äºŒã€æ‹¦æˆªå™¨</h2><p>axiosä¸­è®¾ç½®æ‹¦æˆªå™¨å¾ˆç®€å•ï¼Œ é€šè¿‡<code>axios.interceptors.request</code> å’Œ <code>axios.interceptors.response</code> å¯¹è±¡æä¾›çš„ <code>use</code> æ–¹æ³•ï¼Œå°±å¯ä»¥åˆ†åˆ«è®¾ç½®è¯·æ±‚æ‹¦æˆªå™¨å’Œå“åº”æ‹¦æˆªå™¨ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// æ·»åŠ è¯·æ±‚æ‹¦æˆªå™¨</span><br>axios.interceptors.request.use(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">config</span>) </span>&#123;<br>  config.headers.token = <span class="hljs-string">&#x27;added by interceptor&#x27;</span>;<br>  <span class="hljs-keyword">return</span> config;<br>&#125;);<br><br><span class="hljs-comment">// æ·»åŠ å“åº”æ‹¦æˆªå™¨</span><br>axios.interceptors.response.use(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">data</span>) </span>&#123;<br>  data.data = data.data + <span class="hljs-string">&#x27; - modified by interceptor&#x27;</span>;<br>  <span class="hljs-keyword">return</span> data;<br>&#125;);<br></code></pre></td></tr></table></figure><h2 id="ä¸‰ã€ä»»åŠ¡æ³¨å†Œ"><a href="#ä¸‰ã€ä»»åŠ¡æ³¨å†Œ" class="headerlink" title="ä¸‰ã€ä»»åŠ¡æ³¨å†Œ"></a>ä¸‰ã€ä»»åŠ¡æ³¨å†Œ</h2><p>axioså’Œaxios.interceptorså¯¹è±¡</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// lib/axios.js</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createInstance</span>(<span class="hljs-params">defaultConfig</span>) </span>&#123;<br>  <span class="hljs-keyword">var</span> context = <span class="hljs-keyword">new</span> Axios(defaultConfig);<br>  <span class="hljs-keyword">var</span> instance = bind(Axios.prototype.request, context);<br><br>  <span class="hljs-comment">// Copy axios.prototype to instance</span><br>  utils.extend(instance, Axios.prototype, context);<br>  <span class="hljs-comment">// Copy context to instance</span><br>  utils.extend(instance, context);<br>  <span class="hljs-keyword">return</span> instance;<br>&#125;<br><br><span class="hljs-comment">// Create the default instance to be exported</span><br><span class="hljs-keyword">var</span> axios = createInstance(defaults);<br></code></pre></td></tr></table></figure><p>åœ¨axiosçš„æºç ä¸­ï¼Œaxioså®ä¾‹æ˜¯é€šè¿‡<code>createInstance</code>æ–¹æ³•åˆ›å»ºçš„ï¼Œè¯¥æ–¹æ³•æœ€ç»ˆè¿”å›çš„æ˜¯<code>axios.prototype.request</code>å‡½æ•°å¯¹è±¡ï¼ŒåŒæ—¶axiosçš„æ„é€ å‡½æ•°æ˜¯ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// lib/core/Axios.js</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Axios</span>(<span class="hljs-params">instanceConfig</span>) </span>&#123;<br>  <span class="hljs-built_in">this</span>.defaults = instanceConfig;<br>  <span class="hljs-built_in">this</span>.interceptors = &#123;<br>    <span class="hljs-attr">request</span>: <span class="hljs-keyword">new</span> InterceptorManager(),<br>    <span class="hljs-attr">response</span>: <span class="hljs-keyword">new</span> InterceptorManager()<br>  &#125;;<br>&#125;<br></code></pre></td></tr></table></figure><p>åœ¨æ„é€ å‡½æ•°ä¸­ï¼Œæ‰¾åˆ°äº†<code>axios.interceptors</code>å¯¹è±¡çš„å®šä¹‰ï¼Œä¹ŸçŸ¥é“äº†<code>interceptors.request</code>å’Œ<code>interceptors.response</code>å¯¹è±¡éƒ½æ˜¯<code>InterceptorManager</code>ç±»çš„å®ä¾‹ã€‚ç”±<code>InterceptorsManager</code>æ„é€ å‡½æ•°åŠå…¶<code>use</code>å¯çŸ¥é“ä»»åŠ¡æ³¨å†Œï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// lib/core/InterceptorManager.js</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">InterceptorManager</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-built_in">this</span>.handlers = [];<br>&#125;<br><br>InterceptorManager.prototype.use = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">use</span>(<span class="hljs-params">fulfilled, rejected</span>) </span>&#123;<br>  <span class="hljs-built_in">this</span>.handlers.push(&#123;<br>    <span class="hljs-attr">fulfilled</span>: fulfilled,<br>    <span class="hljs-attr">rejected</span>: rejected<br>  &#125;);<br>  <span class="hljs-comment">// è¿”å›å½“å‰çš„ç´¢å¼•ï¼Œç”¨äºç§»é™¤å·²æ³¨å†Œçš„æ‹¦æˆªå™¨</span><br>  <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>.handlers.length - <span class="hljs-number">1</span>;<br>&#125;;<br></code></pre></td></tr></table></figure><p>é€šè¿‡<code>use</code>æ–¹æ³•ï¼Œå¯çŸ¥æ³¨å†Œçš„æ‹¦æˆªå™¨ä¼šè¢«ä¿å­˜åˆ°<code>InterceptorManager</code>å¯¹è±¡çš„<code>handlers</code>å±æ€§ä¸­ã€‚</p><h2 id="å››ã€ä»»åŠ¡ç¼–æ’"><a href="#å››ã€ä»»åŠ¡ç¼–æ’" class="headerlink" title="å››ã€ä»»åŠ¡ç¼–æ’"></a>å››ã€ä»»åŠ¡ç¼–æ’</h2><p>å…³äºHTTPè¯·æ±‚å¯åˆ†ä¸ºå¤„ç†è¯·æ±‚é…ç½®å¯¹è±¡ã€å‘èµ·HTTPè¯·æ±‚å’Œå¤„ç†å“åº”å¯¹è±¡3ä¸ªé˜¶æ®µã€‚</p><p>å…³äºaxioså¦‚ä½•å‘é€è¯·æ±‚ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js">axios(&#123;<br>  <span class="hljs-attr">url</span>: <span class="hljs-string">&#x27;/hello&#x27;</span>,<br>  <span class="hljs-attr">method</span>: <span class="hljs-string">&#x27;get&#x27;</span>,<br>&#125;).then(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span>&#123;<br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;axios res: &#x27;</span>, res)<br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;axios res.data: &#x27;</span>, res.data)<br>&#125;)<br></code></pre></td></tr></table></figure><p>å…³äº<code>axios.prototype.request</code>å…·ä½“å®ç°å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// lib/core/Axios.js</span><br>Axios.prototype.request = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">request</span>(<span class="hljs-params">config</span>) </span>&#123;<br>  config = mergeConfig(<span class="hljs-built_in">this</span>.defaults, config);<br><br>  <span class="hljs-comment">// çœç•¥éƒ¨åˆ†ä»£ç </span><br>  <span class="hljs-keyword">var</span> chain = [dispatchRequest, <span class="hljs-literal">undefined</span>];<br>  <span class="hljs-keyword">var</span> promise = <span class="hljs-built_in">Promise</span>.resolve(config);<br><br>  <span class="hljs-comment">// ä»»åŠ¡ç¼–æ’</span><br>  <span class="hljs-built_in">this</span>.interceptors.request.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">unshiftRequestInterceptors</span>(<span class="hljs-params">interceptor</span>) </span>&#123;<br>    chain.unshift(interceptor.fulfilled, interceptor.rejected);<br>  &#125;);<br><br>  <span class="hljs-built_in">this</span>.interceptors.response.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">pushResponseInterceptors</span>(<span class="hljs-params">interceptor</span>) </span>&#123;<br>    chain.push(interceptor.fulfilled, interceptor.rejected);<br>  &#125;);<br><br>  <span class="hljs-comment">// ä»»åŠ¡è°ƒåº¦</span><br>  <span class="hljs-keyword">while</span> (chain.length) &#123;<br>    promise = promise.then(chain.shift(), chain.shift());<br>  &#125;<br><br>  <span class="hljs-keyword">return</span> promise;<br>&#125;;<br></code></pre></td></tr></table></figure><h2 id="äº”ã€ä»»åŠ¡è°ƒåº¦"><a href="#äº”ã€ä»»åŠ¡è°ƒåº¦" class="headerlink" title="äº”ã€ä»»åŠ¡è°ƒåº¦"></a>äº”ã€ä»»åŠ¡è°ƒåº¦</h2><p>axiosä¸­å…·ä½“çš„è°ƒåº¦æ–¹å¼å¾ˆç®€å•ï¼Œå…·ä½“å¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"> <span class="hljs-comment">// lib/core/Axios.js</span><br>Axios.prototype.request = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">request</span>(<span class="hljs-params">config</span>) </span>&#123;<br>  <span class="hljs-comment">// çœç•¥éƒ¨åˆ†ä»£ç </span><br>  <span class="hljs-keyword">var</span> promise = <span class="hljs-built_in">Promise</span>.resolve(config);<br>  <span class="hljs-keyword">while</span> (chain.length) &#123;<br>    promise = promise.then(chain.shift(), chain.shift());<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>å› ä¸ºchainæ˜¯æ•°ç»„ï¼Œæ‰€ä»¥å¯ä»¥é€šè¿‡whileè¯­å¥ä¸æ–­åœ°å–å‡ºè®¾ç½®çš„ä»»åŠ¡ï¼Œç„¶åç»„è£…æˆPromiseè°ƒç”¨é“¾ä»è€Œå®ç°ä»»åŠ¡è°ƒåº¦ã€‚</p><p>Axiosé€šè¿‡æä¾›æ‹¦æˆªå™¨æœºåˆ¶ï¼Œè®©å¼€å‘è€…å¯ä»¥å¾ˆå®¹æ˜“çš„åœ¨è¯·æ±‚çš„ç”Ÿå‘½å‘¨æœŸä¸­è‡ªå®šä¹‰ä¸åŒçš„å¤„ç†é€»è¾‘ï¼Œæ¯”å¦‚Axiosç”Ÿæ€ä¸­åˆ—ä¸¾çš„axios-response-loggerå’Œaxios-debug-logè¿™ä¸¤ä¸ªåº“ã€‚</p><h2 id="å…­ã€HTTPé€‚é…çš„è®¾è®¡ä¸å®ç°"><a href="#å…­ã€HTTPé€‚é…çš„è®¾è®¡ä¸å®ç°" class="headerlink" title="å…­ã€HTTPé€‚é…çš„è®¾è®¡ä¸å®ç°"></a>å…­ã€HTTPé€‚é…çš„è®¾è®¡ä¸å®ç°</h2><p>axiosåŒæ—¶æ”¯æŒæµè§ˆå™¨å’ŒNode.jsç¯å¢ƒï¼Œå¯¹äºæµè§ˆå™¨å¯ä»¥é€šè¿‡<code>XMLHttpRequest</code>æˆ–<code>fetch</code>APIæ¥å‘é€HTTPè¯·æ±‚ï¼Œè€Œå¯¹äºNode.jsç¯å¢ƒæ¥è¯´ï¼Œå¯ä»¥é€šè¿‡Node.jså†…ç½®<code>http</code>æˆ–<code>https</code>æ¨¡å—æ¥å‘é€HTTPè¯·æ±‚ã€‚</p><p>åœ¨HTTPæ‹¦æˆªå™¨è®¾è®¡éƒ¨åˆ†ï¼Œæœ‰<code>dispatchRequest</code>æ–¹æ³•ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// lib/core/dispatchRequest.js</span><br><span class="hljs-built_in">module</span>.exports = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">dispatchRequest</span>(<span class="hljs-params">config</span>) </span>&#123;<br>  <span class="hljs-comment">// çœç•¥éƒ¨åˆ†ä»£ç </span><br>  <span class="hljs-keyword">var</span> adapter = config.adapter || defaults.adapter;<br>  <br>  <span class="hljs-keyword">return</span> adapter(config).then(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">onAdapterResolution</span>(<span class="hljs-params">response</span>) </span>&#123;<br>    <span class="hljs-comment">// çœç•¥éƒ¨åˆ†ä»£ç </span><br>    <span class="hljs-keyword">return</span> response;<br>  &#125;, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">onAdapterRejection</span>(<span class="hljs-params">reason</span>) </span>&#123;<br>    <span class="hljs-comment">// çœç•¥éƒ¨åˆ†ä»£ç </span><br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">Promise</span>.reject(reason);<br>  &#125;);<br>&#125;;<br></code></pre></td></tr></table></figure><p>é»˜è®¤çš„é€‚é…å™¨å°±ä¼šåŒ…å«æµè§ˆå™¨å’ŒNode.jsç¯å¢ƒçš„é€‚é…ä»£ç ï¼Œå…¶å…·ä½“çš„é€‚é…é€»è¾‘å¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// lib/defaults.js</span><br><span class="hljs-keyword">var</span> defaults = &#123;<br>  <span class="hljs-attr">adapter</span>: getDefaultAdapter(),<br>  <span class="hljs-attr">xsrfCookieName</span>: <span class="hljs-string">&#x27;XSRF-TOKEN&#x27;</span>,<br>  <span class="hljs-attr">xsrfHeaderName</span>: <span class="hljs-string">&#x27;X-XSRF-TOKEN&#x27;</span>,<br>  <span class="hljs-comment">//...</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getDefaultAdapter</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-keyword">var</span> adapter;<br>  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> XMLHttpRequest !== <span class="hljs-string">&#x27;undefined&#x27;</span>) &#123;<br>    <span class="hljs-comment">// For browsers use XHR adapter</span><br>    adapter = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;./adapters/xhr&#x27;</span>);<br>  &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> process !== <span class="hljs-string">&#x27;undefined&#x27;</span> &amp;&amp; <br>    <span class="hljs-built_in">Object</span>.prototype.toString.call(process) === <span class="hljs-string">&#x27;[object process]&#x27;</span>) &#123;<br>    <span class="hljs-comment">// For node use HTTP adapter</span><br>    adapter = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;./adapters/http&#x27;</span>);<br>  &#125;<br>  <span class="hljs-keyword">return</span> adapter;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="ä¸ƒã€Axios-CSRFé˜²å¾¡"><a href="#ä¸ƒã€Axios-CSRFé˜²å¾¡" class="headerlink" title="ä¸ƒã€Axios CSRFé˜²å¾¡"></a>ä¸ƒã€Axios CSRFé˜²å¾¡</h2><p>Axios æä¾›äº† <code>xsrfCookieName</code> å’Œ <code>xsrfHeaderName</code> ä¸¤ä¸ªå±æ€§æ¥åˆ†åˆ«è®¾ç½® CSRF çš„ Cookie åç§°å’Œ HTTP è¯·æ±‚å¤´çš„åç§°ï¼Œå®ƒä»¬çš„é»˜è®¤å€¼å¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// lib/defaults.js</span><br><span class="hljs-keyword">var</span> defaults = &#123;<br>  <span class="hljs-attr">adapter</span>: getDefaultAdapter(),<br><br>  <span class="hljs-comment">// çœç•¥éƒ¨åˆ†ä»£ç </span><br>  <span class="hljs-attr">xsrfCookieName</span>: <span class="hljs-string">&#x27;XSRF-TOKEN&#x27;</span>,<br>  <span class="hljs-attr">xsrfHeaderName</span>: <span class="hljs-string">&#x27;X-XSRF-TOKEN&#x27;</span>,<br>&#125;;<br></code></pre></td></tr></table></figure><p>åœ¨æµè§ˆå™¨ä¸­ï¼ŒAxiosé˜²å¾¡CSRFæ”»å‡»ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// lib/adapters/xhr.js</span><br><span class="hljs-built_in">module</span>.exports = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">xhrAdapter</span>(<span class="hljs-params">config</span>) </span>&#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">dispatchXhrRequest</span>(<span class="hljs-params">resolve, reject</span>) </span>&#123;<br>    <span class="hljs-keyword">var</span> requestHeaders = config.headers;<br>    <br>    <span class="hljs-keyword">var</span> request = <span class="hljs-keyword">new</span> XMLHttpRequest();<br>    <span class="hljs-comment">// çœç•¥éƒ¨åˆ†ä»£ç </span><br>    <br>    <span class="hljs-comment">// æ·»åŠ xsrfå¤´éƒ¨</span><br>    <span class="hljs-keyword">if</span> (utils.isStandardBrowserEnv()) &#123;<br>      <span class="hljs-keyword">var</span> xsrfValue = (config.withCredentials || isURLSameOrigin(fullPath)) &amp;&amp; config.xsrfCookieName ?<br>        cookies.read(config.xsrfCookieName) :<br>        <span class="hljs-literal">undefined</span>;<br><br>      <span class="hljs-keyword">if</span> (xsrfValue) &#123;<br>        requestHeaders[config.xsrfHeaderName] = xsrfValue;<br>      &#125;<br>    &#125;<br><br>    request.send(requestData);<br>  &#125;);<br>&#125;;<br></code></pre></td></tr></table></figure><h2 id="å…«ã€æºç åˆ†ææ€»ç»“"><a href="#å…«ã€æºç åˆ†ææ€»ç»“" class="headerlink" title="å…«ã€æºç åˆ†ææ€»ç»“"></a>å…«ã€æºç åˆ†ææ€»ç»“</h2><p>axioså’ŒAxios</p><p>1.ä»è¯­æ³•ä¸Šè¯´ï¼šaxiosä¸æ˜¯Axiosçš„å®ä¾‹</p><p>2.ä»åŠŸèƒ½ä¸Šè¯´ï¼šaxiosæ˜¯Axiosçš„å®ä¾‹</p><p>3.axiosæ˜¯Axios.prototype.requestå‡½æ•°çš„bindï¼ˆï¼‰è¿”å›çš„å‡½æ•°</p><p>4.axiosä½œä¸ºå¯¹è±¡æœ‰AxiosåŸå‹å¯¹è±¡ä¸Šçš„æ‰€æœ‰æ–¹æ³•ï¼Œ æœ‰Axioså¯¹è±¡ä¸Šæ‰€æœ‰å±æ€§</p><p>instanceä¸axiosçš„åŒºåˆ«</p><p>ç›¸åŒï¼š</p><p>ï¼ˆ1ï¼‰éƒ½æ˜¯ä¸€ä¸ªèƒ½å‘ä»»æ„è¯·æ±‚çš„å‡½æ•°ï¼šrequestï¼ˆconfigï¼‰</p><p>ï¼ˆ2ï¼‰éƒ½æ˜¯å‘ç‰¹å®šè¯·æ±‚çš„å„ç§æ–¹æ³•ï¼šget()/post()/put()/delete()</p><p>ï¼ˆ3ï¼‰éƒ½æ˜¯é»˜è®¤é…ç½®å’Œæ‹¦æˆªå™¨çš„å±æ€§ï¼šdefalts/interceptors</p><p>ä¸åŒï¼š</p><p>ï¼ˆ1ï¼‰é»˜è®¤é…ç½®å¾ˆå¯èƒ½ä¸ä¸€æ ·</p><p>ï¼ˆ2ï¼‰instanceæ²¡æœ‰axiosåé¢æ·»åŠ çš„ä¸€äº›æ–¹æ³•ï¼šcreate()/CancelToken()/all()</p><p> è¯·æ±‚æ‹¦æˆªä¸å“åº”æ‹¦æˆª</p><p>å¦‚æœè®¾ç½®äº†å¤šä¸ªè¯·æ±‚æ‹¦æˆªå™¨ï¼Œåè®¾ç½®çš„å…ˆæ‰§è¡Œ</p><p>å¦‚æœè®¾ç½®äº†å¤šä¸ªå“åº”æ‹¦æˆªå™¨ï¼Œå…ˆè®¾ç½®çš„å…ˆæ‰§è¡Œ</p><p>dispatchRequestä¸»è¦åšäº†å¦‚ä¸‹å‡ ä»¶äº‹ï¼š</p><p>1.å¦‚æœå·²ç»å–æ¶ˆï¼Œåˆ™ <code>throw</code> åŸå› æŠ¥é”™ï¼Œä½¿<code>Promise</code>èµ°å‘<code>rejected</code>ã€‚<br> 2.ç¡®ä¿ <code>config.header</code> å­˜åœ¨ã€‚<br> 3.åˆ©ç”¨ç”¨æˆ·è®¾ç½®çš„å’Œé»˜è®¤çš„è¯·æ±‚è½¬æ¢å™¨è½¬æ¢æ•°æ®ã€‚<br> 4.æ‹å¹³ <code>config.header</code>ã€‚<br> 5.åˆ é™¤ä¸€äº› <code>config.header</code>ã€‚<br> 6.è¿”å›é€‚é…å™¨<code>adapter</code>ï¼ˆ<code>Promise</code>å®ä¾‹ï¼‰æ‰§è¡Œå <code>then</code>æ‰§è¡Œåçš„ <code>Promise</code>å®ä¾‹ã€‚è¿”å›ç»“æœä¼ é€’ç»™å“åº”æ‹¦æˆªå™¨å¤„ç†ã€‚</p><p>è½¬æ¢å™¨åšçš„äº‹æƒ…å®Œå…¨å¯ä»¥ç”±æ‹¦æˆªå™¨å»åš</p><p>å–æ¶ˆæµç¨‹è°ƒç”¨æ ˆï¼š</p><p>1.source.cancel()<br>2.resolvePromise(token.reason);<br>3.config.cancelToken.promise.then(function onCanceled(cancel) {})</p><p>ä¸»è¦æ˜¯é€šè¿‡ä¼ é€’é…ç½®å‚æ•°cancelTokenï¼Œå–æ¶ˆæ—¶æ‰ä¼šç”ŸæˆcancelTokenï¼Œåˆ¤æ–­æœ‰ï¼Œåˆ™æŠ›å‡ºé”™è¯¯ï¼Œæ—¶Promiseèµ°å‘rejectedï¼Œè®©ç”¨æˆ·æ•è·åˆ°æ¶ˆæ¯ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>å­¦ä¹ ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>JavaScript</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å¸¸è§çš„ dom æ“ä½œ</title>
    <link href="/dylan/2022/02/09/dom/"/>
    <url>/dylan/2022/02/09/dom/</url>
    
    <content type="html"><![CDATA[<h2 id="ä¸€ã€DOM"><a href="#ä¸€ã€DOM" class="headerlink" title="ä¸€ã€DOM"></a>ä¸€ã€DOM</h2><p>æ–‡æ¡£å¯¹è±¡æ¨¡å‹ (DOM) æ˜¯ <code>HTML</code> å’Œ <code>XML</code> æ–‡æ¡£çš„ç¼–ç¨‹æ¥å£</p><p>å®ƒæä¾›äº†å¯¹æ–‡æ¡£çš„ç»“æ„åŒ–çš„è¡¨è¿°ï¼Œå¹¶å®šä¹‰äº†ä¸€ç§æ–¹å¼å¯ä»¥ä½¿ä»ç¨‹åºä¸­å¯¹è¯¥ç»“æ„è¿›è¡Œè®¿é—®ï¼Œä»è€Œæ”¹å˜æ–‡æ¡£çš„ç»“æ„ï¼Œæ ·å¼å’Œå†…å®¹</p><p>ä»»ä½• <code>HTML </code>æˆ–<code>XML</code>æ–‡æ¡£éƒ½å¯ä»¥ç”¨ <code>DOM </code>è¡¨ç¤ºä¸ºä¸€ä¸ªç”±èŠ‚ç‚¹æ„æˆçš„å±‚çº§ç»“æ„</p><p>èŠ‚ç‚¹åˆ†å¾ˆå¤šç±»å‹ï¼Œæ¯ç§ç±»å‹å¯¹åº”ç€æ–‡æ¡£ä¸­ä¸åŒçš„ä¿¡æ¯å’Œï¼ˆæˆ–ï¼‰æ ‡è®°ï¼Œä¹Ÿéƒ½æœ‰è‡ªå·±ä¸åŒçš„ç‰¹æ€§ã€æ•°æ®å’Œæ–¹æ³•ï¼Œè€Œä¸”ä¸å…¶ä»–ç±»å‹æœ‰æŸç§å…³ç³»ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Page<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Hello World!&lt;/p &gt;<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><p><code>DOM</code>åƒåŸå­åŒ…å«ç€äºšåŸå­å¾®ç²’é‚£æ ·ï¼Œä¹Ÿæœ‰å¾ˆå¤šç±»å‹çš„<code>DOM</code>èŠ‚ç‚¹åŒ…å«ç€å…¶ä»–ç±»å‹çš„èŠ‚ç‚¹ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å…ˆçœ‹çœ‹å…¶ä¸­çš„ä¸‰ç§ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">title</span>=<span class="hljs-string">&quot;title&quot;</span>&gt;</span><br>        content<br>    &lt;/p &gt;<br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure><p>ä¸Šè¿°ç»“æ„ä¸­ï¼Œ<code>div</code>ã€<code>p</code>å°±æ˜¯å…ƒç´ èŠ‚ç‚¹ï¼Œ<code>content</code>å°±æ˜¯æ–‡æœ¬èŠ‚ç‚¹ï¼Œ<code>title</code>å°±æ˜¯å±æ€§èŠ‚ç‚¹</p><h2 id="äºŒã€æ“ä½œ"><a href="#äºŒã€æ“ä½œ" class="headerlink" title="äºŒã€æ“ä½œ"></a>äºŒã€æ“ä½œ</h2><p>æ—¥å¸¸å‰ç«¯å¼€å‘ï¼Œæˆ‘ä»¬éƒ½ç¦»ä¸å¼€<code>DOM</code>æ“ä½œ</p><p>åœ¨ä»¥å‰ï¼Œæˆ‘ä»¬ä½¿ç”¨<code>Jquery</code>ï¼Œ<code>zepto</code>ç­‰åº“æ¥æ“ä½œ<code>DOM</code>ï¼Œä¹‹ååœ¨<code>vue</code>ï¼Œ<code>Angular</code>ï¼Œ<code>React</code>ç­‰æ¡†æ¶å‡ºç°åï¼Œæˆ‘ä»¬é€šè¿‡æ“ä½œæ•°æ®æ¥æ§åˆ¶<code>DOM</code>ï¼ˆç»å¤§å¤šæ•°æ—¶å€™ï¼‰ï¼Œè¶Šæ¥è¶Šå°‘çš„å»ç›´æ¥æ“ä½œ<code>DOM</code></p><p>ä½†è¿™å¹¶ä¸ä»£è¡¨åŸç”Ÿæ“ä½œä¸é‡è¦ã€‚ç›¸åï¼Œ<code>DOM</code>æ“ä½œæ‰èƒ½æœ‰åŠ©äºæˆ‘ä»¬ç†è§£æ¡†æ¶æ·±å±‚çš„å†…å®¹</p><p>ä¸‹é¢å°±æ¥åˆ†æ<code>DOM</code>å¸¸è§çš„æ“ä½œï¼Œä¸»è¦åˆ†ä¸ºï¼š</p><ul><li>åˆ›å»ºèŠ‚ç‚¹</li><li>æŸ¥è¯¢èŠ‚ç‚¹</li><li>æ›´æ–°èŠ‚ç‚¹</li><li>æ·»åŠ èŠ‚ç‚¹</li><li>åˆ é™¤èŠ‚ç‚¹</li></ul><h3 id="åˆ›å»ºèŠ‚ç‚¹"><a href="#åˆ›å»ºèŠ‚ç‚¹" class="headerlink" title="åˆ›å»ºèŠ‚ç‚¹"></a>åˆ›å»ºèŠ‚ç‚¹</h3><h4 id="createElement"><a href="#createElement" class="headerlink" title="createElement"></a>createElement</h4><p>åˆ›å»ºæ–°å…ƒç´ ï¼Œæ¥å—ä¸€ä¸ªå‚æ•°ï¼Œå³è¦åˆ›å»ºå…ƒç´ çš„æ ‡ç­¾å</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> divEl = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">&quot;div&quot;</span>);<br></code></pre></td></tr></table></figure><h4 id="createTextNode"><a href="#createTextNode" class="headerlink" title="createTextNode"></a>createTextNode</h4><p>åˆ›å»ºä¸€ä¸ªæ–‡æœ¬èŠ‚ç‚¹</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> textEl = <span class="hljs-built_in">document</span>.createTextNode(<span class="hljs-string">&quot;content&quot;</span>);<br></code></pre></td></tr></table></figure><h4 id="createDocumentFragment"><a href="#createDocumentFragment" class="headerlink" title="createDocumentFragment"></a>createDocumentFragment</h4><p>ç”¨æ¥åˆ›å»ºä¸€ä¸ªæ–‡æ¡£ç¢ç‰‡ï¼Œå®ƒè¡¨ç¤ºä¸€ç§è½»é‡çº§çš„æ–‡æ¡£ï¼Œä¸»è¦æ˜¯ç”¨æ¥å­˜å‚¨ä¸´æ—¶èŠ‚ç‚¹ï¼Œç„¶åæŠŠæ–‡æ¡£ç¢ç‰‡çš„å†…å®¹ä¸€æ¬¡æ€§æ·»åŠ åˆ°<code>DOM</code>ä¸­</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> fragment = <span class="hljs-built_in">document</span>.createDocumentFragment();<br></code></pre></td></tr></table></figure><p>å½“è¯·æ±‚æŠŠä¸€ä¸ª<code>DocumentFragment</code> èŠ‚ç‚¹æ’å…¥æ–‡æ¡£æ ‘æ—¶ï¼Œæ’å…¥çš„ä¸æ˜¯ <code>DocumentFragment </code>è‡ªèº«ï¼Œè€Œæ˜¯å®ƒçš„æ‰€æœ‰å­å­™èŠ‚ç‚¹</p><h4 id="createAttribute"><a href="#createAttribute" class="headerlink" title="createAttribute"></a>createAttribute</h4><p>åˆ›å»ºå±æ€§èŠ‚ç‚¹ï¼Œå¯ä»¥æ˜¯è‡ªå®šä¹‰å±æ€§</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> dataAttribute = <span class="hljs-built_in">document</span>.createAttribute(<span class="hljs-string">&#x27;custom&#x27;</span>);<br>consle.log(dataAttribute);<br></code></pre></td></tr></table></figure><h3 id="è·å–èŠ‚ç‚¹"><a href="#è·å–èŠ‚ç‚¹" class="headerlink" title="è·å–èŠ‚ç‚¹"></a>è·å–èŠ‚ç‚¹</h3><h4 id="querySelector"><a href="#querySelector" class="headerlink" title="querySelector"></a>querySelector</h4><p>ä¼ å…¥ä»»ä½•æœ‰æ•ˆçš„<code> css</code> é€‰æ‹©å™¨ï¼Œå³å¯é€‰ä¸­å•ä¸ª <code>DOM </code>å…ƒç´ ï¼ˆé¦–ä¸ªï¼‰ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">&#x27;.element&#x27;</span>)<br><span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">&#x27;#element&#x27;</span>)<br><span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">&#x27;div&#x27;</span>)<br><span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">&#x27;[name=&quot;username&quot;]&#x27;</span>)<br><span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">&#x27;div + p &gt; span&#x27;</span>)<br></code></pre></td></tr></table></figure><p>å¦‚æœé¡µé¢ä¸Šæ²¡æœ‰æŒ‡å®šçš„å…ƒç´ æ—¶ï¼Œè¿”å› <code>null</code></p><h4 id="querySelectorAll"><a href="#querySelectorAll" class="headerlink" title="querySelectorAll"></a>querySelectorAll</h4><p>è¿”å›ä¸€ä¸ªåŒ…å«èŠ‚ç‚¹å­æ ‘å†…æ‰€æœ‰ä¸ä¹‹ç›¸åŒ¹é…çš„<code>Element</code>èŠ‚ç‚¹åˆ—è¡¨ï¼Œå¦‚æœæ²¡æœ‰ç›¸åŒ¹é…çš„ï¼Œåˆ™è¿”å›ä¸€ä¸ªç©ºèŠ‚ç‚¹åˆ—è¡¨</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> notLive = <span class="hljs-built_in">document</span>.querySelectorAll(<span class="hljs-string">&quot;p&quot;</span>);<br></code></pre></td></tr></table></figure><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¯¥æ–¹æ³•è¿”å›çš„æ˜¯ä¸€ä¸ª <code>NodeList </code>çš„é™æ€å®ä¾‹ï¼Œå®ƒæ˜¯ä¸€ä¸ªé™æ€çš„â€œå¿«ç…§â€ï¼Œè€Œéâ€œå®æ—¶â€çš„æŸ¥è¯¢</p><p>å…³äºè·å–<code>DOM</code>å…ƒç´ çš„æ–¹æ³•è¿˜æœ‰å¦‚ä¸‹ï¼Œå°±ä¸ä¸€ä¸€è¿°è¯´</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&#x27;idå±æ€§å€¼&#x27;</span>);è¿”å›æ‹¥æœ‰æŒ‡å®šidçš„å¯¹è±¡çš„å¼•ç”¨<br><span class="hljs-built_in">document</span>.getElementsByClassName(<span class="hljs-string">&#x27;classå±æ€§å€¼&#x27;</span>);è¿”å›æ‹¥æœ‰æŒ‡å®š<span class="hljs-class"><span class="hljs-keyword">class</span>çš„å¯¹è±¡é›†åˆ</span><br><span class="hljs-class"><span class="hljs-title">document</span>.<span class="hljs-title">getElementsByTagName</span>(&#x27;æ ‡ç­¾å&#x27;)</span>;è¿”å›æ‹¥æœ‰æŒ‡å®šæ ‡ç­¾åçš„å¯¹è±¡é›†åˆ<br><span class="hljs-built_in">document</span>.getElementsByName(<span class="hljs-string">&#x27;nameå±æ€§å€¼&#x27;</span>); è¿”å›æ‹¥æœ‰æŒ‡å®šåç§°çš„å¯¹è±¡ç»“åˆ<br><span class="hljs-built_in">document</span>/element.querySelector(<span class="hljs-string">&#x27;CSSé€‰æ‹©å™¨&#x27;</span>);  ä»…è¿”å›ç¬¬ä¸€ä¸ªåŒ¹é…çš„å…ƒç´ <br><span class="hljs-built_in">document</span>/element.querySelectorAll(<span class="hljs-string">&#x27;CSSé€‰æ‹©å™¨&#x27;</span>);   è¿”å›æ‰€æœ‰åŒ¹é…çš„å…ƒç´ <br><span class="hljs-built_in">document</span>.documentElement;  è·å–é¡µé¢ä¸­çš„HTMLæ ‡ç­¾<br><span class="hljs-built_in">document</span>.body; è·å–é¡µé¢ä¸­çš„BODYæ ‡ç­¾<br><span class="hljs-built_in">document</span>.all[<span class="hljs-string">&#x27;&#x27;</span>];  è·å–é¡µé¢ä¸­çš„æ‰€æœ‰å…ƒç´ èŠ‚ç‚¹çš„å¯¹è±¡é›†åˆå‹<br></code></pre></td></tr></table></figure><p>é™¤æ­¤ä¹‹å¤–ï¼Œæ¯ä¸ª<code>DOM</code>å…ƒç´ è¿˜æœ‰<code>parentNode</code>ã€<code>childNodes</code>ã€<code>firstChild</code>ã€<code>lastChild</code>ã€<code>nextSibling</code>ã€<code>previousSibling</code>å±æ€§ï¼Œå…³ç³»å›¾å¦‚ä¸‹å›¾æ‰€ç¤º</p><p><img src="/dylan/imgs/dom/1.png" alt="å›¾1"></p><h3 id="æ›´æ–°èŠ‚ç‚¹"><a href="#æ›´æ–°èŠ‚ç‚¹" class="headerlink" title="æ›´æ–°èŠ‚ç‚¹"></a>æ›´æ–°èŠ‚ç‚¹</h3><h4 id="innerHTML"><a href="#innerHTML" class="headerlink" title="innerHTML"></a>innerHTML</h4><p>ä¸ä½†å¯ä»¥ä¿®æ”¹ä¸€ä¸ª<code>DOM</code>èŠ‚ç‚¹çš„æ–‡æœ¬å†…å®¹ï¼Œè¿˜å¯ä»¥ç›´æ¥é€šè¿‡<code>HTML</code>ç‰‡æ®µä¿®æ”¹<code>DOM</code>èŠ‚ç‚¹å†…éƒ¨çš„å­æ ‘</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// è·å–&lt;p id=&quot;p&quot;&gt;...&lt;/p &gt;</span><br><span class="hljs-keyword">var</span> p = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&#x27;p&#x27;</span>);<br><span class="hljs-comment">// è®¾ç½®æ–‡æœ¬ä¸ºabc:</span><br>p.innerHTML = <span class="hljs-string">&#x27;ABC&#x27;</span>; <span class="hljs-comment">// &lt;p id=&quot;p&quot;&gt;ABC&lt;/p &gt;</span><br><span class="hljs-comment">// è®¾ç½®HTML:</span><br>p.innerHTML = <span class="hljs-string">&#x27;ABC &lt;span style=&quot;color:red&quot;&gt;RED&lt;/span&gt; XYZ&#x27;</span>;<br><span class="hljs-comment">// &lt;p&gt;...&lt;/p &gt;çš„å†…éƒ¨ç»“æ„å·²ä¿®æ”¹</span><br></code></pre></td></tr></table></figure><h4 id="innerTextã€textContent"><a href="#innerTextã€textContent" class="headerlink" title="innerTextã€textContent"></a>innerTextã€textContent</h4><p>è‡ªåŠ¨å¯¹å­—ç¬¦ä¸²è¿›è¡Œ<code>HTML</code>ç¼–ç ï¼Œä¿è¯æ— æ³•è®¾ç½®ä»»ä½•<code>HTML</code>æ ‡ç­¾</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// è·å–&lt;p id=&quot;p-id&quot;&gt;...&lt;/p &gt;</span><br><span class="hljs-keyword">var</span> p = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&#x27;p-id&#x27;</span>);<br><span class="hljs-comment">// è®¾ç½®æ–‡æœ¬:</span><br>p.innerText = <span class="hljs-string">&#x27;&lt;script&gt;alert(&quot;Hi&quot;)&lt;/script&gt;&#x27;</span>;<br><span class="hljs-comment">// HTMLè¢«è‡ªåŠ¨ç¼–ç ï¼Œæ— æ³•è®¾ç½®ä¸€ä¸ª&lt;script&gt;èŠ‚ç‚¹:</span><br><span class="hljs-comment">// &lt;p id=&quot;p-id&quot;&gt;&amp;lt;script&amp;gt;alert(&quot;Hi&quot;)&amp;lt;/script&amp;gt;&lt;/p &gt;</span><br></code></pre></td></tr></table></figure><p>ä¸¤è€…çš„åŒºåˆ«åœ¨äºè¯»å–å±æ€§æ—¶ï¼Œ<code>innerText</code>ä¸è¿”å›éšè—å…ƒç´ çš„æ–‡æœ¬ï¼Œè€Œ<code>textContent</code>è¿”å›æ‰€æœ‰æ–‡æœ¬</p><h4 id="style"><a href="#style" class="headerlink" title="style"></a>style</h4><p><code>DOM</code>èŠ‚ç‚¹çš„<code>style</code>å±æ€§å¯¹åº”æ‰€æœ‰çš„<code>CSS</code>ï¼Œå¯ä»¥ç›´æ¥è·å–æˆ–è®¾ç½®ã€‚é‡åˆ°<code>-</code>éœ€è¦è½¬åŒ–ä¸ºé©¼å³°å‘½å</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// è·å–&lt;p id=&quot;p-id&quot;&gt;...&lt;/p &gt;</span><br><span class="hljs-keyword">const</span> p = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&#x27;p-id&#x27;</span>);<br><span class="hljs-comment">// è®¾ç½®CSS:</span><br>p.style.color = <span class="hljs-string">&#x27;#ff0000&#x27;</span>;<br>p.style.fontSize = <span class="hljs-string">&#x27;20px&#x27;</span>; <span class="hljs-comment">// é©¼å³°å‘½å</span><br>p.style.paddingTop = <span class="hljs-string">&#x27;2em&#x27;</span>;<br></code></pre></td></tr></table></figure><h3 id="æ·»åŠ èŠ‚ç‚¹"><a href="#æ·»åŠ èŠ‚ç‚¹" class="headerlink" title="æ·»åŠ èŠ‚ç‚¹"></a>æ·»åŠ èŠ‚ç‚¹</h3><h4 id="innerHTML-1"><a href="#innerHTML-1" class="headerlink" title="innerHTML"></a>innerHTML</h4><p>å¦‚æœè¿™ä¸ªDOMèŠ‚ç‚¹æ˜¯ç©ºçš„ï¼Œä¾‹å¦‚ï¼Œ<code>&lt;div&gt;&lt;/div&gt;</code>ï¼Œé‚£ä¹ˆï¼Œç›´æ¥ä½¿ç”¨<code>innerHTML = &#39;&lt;span&gt;child&lt;/span&gt;&#39;</code>å°±å¯ä»¥ä¿®æ”¹<code>DOM</code>èŠ‚ç‚¹çš„å†…å®¹ï¼Œç›¸å½“äºæ·»åŠ äº†æ–°çš„<code>DOM</code>èŠ‚ç‚¹</p><p>å¦‚æœè¿™ä¸ªDOMèŠ‚ç‚¹ä¸æ˜¯ç©ºçš„ï¼Œé‚£å°±ä¸èƒ½è¿™ä¹ˆåšï¼Œå› ä¸º<code>innerHTML</code>ä¼šç›´æ¥æ›¿æ¢æ‰åŸæ¥çš„æ‰€æœ‰å­èŠ‚ç‚¹</p><h4 id="appendChild"><a href="#appendChild" class="headerlink" title="appendChild"></a>appendChild</h4><p>æŠŠä¸€ä¸ªå­èŠ‚ç‚¹æ·»åŠ åˆ°çˆ¶èŠ‚ç‚¹çš„æœ€åä¸€ä¸ªå­èŠ‚ç‚¹</p><p>ä¸¾ä¸ªä¾‹å­</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!-- HTMLç»“æ„ --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;js&quot;</span>&gt;</span>JavaScript&lt;/p &gt;<br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;list&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;java&quot;</span>&gt;</span>Java&lt;/p &gt;<br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;python&quot;</span>&gt;</span>Python&lt;/p &gt;<br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;scheme&quot;</span>&gt;</span>Scheme&lt;/p &gt;<br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure><p>æ·»åŠ ä¸€ä¸ª<code>p</code>å…ƒç´ </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> js = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&#x27;js&#x27;</span>)<br>js.innerHTML = <span class="hljs-string">&quot;JavaScript&quot;</span><br><span class="hljs-keyword">const</span> list = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&#x27;list&#x27;</span>);<br>list.appendChild(js);<br></code></pre></td></tr></table></figure><p>ç°åœ¨<code>HTML</code>ç»“æ„å˜æˆäº†ä¸‹é¢</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!-- HTMLç»“æ„ --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;list&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;java&quot;</span>&gt;</span>Java&lt;/p &gt;<br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;python&quot;</span>&gt;</span>Python&lt;/p &gt;<br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;scheme&quot;</span>&gt;</span>Scheme&lt;/p &gt;<br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;js&quot;</span>&gt;</span>JavaScript&lt;/p &gt;  <span class="hljs-comment">&lt;!-- æ·»åŠ å…ƒç´  --&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure><p>ä¸Šè¿°ä»£ç ä¸­ï¼Œæˆ‘ä»¬æ˜¯è·å–<code>DOM</code>å…ƒç´ åå†è¿›è¡Œæ·»åŠ æ“ä½œï¼Œè¿™ä¸ª<code>js</code>èŠ‚ç‚¹æ˜¯å·²ç»å­˜åœ¨å½“å‰æ–‡æ¡£æ ‘ä¸­ï¼Œå› æ­¤è¿™ä¸ªèŠ‚ç‚¹é¦–å…ˆä¼šä»åŸå…ˆçš„ä½ç½®åˆ é™¤ï¼Œå†æ’å…¥åˆ°æ–°çš„ä½ç½®</p><p>å¦‚æœåŠ¨æ€æ·»åŠ æ–°çš„èŠ‚ç‚¹ï¼Œåˆ™å…ˆåˆ›å»ºä¸€ä¸ªæ–°çš„èŠ‚ç‚¹ï¼Œç„¶åæ’å…¥åˆ°æŒ‡å®šçš„ä½ç½®</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> list = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&#x27;list&#x27;</span>),<br><span class="hljs-keyword">const</span> haskell = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">&#x27;p&#x27;</span>);<br>haskell.id = <span class="hljs-string">&#x27;haskell&#x27;</span>;<br>haskell.innerText = <span class="hljs-string">&#x27;Haskell&#x27;</span>;<br>list.appendChild(haskell);<br></code></pre></td></tr></table></figure><h4 id="insertBefore"><a href="#insertBefore" class="headerlink" title="insertBefore"></a>insertBefore</h4><p>æŠŠå­èŠ‚ç‚¹æ’å…¥åˆ°æŒ‡å®šçš„ä½ç½®ï¼Œä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">parentElement.insertBefore(newElement, referenceElement)<br></code></pre></td></tr></table></figure><p>å­èŠ‚ç‚¹ä¼šæ’å…¥åˆ°<code>referenceElement</code>ä¹‹å‰</p><h4 id="setAttribute"><a href="#setAttribute" class="headerlink" title="setAttribute"></a>setAttribute</h4><p>åœ¨æŒ‡å®šå…ƒç´ ä¸­æ·»åŠ ä¸€ä¸ªå±æ€§èŠ‚ç‚¹ï¼Œå¦‚æœå…ƒç´ ä¸­å·²æœ‰è¯¥å±æ€§æ”¹å˜å±æ€§å€¼</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> div = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&#x27;id&#x27;</span>)<br>div.setAttribute(<span class="hljs-string">&#x27;class&#x27;</span>, <span class="hljs-string">&#x27;white&#x27;</span>);<span class="hljs-comment">//ç¬¬ä¸€ä¸ªå‚æ•°å±æ€§åï¼Œç¬¬äºŒä¸ªå‚æ•°å±æ€§å€¼ã€‚</span><br></code></pre></td></tr></table></figure><h3 id="åˆ é™¤èŠ‚ç‚¹"><a href="#åˆ é™¤èŠ‚ç‚¹" class="headerlink" title="åˆ é™¤èŠ‚ç‚¹"></a>åˆ é™¤èŠ‚ç‚¹</h3><p>åˆ é™¤ä¸€ä¸ªèŠ‚ç‚¹ï¼Œé¦–å…ˆè¦è·å¾—è¯¥èŠ‚ç‚¹æœ¬èº«ä»¥åŠå®ƒçš„çˆ¶èŠ‚ç‚¹ï¼Œç„¶åï¼Œè°ƒç”¨çˆ¶èŠ‚ç‚¹çš„<code>removeChild</code>æŠŠè‡ªå·±åˆ æ‰</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// æ‹¿åˆ°å¾…åˆ é™¤èŠ‚ç‚¹:</span><br><span class="hljs-keyword">const</span> self = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&#x27;to-be-removed&#x27;</span>);<br><span class="hljs-comment">// æ‹¿åˆ°çˆ¶èŠ‚ç‚¹:</span><br><span class="hljs-keyword">const</span> parent = self.parentElement;<br><span class="hljs-comment">// åˆ é™¤:</span><br><span class="hljs-keyword">const</span> removed = parent.removeChild(self);<br>removed === self; <span class="hljs-comment">// true</span><br></code></pre></td></tr></table></figure><p>åˆ é™¤åçš„èŠ‚ç‚¹è™½ç„¶ä¸åœ¨æ–‡æ¡£æ ‘ä¸­äº†ï¼Œä½†å…¶å®å®ƒè¿˜åœ¨å†…å­˜ä¸­ï¼Œå¯ä»¥éšæ—¶å†æ¬¡è¢«æ·»åŠ åˆ°åˆ«çš„ä½ç½®</p>]]></content>
    
    
    <categories>
      
      <category>é¢è¯•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>HTML</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ajaxçš„ä½¿ç”¨ã€axiosäºŒæ¬¡å°è£…ã€fetchå°è£…</title>
    <link href="/dylan/2022/01/20/ajax/"/>
    <url>/dylan/2022/01/20/ajax/</url>
    
    <content type="html"><![CDATA[<h2 id="ä¼˜ç¼ºç‚¹"><a href="#ä¼˜ç¼ºç‚¹" class="headerlink" title="ä¼˜ç¼ºç‚¹"></a>ä¼˜ç¼ºç‚¹</h2><ol><li><p>ajax</p><p>ï¼ˆ1ï¼‰æœ¬èº«æ˜¯é’ˆå¯¹MVCçš„ç¼–ç¨‹,ä¸ç¬¦åˆç°åœ¨å‰ç«¯MVVMçš„æµªæ½®</p><p>ï¼ˆ2ï¼‰åŸºäºåŸç”Ÿçš„XHRå¼€å‘ï¼ŒXHRæœ¬èº«çš„æ¶æ„ä¸æ¸…æ™°ï¼Œå·²ç»æœ‰äº†fetchçš„æ›¿ä»£æ–¹æ¡ˆ</p><p>ï¼ˆ3ï¼‰JQueryæ•´ä¸ªé¡¹ç›®å¤ªå¤§ï¼Œå•çº¯ä½¿ç”¨ajaxå´è¦å¼•å…¥æ•´ä¸ªJQueryéå¸¸çš„ä¸åˆç†ï¼ˆé‡‡å–ä¸ªæ€§åŒ–æ‰“åŒ…çš„æ–¹æ¡ˆåˆä¸èƒ½äº«å—CDNæœåŠ¡ï¼‰</p></li><li><p>axios</p><p>ï¼ˆ1ï¼‰ä» node.js åˆ›å»º http è¯·æ±‚</p><p>ï¼ˆ2ï¼‰æ”¯æŒ Promise API</p><p>ï¼ˆ3ï¼‰å®¢æˆ·ç«¯æ”¯æŒé˜²æ­¢CSRF</p><p>ï¼ˆ4ï¼‰æä¾›äº†ä¸€äº›å¹¶å‘è¯·æ±‚çš„æ¥å£ï¼ˆé‡è¦ï¼Œæ–¹ä¾¿äº†å¾ˆå¤šçš„æ“ä½œï¼‰</p></li><li><p>fetch</p><p>ï¼ˆ1ï¼‰ç¬¦åˆå…³æ³¨åˆ†ç¦»ï¼Œæ²¡æœ‰å°†è¾“å…¥ã€è¾“å‡ºå’Œç”¨äº‹ä»¶æ¥è·Ÿè¸ªçš„çŠ¶æ€æ··æ‚åœ¨ä¸€ä¸ªå¯¹è±¡é‡Œ<br>ï¼ˆ2ï¼‰æ›´å¥½æ›´æ–¹ä¾¿çš„å†™æ³•<br>ï¼ˆ3ï¼‰æ›´åŠ åº•å±‚ï¼Œæä¾›çš„APIä¸°å¯Œï¼ˆrequest, responseï¼‰<br>ï¼ˆ4ï¼‰è„±ç¦»äº†XHRï¼Œæ˜¯ESè§„èŒƒé‡Œæ–°çš„å®ç°æ–¹å¼<br>ï¼ˆ5ï¼‰fetchtchåªå¯¹ç½‘ç»œè¯·æ±‚æŠ¥é”™ï¼Œå¯¹400ï¼Œ500éƒ½å½“åšæˆåŠŸçš„è¯·æ±‚ï¼Œéœ€è¦å°è£…å»å¤„ç†<br>ï¼ˆ6ï¼‰fetché»˜è®¤ä¸ä¼šå¸¦cookieï¼Œéœ€è¦æ·»åŠ é…ç½®é¡¹<br>ï¼ˆ7ï¼‰fetchä¸æ”¯æŒabortï¼Œä¸æ”¯æŒè¶…æ—¶æ§åˆ¶ï¼Œä½¿ç”¨setTimeoutåŠPromise.rejectçš„å®ç°çš„è¶…æ—¶æ§åˆ¶å¹¶ä¸èƒ½é˜»æ­¢è¯·æ±‚è¿‡ç¨‹ç»§ç»­åœ¨åå°è¿è¡Œï¼Œé€ æˆäº†é‡çš„æµªè´¹<br>ï¼ˆ8ï¼‰fetchæ²¡æœ‰åŠæ³•åŸç”Ÿç›‘æµ‹è¯·æ±‚çš„è¿›åº¦ï¼Œè€ŒXHRå¯ä»¥</p></li></ol><h2 id="ç®€æ˜“nodeæœåŠ¡å™¨"><a href="#ç®€æ˜“nodeæœåŠ¡å™¨" class="headerlink" title="ç®€æ˜“nodeæœåŠ¡å™¨"></a>ç®€æ˜“nodeæœåŠ¡å™¨</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> express = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;express&quot;</span>) <span class="hljs-comment">//npm i express</span><br><span class="hljs-keyword">var</span> app = express()<br><span class="hljs-keyword">var</span> bodyParser = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;body-parser&quot;</span>) <span class="hljs-comment">// npm i body-parser</span><br>app.use(bodyParser.urlencoded(&#123;<span class="hljs-attr">extended</span>:<span class="hljs-literal">false</span>&#125;)) <span class="hljs-comment">// postè¯·æ±‚è§£æbodyå†…å®¹å‚æ•°</span><br>app.use(bodyParser.json())<br>app.post(<span class="hljs-string">&#x27;/register&#x27;</span>,<span class="hljs-function">(<span class="hljs-params">req,res</span>)=&gt;</span>&#123;<br>    <span class="hljs-keyword">const</span> &#123;a,b&#125; = req.body<br>    res.header(<span class="hljs-string">&quot;Access-Control-Allow-Origin&quot;</span>, req.headers.origin) <span class="hljs-comment">// ç®€å•è§£å†³è·¨åŸŸ</span><br>    res.send(&#123;<span class="hljs-attr">code</span>:<span class="hljs-number">200</span>,<span class="hljs-attr">msg</span>:<span class="hljs-string">&#x27;æ³¨å†ŒæˆåŠŸ&#x27;</span>,<span class="hljs-attr">data</span>:&#123;a,b&#125;&#125;)<br>&#125;)<br>app.get(<span class="hljs-string">&#x27;/login&#x27;</span>,<span class="hljs-function">(<span class="hljs-params">req,res</span>)=&gt;</span>&#123;<br>    <span class="hljs-keyword">const</span> &#123;a,b&#125; = req.query<br>    res.header(<span class="hljs-string">&quot;Access-Control-Allow-Origin&quot;</span>, req.headers.origin)<br>    res.send(&#123;<span class="hljs-attr">code</span>:<span class="hljs-number">200</span>,<span class="hljs-attr">msg</span>:<span class="hljs-string">&#x27;ç™»å½•æˆåŠŸ&#x27;</span>,<span class="hljs-attr">data</span>:&#123;a,b&#125;&#125;)<br>&#125;)<br>app.listen(<span class="hljs-number">8011</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;å¯åŠ¨æˆåŠŸ&quot;</span>)<br>&#125;)<br></code></pre></td></tr></table></figure><p>å¯åŠ¨ä¸€ä¸ªç®€æ˜“nodeæœåŠ¡ä¾¿äºåè¾¹çš„httpè¯·æ±‚éªŒè¯</p><p><img src="/dylan/imgs/ajax/1.jpg" alt="1"></p><p><img src="/dylan/imgs/ajax/2.jpg" alt="2"></p><h2 id="ajaxä½¿ç”¨"><a href="#ajaxä½¿ç”¨" class="headerlink" title="ajaxä½¿ç”¨"></a>ajaxä½¿ç”¨</h2><p>html:</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;btn1&quot;</span>&gt;</span>å‘é€getè¯·æ±‚<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;btn2&quot;</span>&gt;</span>å‘é€postè¯·æ±‚<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br></code></pre></td></tr></table></figure><p>js:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><code class="hljs javascript">btn1.onclick = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>          <span class="hljs-comment">// 1. åˆ›å»ºå¯¹è±¡</span><br>          <span class="hljs-keyword">const</span> xhr = <span class="hljs-keyword">new</span> XMLHttpRequest();<br>          <span class="hljs-comment">// 2. åˆå§‹åŒ– è®¾ç½®è¯·æ±‚æ–¹æ³•å’Œurl</span><br>          xhr.open(<span class="hljs-string">&#x27;GET&#x27;</span>, <span class="hljs-string">&#x27;http://localhost:8011/login?a=100&amp;b=200&#x27;</span>);<br>          <span class="hljs-comment">// 3. å‘é€</span><br>          xhr.send();<br>          <span class="hljs-comment">// 4.äº‹ä»¶ç»‘å®š å¤„ç†æœåŠ¡å™¨è¿”å›çš„ç»“æœ</span><br>          <span class="hljs-comment">// on when å½“ ... çš„æ—¶å€™</span><br>          <span class="hljs-comment">// readystate æ˜¯xhrå¯¹è±¡ä¸­çš„å±æ€§ï¼Œè¡¨ç¤ºçŠ¶æ€ 0 1 2 3 4 </span><br>          <span class="hljs-comment">// 0 åˆå§‹åŒ–çš„å±æ€§çŠ¶æ€</span><br>          <span class="hljs-comment">// 1 openæ–¹æ³•å·²ç»è°ƒç”¨å®Œæ¯•</span><br>          <span class="hljs-comment">// 2 sendæ–¹æ³•è°ƒç”¨å®Œæ¯•</span><br>          <span class="hljs-comment">// 3 æœåŠ¡ç«¯è¿”å›äº†éƒ¨åˆ†ç»“æœ</span><br>          <span class="hljs-comment">// 4 æœåŠ¡ç«¯è¿”å›äº†æ‰€æœ‰çš„ç»“æœ</span><br>          <span class="hljs-comment">// change æ”¹å˜çš„æ—¶å€™è§¦å‘</span><br>          <span class="hljs-comment">// ä¸‹é¢çš„å‡½æ•°ä¼šè¢«è§¦å‘å››æ¬¡ï¼ŒçŠ¶æ€æ¯æ”¹å˜ä¸€æ¬¡ï¼Œå°±ä¼šè§¦å‘ä¸€æ¬¡</span><br>          xhr.onreadystatechange = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>              <span class="hljs-comment">// åˆ¤æ–­ï¼ˆæœåŠ¡ç«¯è¿”å›äº†æ‰€æœ‰çš„ç»“æœï¼‰</span><br>              <span class="hljs-keyword">if</span> (xhr.readyState === <span class="hljs-number">4</span>) &#123;<br>                  <span class="hljs-comment">// åˆ¤æ–­å“åº”çŠ¶æ€ç </span><br>                  <span class="hljs-keyword">if</span> (xhr.state &gt;= <span class="hljs-number">200</span> &amp;&amp; xhr.state &lt; <span class="hljs-number">300</span>) &#123;<br>                      <span class="hljs-comment">// å¤„ç†ç»“æœ</span><br>                      <span class="hljs-comment">// console.log(xhr.status); // çŠ¶æ€ç </span><br>                      <span class="hljs-comment">// console.log(xhr.statusText); // çŠ¶æ€å­—ç¬¦ä¸²</span><br>                      <span class="hljs-comment">// console.log(xhr.getAllResponseHeaders()); // æ‰€æœ‰å“åº”å¤´</span><br>                      <span class="hljs-comment">// console.log(xhr.response); // å“åº”ä½“</span><br>                      <span class="hljs-comment">// è®¾ç½®result çš„æ–‡æœ¬</span><br>                      result.innerHTML = xhr.response;<br>                  &#125;<br>              &#125;<br>          &#125;<br>      &#125;<br>      btn2.onclick = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>          <span class="hljs-keyword">const</span> xhr = <span class="hljs-keyword">new</span> XMLHttpRequest();<br>          xhr.open(<span class="hljs-string">&#x27;POST&#x27;</span>, <span class="hljs-string">&#x27;http://localhost:8011/register&#x27;</span>);<br>          xhr.setRequestHeader(<span class="hljs-string">&#x27;Content-Type&#x27;</span>, <span class="hljs-string">&#x27;application/x-www-form-urlencoded&#x27;</span>)<br>          xhr.send(<span class="hljs-string">&#x27;a=100&amp;b=200&#x27;</span>);<br>          xhr.onreadystatechange = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>              <span class="hljs-keyword">if</span> (xhr.readyState === <span class="hljs-number">4</span>) &#123;<br>                  <span class="hljs-keyword">if</span> (xhr.state &gt;= <span class="hljs-number">200</span> &amp;&amp; xhr.state &lt; <span class="hljs-number">300</span>) &#123;<br>                      result.innerHTML = xhr.response;<br>                  &#125;<br>              &#125;<br>          &#125;<br>      &#125;<br></code></pre></td></tr></table></figure><h2 id="axiosäºŒæ¬¡å°è£…"><a href="#axiosäºŒæ¬¡å°è£…" class="headerlink" title="axiosäºŒæ¬¡å°è£…"></a>axiosäºŒæ¬¡å°è£…</h2><p>åˆ©ç”¨nodeç¯å¢ƒåˆ¤æ–­è¯·æ±‚åœ°å€ï¼Œç”¨æ¥åŒºåˆ†å¼€å‘ã€ç”Ÿäº§ç¯å¢ƒ</p><p>ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">if</span> (process.env.NODE_ENV === <span class="hljs-string">&#x27;development&#x27;</span>) &#123;<br>  axios.defaults.baseURL = <span class="hljs-string">&#x27;http://dev.xxx.com&#x27;</span><br>&#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (process.env.NODE_ENV === <span class="hljs-string">&#x27;production&#x27;</span>) &#123;<br>  axios.defaults.baseURL = <span class="hljs-string">&#x27;http://prod.xxx.com&#x27;</span><br>&#125;<br></code></pre></td></tr></table></figure><p>åœ¨æœ¬åœ°è°ƒè¯•ä¸­ï¼Œåœ¨ vue.config.js æ–‡ä»¶ä¸­é…ç½® devServer å®ç°ä»£ç†è½¬å‘ï¼Œä»è€Œè§£å†³è·¨åŸŸé—®é¢˜</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs javascript">devServer: &#123;<br>    <span class="hljs-attr">proxy</span>: &#123;<br>      <span class="hljs-string">&#x27;/proxyApi&#x27;</span>: &#123;<br>        <span class="hljs-attr">target</span>: <span class="hljs-string">&#x27;http://dev.xxx.com&#x27;</span>,<br>        <span class="hljs-attr">changeOrigin</span>: <span class="hljs-literal">true</span>,<br>        <span class="hljs-attr">pathRewrite</span>: &#123;<br>          <span class="hljs-string">&#x27;/proxyApi&#x27;</span>: <span class="hljs-string">&#x27;&#x27;</span><br>        &#125;<br>      &#125;<br>    &#125;<br>  &#125;<br></code></pre></td></tr></table></figure><p>å°è£…è¯·æ±‚å¤´ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> service = axios.create(&#123;<br>    ...<br>    <span class="hljs-attr">timeout</span>: <span class="hljs-number">30000</span>,  <span class="hljs-comment">// è¯·æ±‚ 30s è¶…æ—¶</span><br>   <span class="hljs-attr">headers</span>: &#123;<br>        <span class="hljs-attr">get</span>: &#123;<br>          <span class="hljs-string">&#x27;Content-Type&#x27;</span>: <span class="hljs-string">&#x27;application/x-www-form-urlencoded;charset=utf-8&#x27;</span><br>          <span class="hljs-comment">// åœ¨å¼€å‘ä¸­ï¼Œä¸€èˆ¬è¿˜éœ€è¦å•ç‚¹ç™»å½•æˆ–è€…å…¶ä»–åŠŸèƒ½çš„é€šç”¨è¯·æ±‚å¤´ï¼Œå¯ä»¥ä¸€å¹¶é…ç½®è¿›æ¥</span><br>        &#125;,<br>        <span class="hljs-attr">post</span>: &#123;<br>          <span class="hljs-string">&#x27;Content-Type&#x27;</span>: <span class="hljs-string">&#x27;application/json;charset=utf-8&#x27;</span><br>          <span class="hljs-comment">// åœ¨å¼€å‘ä¸­ï¼Œä¸€èˆ¬è¿˜éœ€è¦å•ç‚¹ç™»å½•æˆ–è€…å…¶ä»–åŠŸèƒ½çš„é€šç”¨è¯·æ±‚å¤´ï¼Œå¯ä»¥ä¸€å¹¶é…ç½®è¿›æ¥</span><br>        &#125;<br>  &#125;,<br>&#125;)<br></code></pre></td></tr></table></figure><p>å°è£…è¯·æ±‚æ–¹æ³•ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// get è¯·æ±‚</span><br><span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">httpGet</span>(<span class="hljs-params">&#123;</span></span><br><span class="hljs-params"><span class="hljs-function">  url,</span></span><br><span class="hljs-params"><span class="hljs-function">  params = &#123;&#125;</span></span><br><span class="hljs-params"><span class="hljs-function">&#125;</span>) </span>&#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;<br>    axios.get(url, &#123;<br>      params<br>    &#125;).then(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> &#123;<br>      resolve(res.data)<br>    &#125;).catch(<span class="hljs-function"><span class="hljs-params">err</span> =&gt;</span> &#123;<br>      reject(err)<br>    &#125;)<br>  &#125;)<br>&#125;<br> <br><span class="hljs-comment">// post</span><br><span class="hljs-comment">// postè¯·æ±‚</span><br><span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">httpPost</span>(<span class="hljs-params">&#123;</span></span><br><span class="hljs-params"><span class="hljs-function">  url,</span></span><br><span class="hljs-params"><span class="hljs-function">  data = &#123;&#125;,</span></span><br><span class="hljs-params"><span class="hljs-function">  params = &#123;&#125;</span></span><br><span class="hljs-params"><span class="hljs-function">&#125;</span>) </span>&#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;<br>    axios(&#123;<br>      url,<br>      <span class="hljs-attr">method</span>: <span class="hljs-string">&#x27;post&#x27;</span>,<br>      <span class="hljs-attr">transformRequest</span>: [<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">data</span>) </span>&#123;<br>        <span class="hljs-keyword">let</span> ret = <span class="hljs-string">&#x27;&#x27;</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> it <span class="hljs-keyword">in</span> data) &#123;<br>          ret += <span class="hljs-built_in">encodeURIComponent</span>(it) + <span class="hljs-string">&#x27;=&#x27;</span> + <span class="hljs-built_in">encodeURIComponent</span>(data[it]) + <span class="hljs-string">&#x27;&amp;&#x27;</span><br>        &#125;<br>        <span class="hljs-keyword">return</span> ret<br>      &#125;],<br>      <span class="hljs-comment">// å‘é€çš„æ•°æ®</span><br>      data,<br>      <span class="hljs-comment">// urlå‚æ•°</span><br>      params<br> <br>    &#125;).then(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> &#123;<br>      resolve(res.data)<br>    &#125;)<br>  &#125;)<br>&#125;<br></code></pre></td></tr></table></figure><p>æŠŠå°è£…çš„æ–¹æ³•æ”¾åœ¨ä¸€ä¸ª api.js æ–‡ä»¶ä¸­</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> &#123; httpGet, httpPost &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./http&#x27;</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> getorglist = <span class="hljs-function">(<span class="hljs-params">params = &#123;&#125;</span>) =&gt;</span> httpGet(&#123; <span class="hljs-attr">url</span>: <span class="hljs-string">&#x27;apps/api/org/list&#x27;</span>, params &#125;)<br></code></pre></td></tr></table></figure><p>é¡µé¢ä¸­å°±èƒ½ç›´æ¥è°ƒç”¨</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// .vue</span><br><span class="hljs-keyword">import</span> &#123; getorglist &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@/assets/js/api&#x27;</span><br> <br>getorglist(&#123; <span class="hljs-attr">id</span>: <span class="hljs-number">200</span> &#125;).then(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> &#123;<br>  <span class="hljs-built_in">console</span>.log(res)<br>&#125;)<br></code></pre></td></tr></table></figure><p>è¯·æ±‚æ‹¦æˆªå™¨ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// è¯·æ±‚æ‹¦æˆªå™¨</span><br>axios.interceptors.request.use(<br>  <span class="hljs-function"><span class="hljs-params">config</span> =&gt;</span> &#123;<br>    <span class="hljs-comment">// æ¯æ¬¡å‘é€è¯·æ±‚ä¹‹å‰åˆ¤æ–­æ˜¯å¦å­˜åœ¨token</span><br>    <span class="hljs-comment">// å¦‚æœå­˜åœ¨ï¼Œåˆ™ç»Ÿä¸€åœ¨httpè¯·æ±‚çš„headeréƒ½åŠ ä¸Štokenï¼Œè¿™æ ·åå°æ ¹æ®tokenåˆ¤æ–­ä½ çš„ç™»å½•æƒ…å†µï¼Œæ­¤å¤„tokenä¸€èˆ¬æ˜¯ç”¨æˆ·å®Œæˆç™»å½•åå‚¨å­˜åˆ°localstorageé‡Œçš„</span><br>    token &amp;&amp; (config.headers.Authorization = token)<br>    <span class="hljs-keyword">return</span> config<br>  &#125;,<br>  <span class="hljs-function"><span class="hljs-params">error</span> =&gt;</span> &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">Promise</span>.error(error)<br>  &#125;)<br></code></pre></td></tr></table></figure><p>å“åº”æ‹¦æˆªå™¨ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// å“åº”æ‹¦æˆªå™¨</span><br>axios.interceptors.response.use(<span class="hljs-function"><span class="hljs-params">response</span> =&gt;</span> &#123;<br>  <span class="hljs-comment">// å¦‚æœè¿”å›çš„çŠ¶æ€ç ä¸º200ï¼Œè¯´æ˜æ¥å£è¯·æ±‚æˆåŠŸï¼Œå¯ä»¥æ­£å¸¸æ‹¿åˆ°æ•°æ®</span><br>  <span class="hljs-comment">// å¦åˆ™çš„è¯æŠ›å‡ºé”™è¯¯</span><br>  <span class="hljs-keyword">if</span> (response.status === <span class="hljs-number">200</span>) &#123;<br>    <span class="hljs-keyword">if</span> (response.data.code === <span class="hljs-number">511</span>) &#123;<br>      <span class="hljs-comment">// æœªæˆæƒè°ƒå–æˆæƒæ¥å£</span><br>    &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (response.data.code === <span class="hljs-number">510</span>) &#123;<br>      <span class="hljs-comment">// æœªç™»å½•è·³è½¬ç™»å½•é¡µ</span><br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>      <span class="hljs-keyword">return</span> <span class="hljs-built_in">Promise</span>.resolve(response)<br>    &#125;<br>  &#125; <span class="hljs-keyword">else</span> &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">Promise</span>.reject(response)<br>  &#125;<br>&#125;, <span class="hljs-function"><span class="hljs-params">error</span> =&gt;</span> &#123;<br>  <span class="hljs-comment">// æˆ‘ä»¬å¯ä»¥åœ¨è¿™é‡Œå¯¹å¼‚å¸¸çŠ¶æ€ä½œç»Ÿä¸€å¤„ç†</span><br>  <span class="hljs-keyword">if</span> (error.response.status) &#123;<br>    <span class="hljs-comment">// å¤„ç†è¯·æ±‚å¤±è´¥çš„æƒ…å†µ</span><br>    <span class="hljs-comment">// å¯¹ä¸åŒè¿”å›ç å¯¹ç›¸åº”å¤„ç†</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">Promise</span>.reject(error.response)<br>  &#125;<br>&#125;)<br></code></pre></td></tr></table></figure><p>è¯·æ±‚å¤´ã€è¯·æ±‚æ–¹æ³•ã€æ‹¦æˆªå¯ä»¥æ”¾åœ¨ axios.js ä¸€ä¸ªæ–‡ä»¶ä¸­</p><h2 id="fetchå°è£…"><a href="#fetchå°è£…" class="headerlink" title="fetchå°è£…"></a>fetchå°è£…</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> TIME_OUT = <span class="hljs-number">6000</span>; <span class="hljs-comment">// è¶…æ—¶æ—¶é—´</span><br><span class="hljs-keyword">const</span> TOKEN = <span class="hljs-string">&#x27;token&#x27;</span>; <span class="hljs-comment">// è‡ªå®šä¹‰token</span><br><span class="hljs-keyword">const</span> ContentType = &#123; <span class="hljs-comment">// ContentType æ˜ å°„è¡¨</span><br>  <span class="hljs-attr">json</span>:<span class="hljs-string">&#x27;application/json;charset=UTF-8&#x27;</span>, <span class="hljs-comment">// jsonæ•°æ®æ ¼å¼</span><br>  <span class="hljs-attr">form</span>: <span class="hljs-string">&#x27;application/x-www-form-urlencoded; charset=UTF-8&#x27;</span>, <span class="hljs-comment">// è¡¨å•æ•°æ®æ ¼å¼</span><br>  <span class="hljs-attr">download</span>: <span class="hljs-string">&#x27;application/octet-stream&#x27;</span> <span class="hljs-comment">// äºŒè¿›åˆ¶æ–‡ä»¶æµæ ¼å¼ï¼Œç”¨äºdownload</span><br>&#125;;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@name </span>åŸºç¡€fetch</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param <span class="hljs-type">&#123;string&#125;</span> </span>url è¯·æ±‚path</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param <span class="hljs-type">&#123;Object&#125;</span> </span>options feichè¯·æ±‚é…ç½®</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@returns </span></span><br><span class="hljs-comment"> */</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">baseFetch</span>(<span class="hljs-params">url, options</span>) </span>&#123;<br><br>  <span class="hljs-comment">// åŸºç¡€é…ç½®</span><br>  <span class="hljs-keyword">const</span> baseOptions = &#123;<br>    <span class="hljs-attr">method</span>: <span class="hljs-string">&quot;GET&quot;</span>, <span class="hljs-comment">// é»˜è®¤GETè¯·æ±‚</span><br>    <span class="hljs-attr">headers</span>: &#123; <span class="hljs-comment">// é»˜è®¤è¯·æ±‚å¤´</span><br>      <span class="hljs-string">&quot;Content-type&quot;</span>: ContentType.json <span class="hljs-comment">// é»˜è®¤jsonæ•°æ®æ ¼å¼</span><br>    &#125;,<br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * include:</span><br><span class="hljs-comment">     * é»˜è®¤ä¸è®ºæ˜¯ä¸æ˜¯è·¨åŸŸçš„è¯·æ±‚</span><br><span class="hljs-comment">     * æ€»æ˜¯å‘é€è¯·æ±‚èµ„æºåŸŸåœ¨æœ¬åœ°çš„ cookiesã€HTTP Basic authentication ç­‰éªŒè¯ä¿¡æ¯</span><br><span class="hljs-comment">     * omit: ä»ä¸å‘é€cookies</span><br><span class="hljs-comment">     * same-origin: åŒæºå‘é€cookies</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-attr">credentials</span>: <span class="hljs-string">&#x27;include&#x27;</span><br>  &#125;;<br><br>  <span class="hljs-comment">// merge options</span><br>  options = <span class="hljs-built_in">Object</span>.assign(baseOptions, options);<br><br>  <span class="hljs-keyword">const</span> &#123;method, body&#125; = options;<br><br>  <span class="hljs-comment">// getè¯·æ±‚æ²¡æœ‰è¯·æ±‚ä½“ï¼Œéœ€è¦å°†å‚æ•°æ‹¼æ¥åˆ°urlä¸Š</span><br>  <span class="hljs-keyword">if</span> (method === <span class="hljs-string">&#x27;GET&#x27;</span> &amp;&amp; <span class="hljs-built_in">Object</span>.isObject(body)) &#123;<br>    <span class="hljs-keyword">const</span> paramsArray = [];<br>    <span class="hljs-built_in">Object</span>.keys(body).forEach(<span class="hljs-function">(<span class="hljs-params">key</span>) =&gt;</span><br>        paramsArray.push(key + <span class="hljs-string">&quot;=&quot;</span> + <span class="hljs-built_in">encodeURIComponent</span>(body[key]))<br>    );<br>    <span class="hljs-keyword">if</span> (url.search(<span class="hljs-regexp">/\?/</span>) === -<span class="hljs-number">1</span>) &#123;<br>        url += <span class="hljs-string">&quot;?&quot;</span> + paramsArray.join(<span class="hljs-string">&quot;&amp;&quot;</span>);<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>        url += <span class="hljs-string">&quot;&amp;&quot;</span> + paramsArray.join(<span class="hljs-string">&quot;&amp;&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-comment">// åˆ é™¤è¯·æ±‚ä½“å±æ€§</span><br>    <span class="hljs-keyword">delete</span> options.body;<br>  &#125;<br><br>  <span class="hljs-comment">// request interceptors</span><br>  <span class="hljs-comment">// æŸ¥çœ‹å½“å‰æœ¬åœ°æ˜¯å¦æœ‰token, å¦‚æœæœ‰ï¼Œè®¾ç½®è‡ªå®šä¹‰headersä¸­TOKEN</span><br>  <span class="hljs-keyword">const</span> token = <span class="hljs-built_in">localStorage</span>.getItem(TOKEN);<br>  <span class="hljs-keyword">if</span> (token) options.headers[<span class="hljs-string">&quot;TOKEN&quot;</span>] = token;<br><br>  <span class="hljs-comment">// åˆ©ç”¨ Promise.race å®ç°è¶…æ—¶æ‹¦æˆª</span><br>  <span class="hljs-keyword">return</span> <span class="hljs-built_in">Promise</span>.race([<br>    <span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;<br>      <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>        reject(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">&#x27;request timeout&#x27;</span>));<br>      &#125;, TIME_OUT);<br>    &#125;),<br>    <span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;<br>      <span class="hljs-built_in">window</span>.fetch(url, options)<br>        .then(<span class="hljs-keyword">async</span> res =&gt; &#123;<br><br>          <span class="hljs-comment">// response interceptors çŠ¶æ€ç æ‹¦æˆªï¼Œå¯¹åº”å¼‚å¸¸çŠ¶æ€å—do something</span><br>          <span class="hljs-keyword">if</span>(!<span class="hljs-regexp">/^(2|3)\d&#123;2&#125;$/</span>.test(res.status)) &#123;<br>              <span class="hljs-keyword">switch</span>(res.status) &#123;<br>                  <span class="hljs-keyword">case</span> <span class="hljs-number">401</span>:     <span class="hljs-comment">//å½“å‰ç”¨æˆ·éœ€è¦éªŒè¯ï¼ˆä¸€èˆ¬æ˜¯æœªç™»é™†ï¼‰</span><br>                      <span class="hljs-keyword">break</span>    <span class="hljs-comment">//ä¸€èˆ¬å¯ä»¥å¼¹å‡ºé®ç›–å±‚ï¼Œæˆ–è€…å›åˆ°ç™»é™†é¡µé¢</span><br>                  <span class="hljs-keyword">case</span> <span class="hljs-number">403</span>:     <span class="hljs-comment">// æœåŠ¡å™¨ç†è§£è¯·æ±‚ï¼Œä½†æ˜¯æ‹’ç»æ‰§è¡Œï¼Œä¸€èˆ¬æ˜¯tokenï¼Œsessionè¿‡æœŸ</span><br>                      <span class="hljs-built_in">localStorage</span>.removeItem(TOKEN) <br>                      <span class="hljs-keyword">break</span><br>                  <span class="hljs-keyword">case</span> <span class="hljs-number">404</span>:     <span class="hljs-comment">// æ‰¾ä¸åˆ°é¡µé¢(è¯·æ±‚å¤±è´¥ï¼Œèµ„æºåœ¨æœåŠ¡å™¨ä¸Šæœªæ‰¾åˆ°)ï¼Œå¯ä»¥ç»™ä¸€ä¸ªå‹å¥½çš„æç¤º</span><br>                      <span class="hljs-keyword">break</span>     <br>            &#125;<br>            <span class="hljs-keyword">return</span> <span class="hljs-built_in">Promise</span>.reject(res)<br>          &#125;<br>          <span class="hljs-comment">// response interceptors cookiesæ‹¦æˆªå™¨ï¼Œå­˜å…¥token</span><br>          <span class="hljs-keyword">if</span> (res.headers[<span class="hljs-string">&#x27;set-cookies&#x27;</span>]) &#123;<br>            <span class="hljs-built_in">localStorage</span>.setItem(TOKEN, res.headers[<span class="hljs-string">&#x27;set-cookies&#x27;</span>]);<br>          &#125;<br><br>          <span class="hljs-comment">// return data</span><br>          <span class="hljs-keyword">const</span> data = options.headers[<span class="hljs-string">&#x27;Content-type&#x27;</span>] === ContentType.download ? res.blob() : res.json();<br>          resolve(data);<br>        &#125;)<br>        .catch(<span class="hljs-function"><span class="hljs-params">err</span> =&gt;</span> &#123;<br>          reject(err);<br>        &#125;);<br>    &#125;)<br>  ])<br>&#125;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> fetchGet = <span class="hljs-function">(<span class="hljs-params">url, params</span>) =&gt;</span> &#123;<br>  <span class="hljs-keyword">return</span> baseFetch(url, &#123;<span class="hljs-attr">body</span>: params&#125;);<br>&#125;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> fetchPost = <span class="hljs-function">(<span class="hljs-params">url, params</span>) =&gt;</span> &#123;<br>  <span class="hljs-keyword">return</span> baseFetch(url, &#123;<span class="hljs-attr">method</span>: <span class="hljs-string">&#x27;POST&#x27;</span>, <span class="hljs-attr">body</span>: <span class="hljs-built_in">JSON</span>.stringify(params)&#125;);<br>&#125;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> fetchDownload = <span class="hljs-function">(<span class="hljs-params">url, params</span>) =&gt;</span> &#123;<br>  <span class="hljs-keyword">return</span> baseFetch(url, &#123;<br>    <span class="hljs-attr">method</span>: <span class="hljs-string">&#x27;POST&#x27;</span>,<br>    <span class="hljs-attr">body</span>: <span class="hljs-built_in">JSON</span>.stringify(params),<br>    <span class="hljs-attr">headers</span>: &#123;<br>      <span class="hljs-string">&quot;Content-type&quot;</span>: ContentType.download<br>    &#125;<br>  &#125;);<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>å­¦ä¹ ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç»¼åˆ</tag>
      
      <tag>JavaScript</tag>
      
      <tag>ES6</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åŸå‹ã€åŸå‹é“¾ã€åŸå‹é“¾ç»§æ‰¿</title>
    <link href="/dylan/2022/01/10/prototype/"/>
    <url>/dylan/2022/01/10/prototype/</url>
    
    <content type="html"><![CDATA[<p><img src="/dylan/imgs/prototype/1.jpg" alt="å›¾1"></p><p>å¼€å±€ä¸€å¼ å›¾ï¼Œå‰©ä¸‹å…¨é â€œç¼–â€</p><h2 id="åŸå‹ã€åŸå‹é“¾"><a href="#åŸå‹ã€åŸå‹é“¾" class="headerlink" title="åŸå‹ã€åŸå‹é“¾"></a>åŸå‹ã€åŸå‹é“¾</h2><p><code>prototype</code>ï¼šåŸå‹</p><p><code>__prototype__</code>ï¼šåŸå‹é“¾ï¼ˆé“¾æ¥ç‚¹ï¼‰</p><p>æ¯ä¸ªå‡½æ•°å¯¹è±¡ä¸Šéƒ½æœ‰æ‹¥æœ‰è¿™ä¸¤ä¸ªå±æ€§</p><h2 id="ä»å±å…³ç³»"><a href="#ä»å±å…³ç³»" class="headerlink" title="ä»å±å…³ç³»"></a>ä»å±å…³ç³»</h2><p><code>prototype</code>ï¼šå‡½æ•°çš„ä¸€ä¸ªå±æ€§ï¼šå¯¹è±¡{}</p><p><code>__proto__</code>ï¼šå¯¹è±¡ Object çš„ä¸€ä¸ªå±æ€§ï¼šå¯¹è±¡{}</p><p>å¯¹è±¡çš„<code>__proto__</code>ä¿å­˜ç€è¯¥å¯¹è±¡çš„æ„é€ å‡½æ•°çš„<code>prototype</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Test</span>(<span class="hljs-params"></span>)</span>&#123;&#125;<br><span class="hljs-built_in">console</span>.log(Test.prototype)<br><span class="hljs-keyword">const</span> test = <span class="hljs-keyword">new</span> Test()<br><span class="hljs-built_in">console</span>.log(test.__proto__)<br><span class="hljs-built_in">console</span>.log(test.__proto__===Test.prototype)<span class="hljs-comment">//true</span><br><span class="hljs-built_in">console</span>.log(Test.prototype.__proto__===<span class="hljs-built_in">Object</span>.prototype) <span class="hljs-comment">//true</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">Object</span>.prototype.__proto__) <span class="hljs-comment">//null</span><br></code></pre></td></tr></table></figure><h2 id="åŸå‹ç»§æ‰¿"><a href="#åŸå‹ç»§æ‰¿" class="headerlink" title="åŸå‹ç»§æ‰¿"></a>åŸå‹ç»§æ‰¿</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Test</span>(<span class="hljs-params"></span>) </span>&#123; &#125;<br><span class="hljs-keyword">const</span> test = <span class="hljs-keyword">new</span> Test()<br>test.a = <span class="hljs-number">1</span><br>Test.prototype.b = <span class="hljs-number">2</span><br><span class="hljs-built_in">Object</span>.prototype.c = <span class="hljs-number">3</span><br><span class="hljs-built_in">console</span>.log(test.a) <span class="hljs-comment">//1</span><br><span class="hljs-built_in">console</span>.log(test.b)<span class="hljs-comment">//2</span><br><span class="hljs-built_in">console</span>.log(test.c)<span class="hljs-comment">//3</span><br></code></pre></td></tr></table></figure><p>è™½ç„¶ test æ²¡æœ‰ b å’Œ c å±æ€§ï¼Œä½†æ˜¯ test æ˜¯ç”± Test æ„é€ è€Œæ¥ï¼Œæ‰€ä»¥ test çš„<code>__proto__</code>ä¼šæŒ‡å‘ Test çš„<code>prototype</code>ï¼Œä»è€Œç»§æ‰¿äº† Test çš„åŸå‹å¯¹è±¡å±æ€§ï¼Œé‚£ä¹ˆ b å±æ€§ä¼šåœ¨ Test çš„åŸå‹å¯¹è±¡æ‰¾åˆ°ï¼Œc å±æ€§ä¼šåœ¨ Object çš„åŸå‹å¯¹è±¡æ‰¾åˆ°ï¼Œå°±è¿™æ ·ä¸€å±‚ä¸€å±‚çš„æ‰¾ï¼Œç›´åˆ°æœ€é¡¶å±‚ä¹Ÿå°±æ˜¯   Object.prototypeã€‚</p><h2 id="Functionä¸Objectçš„ç‰¹æ®Šæ€§"><a href="#Functionä¸Objectçš„ç‰¹æ®Šæ€§" class="headerlink" title="Functionä¸Objectçš„ç‰¹æ®Šæ€§"></a>Functionä¸Objectçš„ç‰¹æ®Šæ€§</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">Function</span>.__proto__===<span class="hljs-built_in">Function</span>.prototype) <span class="hljs-comment">//true</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">Object</span>.prototype.__proto__) <span class="hljs-comment">//null</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">typeof</span> <span class="hljs-built_in">Object</span>) <span class="hljs-comment">//function</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">Object</span>.__proto__===<span class="hljs-built_in">Function</span>.prototype) <span class="hljs-comment">//true</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">Object</span>.__proto__===<span class="hljs-built_in">Function</span>.__proto__) <span class="hljs-comment">//true</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">Function</span> <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">Object</span>) <span class="hljs-comment">//true</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">Object</span> <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">Function</span>) <span class="hljs-comment">//true</span><br></code></pre></td></tr></table></figure><ol><li>Functionçš„<code>__proto__</code>æŒ‡å‘Functionçš„<code>prototype</code>ï¼Œè¿™æ˜¯åº•å±‚å†³å®šçš„ã€‚</li><li>åº•å±‚å†³å®š</li><li>å› ä¸º Object çš„ç»“æ„æ˜¯ function Object(){native code}</li><li>ç”±3å¯å¾—å‡º</li><li>ç”±1ï¼Œ3å¯å¾—å‡º</li><li>å‡½æ•°å®é™…ä¹Ÿæ˜¯ä¸€ä¸ªå‡½æ•°å¯¹è±¡</li><li>åŒç†3</li></ol><h2 id="æœ€å"><a href="#æœ€å" class="headerlink" title="æœ€å"></a>æœ€å</h2><p>åˆ¤æ–­å±æ€§æ˜¯å¦å­˜åœ¨ï¼šObject.hasOwnProperty</p><p>æ‰¾é“¾ä¸Šæ˜¯å¦æœ‰å±æ€§ï¼šâ€˜å±æ€§â€™ in å‡½æ•°å¯¹è±¡</p><p>constructor -&gt; å®ä¾‹åŒ–å‡½æ•°å¯¹è±¡çš„æ„é€ å‡½æ•° </p>]]></content>
    
    
    <categories>
      
      <category>å­¦ä¹ ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>JavaScript</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å¸¸ç”¨çš„ meta å…ƒç´ </title>
    <link href="/dylan/2022/01/02/meta/"/>
    <url>/dylan/2022/01/02/meta/</url>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p><code>&lt;meta&gt;</code> å…ƒç´ æ ‡ç­¾æ˜¯æä¾›æœ‰å…³HTMLæ–‡æ¡£çš„å…ƒæ•°æ®ï¼Œå…ƒæ•°æ®ä¸ä¼šæ˜¾ç¤ºåœ¨é¡µé¢ä¸Šï¼Œä½†æ˜¯èƒ½å¤Ÿè¢«æœºå™¨è¯†åˆ«ã€‚</p><p>æ€»è€Œè¨€ä¹‹, metaæ ‡ç­¾æ˜¯ç”¨æ¥è®©æœºå™¨è¯†åˆ«çš„ï¼ŒåŒæ—¶å®ƒå¯¹SEOèµ·ç€é‡è¦çš„ä½œç”¨ã€‚</p><h2 id="charset"><a href="#charset" class="headerlink" title="charset"></a>charset</h2><p>æŒ‡å®šäº†htmlæ–‡æ¡£çš„ç¼–ç æ ¼å¼ï¼Œå¸¸ç”¨çš„æ˜¯utf-8(Unicodeçš„å­—ç¬¦ç¼–ç )ï¼Œè¿˜æœ‰ISO-8859-1(æ‹‰ä¸å­—æ¯çš„å­—ç¬¦ç¼–ç )ã€‚å½“ç„¶è¿˜æœ‰å…¶ä»–çš„ï¼Œä½†æ˜¯ä¸€èˆ¬ä¸å¸¸ç”¨ä¹Ÿå°±ä¸ä»‹ç»äº†</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;utf-8&quot;</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="name-amp-content"><a href="#name-amp-content" class="headerlink" title="name &amp; content"></a>name &amp; content</h2><p>æŒ‡å®šå…ƒæ•°æ®çš„åç§°(è¿™éƒ¨åˆ†å¯¹SEOéå¸¸æœ‰ç”¨)</p><ul><li>authorâ€”â€”å®šä¹‰äº†é¡µé¢çš„ä½œè€…</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;author&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;Tony&quot;</span>&gt;</span><br></code></pre></td></tr></table></figure><ul><li>keywordsâ€”â€”ä¸ºæœç´¢å¼•æ“æä¾›å…³é”®å­—</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;keywords&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;HTML, CSS, JavaScript&quot;</span>&gt;</span><br></code></pre></td></tr></table></figure><ul><li>descriptionâ€”â€”å¯¹ç½‘é¡µæ•´ä½“çš„æè¿°</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;description&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;My tutorials on HTML, CSS and JavaScript&quot;</span>&gt;</span><br></code></pre></td></tr></table></figure><ul><li>viewportâ€”â€”å¯¹é¡µé¢è§†å›¾ç›¸å…³è¿›è¡Œå®šä¹‰</li></ul><blockquote><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">width</span>=device-widthâ€”â€”å°†é¡µé¢å®½åº¦è®¾ç½®ä¸ºè·Ÿéšå±å¹•å®½åº¦å˜åŒ–è€Œå˜åŒ–<br><span class="hljs-attribute">initial</span>-scale=<span class="hljs-number">1</span>.<span class="hljs-number">0</span>â€”â€”è®¾ç½®æµè§ˆå™¨é¦–æ¬¡åŠ è½½é¡µé¢æ—¶çš„åˆå§‹ç¼©æ”¾æ¯”ä¾‹(<span class="hljs-number">0</span>.<span class="hljs-number">0</span>-<span class="hljs-number">10</span>.<span class="hljs-number">0</span>æ­£æ•°)<br><span class="hljs-attribute">maximum</span>-scale=<span class="hljs-number">1</span>.<span class="hljs-number">0</span>â€”â€”å…è®¸ç”¨æˆ·ç¼©æ”¾çš„æœ€å¤§æ¯”ä¾‹(<span class="hljs-number">0</span>.<span class="hljs-number">0</span>-<span class="hljs-number">10</span>.<span class="hljs-number">0</span>æ­£æ•°)ï¼Œå¿…é¡»å¤§äºç­‰äºminimum-scale<br><span class="hljs-attribute">minimum</span>-scale=<span class="hljs-number">1</span>.<span class="hljs-number">0</span>â€”â€”å…è®¸ç”¨æˆ·ç¼©æ”¾çš„æœ€å°æ¯”ä¾‹(<span class="hljs-number">0</span>.<span class="hljs-number">0</span>-<span class="hljs-number">10</span>.<span class="hljs-number">0</span>æ­£æ•°)ï¼Œå¿…é¡»å°äºç­‰äºmaximum-scale<br><span class="hljs-attribute">user</span>-scalable=noâ€”â€”æ˜¯å¦å…è®¸ç”¨æˆ·æ‰‹åŠ¨ç¼©æ”¾(yesæˆ–è€…no)<br></code></pre></td></tr></table></figure></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0, maximum-scale=1.0, minmum-scale=1.0&quot;</span>&gt;</span><br></code></pre></td></tr></table></figure><ul><li>generatorâ€”â€”åŒ…å«ç”Ÿæˆé¡µé¢è½¯ä»¶çš„æ ‡è¯†ç¬¦</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;generator&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;Hexo 3.8.0&quot;</span>&gt;</span><br></code></pre></td></tr></table></figure><ul><li>theme-colorâ€”â€”å®šä¹‰ä¸»é¢˜é¢œè‰²</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;theme-color&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;#222&quot;</span>&gt;</span><br></code></pre></td></tr></table></figure><ul><li>http-equiv &amp; content</li><li>refreshâ€”â€”æ¯30såˆ·æ–°ä¸€æ¬¡æ–‡æ¡£</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;refresh&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;30&quot;</span>&gt;</span><br></code></pre></td></tr></table></figure><ul><li>X-UA-Compatibleâ€”â€”å‘ŠçŸ¥æµè§ˆå™¨ä»¥ä½•ç§ç‰ˆæœ¬æ¸²æŸ“ç•Œé¢ã€‚ä¸‹é¢çš„ä¾‹å­æœ‰é™ä½¿ç”¨IEæœ€æ–°ç‰ˆæœ¬</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;ie=edge&quot;</span>&gt;</span><br></code></pre></td></tr></table></figure><p>å…³äºæ˜¯å¦æœ‰å¿…è¦ä½¿ç”¨è¿™ä¸€æ¡åœ¨stack overflowå°šä¸”æœ‰äº‰è®®ã€‚ä¸ªäººè®¤ä¸ºå¦‚æœä¸æƒ³å…¼å®¹ä½ç‰ˆæœ¬çš„IEï¼Œå¯ä»¥ç›´æ¥å¿½ç•¥è¿™ä¸€æ¡ã€‚</p><ul><li>Cache-Controlâ€”â€”è¯·æ±‚å’Œå“åº”éµå¾ªçš„ç¼“å­˜æœºåˆ¶ï¼Œå¯ä»¥å£°æ˜ç¼“å­˜çš„å†…å®¹ï¼Œä¿®æ”¹è¿‡æœŸæ—¶é—´ï¼Œå¯å¤šæ¬¡å£°æ˜</li></ul><blockquote><p>no-transformâ€”â€”ä¸å¾—å¯¹èµ„æºè¿›è¡Œè½¬æ¢æˆ–è½¬å˜ã€‚</p><p>no-siteappâ€”â€”ç¦æ­¢ç™¾åº¦è¿›è¡Œè½¬ç </p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;Cache-Control&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;no-transform&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;Cache-Control&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;no-siteapp&quot;</span>&gt;</span><br></code></pre></td></tr></table></figure><ul><li>property &amp; content</li></ul><p>å¯ä»¥è®©ç½‘é¡µæˆä¸ºä¸€ä¸ªå¯Œåª’ä½“å¯¹è±¡ï¼ŒåŒæ„ç½‘é¡µå†…å®¹è¢«å…¶ä»–ç½‘ç«™å¼•ç”¨ï¼ŒåŒæ—¶åœ¨åº”ç”¨çš„æ—¶å€™ä¸ä¼šåªæ˜¯ä¸€ä¸ªé“¾æ¥ï¼Œä¼šæå–ç›¸åº”çš„ä¿¡æ¯å±•ç°ç»™ç”¨æˆ·ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;og:type&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;website&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;og:url&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;https://zjgyb.github.io/index.html&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;og:site_name&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;tony&#x27;s blog&quot;</span>&gt;</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>å­¦ä¹ ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>HTML</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>jséšå¼è½¬æ¢</title>
    <link href="/dylan/2022/01/01/implicit/"/>
    <url>/dylan/2022/01/01/implicit/</url>
    
    <content type="html"><![CDATA[<h2 id="å››åˆ™è¿ç®—"><a href="#å››åˆ™è¿ç®—" class="headerlink" title="å››åˆ™è¿ç®—"></a>å››åˆ™è¿ç®—</h2><ul><li>åŠ æ³•<code>è¿ç®—ç¬¦+</code>æ˜¯åŒç›®è¿ç®—ç¬¦ï¼Œåªè¦å…¶ä¸­ä¸€ä¸ªæ˜¯Stringç±»å‹ï¼Œè¡¨è¾¾å¼çš„å€¼ä¾¿æ˜¯ä¸€ä¸ªStringã€‚</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> a = <span class="hljs-number">2</span> + <span class="hljs-string">&#x27;3&#x27;</span><span class="hljs-comment">// &#x27;23&#x27;</span><br></code></pre></td></tr></table></figure><ul><li>å¯¹äºå…¶ä»–çš„å››åˆ™è¿ç®—ï¼Œåªæœ‰å…¶ä¸­ä¸€ä¸ªæ˜¯Numberç±»å‹ï¼Œè¡¨è¾¾å¼çš„å€¼ä¾¿æ˜¯ä¸€ä¸ªNumberã€‚</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> a = <span class="hljs-number">3</span> - <span class="hljs-string">&#x27;2&#x27;</span><span class="hljs-comment">// 1</span><br></code></pre></td></tr></table></figure><ul><li>å¯¹äºéæ³•å­—ç¬¦çš„æƒ…å†µé€šå¸¸ä¼šè¿”å›NaNï¼š</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-string">&#x27;1&#x27;</span> * <span class="hljs-string">&#x27;a&#x27;</span>     <span class="hljs-comment">// =&gt; NaNï¼Œè¿™æ˜¯å› ä¸ºparseInt(a)å€¼ä¸ºNaNï¼Œ1 * NaN è¿˜æ˜¯ NaN</span><br></code></pre></td></tr></table></figure><h2 id="åˆ¤æ–­è¯­å¥"><a href="#åˆ¤æ–­è¯­å¥" class="headerlink" title="åˆ¤æ–­è¯­å¥"></a>åˆ¤æ–­è¯­å¥</h2><ul><li>åˆ¤æ–­è¯­å¥ä¸­çš„åˆ¤æ–­æ¡ä»¶éœ€è¦æ˜¯Booleanç±»å‹ï¼Œæ‰€ä»¥æ¡ä»¶è¡¨è¾¾å¼ä¼šè¢«éšå¼è½¬æ¢ä¸ºBooleanã€‚ å…¶è½¬æ¢è§„åˆ™åŒBooleançš„æ„é€ å‡½æ•°ã€‚æ¯”å¦‚ï¼š</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> obj = &#123;&#125;;<br><span class="hljs-keyword">if</span>(obj)&#123;<br>dosomething...<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="JavaScript-åŸå§‹ç±»å‹è½¬æ¢è¡¨"><a href="#JavaScript-åŸå§‹ç±»å‹è½¬æ¢è¡¨" class="headerlink" title="JavaScript åŸå§‹ç±»å‹è½¬æ¢è¡¨"></a>JavaScript åŸå§‹ç±»å‹è½¬æ¢è¡¨</h2><table><thead><tr><th>åŸå§‹å€¼</th><th>è½¬åŒ–ä¸ºæ•°å€¼ç±»å‹</th><th>è½¬åŒ–ä¸ºå­—ç¬¦ä¸²ç±»å‹</th><th>è½¬åŒ–ä¸º Boolean ç±»å‹</th></tr></thead><tbody><tr><td>false</td><td>0</td><td>â€œfalseâ€</td><td>false</td></tr><tr><td>true</td><td>1</td><td>â€œtrueâ€</td><td>true</td></tr><tr><td>0</td><td>0</td><td>â€œ0â€</td><td>false</td></tr><tr><td>1</td><td>1</td><td>â€œ1â€</td><td>true</td></tr><tr><td>â€œ0â€</td><td>0</td><td>â€œ0â€</td><td>true</td></tr><tr><td>â€œ1â€</td><td>1</td><td>â€œ1â€</td><td>true</td></tr><tr><td>NaN</td><td>NaN</td><td>â€œNaNâ€</td><td>false</td></tr><tr><td>Infinity</td><td>Infinity</td><td>â€œInfinityâ€</td><td>true</td></tr><tr><td>-Infinity</td><td>-Infinity</td><td>â€œ-Infinityâ€</td><td>true</td></tr><tr><td>â€œâ€</td><td>0</td><td>â€œâ€</td><td>false</td></tr><tr><td>â€œ20â€</td><td>20</td><td>â€œ20â€</td><td>true</td></tr><tr><td>â€œtwentyâ€</td><td>NaN</td><td>â€œtwentyâ€</td><td>true</td></tr><tr><td>[ ]</td><td>0</td><td>â€œâ€</td><td>true</td></tr><tr><td>[20]</td><td>20</td><td>â€œ20â€</td><td>true</td></tr><tr><td>[10,20]</td><td>NaN</td><td>â€œ10,20â€</td><td>true</td></tr><tr><td>[â€œtwentyâ€]</td><td>NaN</td><td>â€œtwentyâ€</td><td>true</td></tr><tr><td>[â€œtenâ€,â€twentyâ€]</td><td>NaN</td><td>â€œten,twentyâ€</td><td>true</td></tr><tr><td>function(){}</td><td>NaN</td><td>â€œfunction(){}â€</td><td>true</td></tr><tr><td>{ }</td><td>NaN</td><td>â€œ[object Object]â€</td><td>true</td></tr><tr><td>null</td><td>0</td><td>â€œnullâ€</td><td>false</td></tr><tr><td>undefined</td><td>NaN</td><td>â€œundefinedâ€</td><td>false</td></tr></tbody></table>]]></content>
    
    
    <categories>
      
      <category>å­¦ä¹ ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>JavaScript</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å“åº”å¼è®¾è®¡</title>
    <link href="/dylan/2021/12/30/ResponsiveWebDesign/"/>
    <url>/dylan/2021/12/30/ResponsiveWebDesign/</url>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>å“åº”å¼ç½‘ç«™è®¾è®¡ï¼ˆResponsive Web designï¼‰æ˜¯ä¸€ç§ç½‘ç»œé¡µé¢è®¾è®¡å¸ƒå±€ï¼Œé¡µé¢çš„è®¾è®¡ä¸å¼€å‘åº”å½“æ ¹æ®ç”¨æˆ·è¡Œä¸ºä»¥åŠè®¾å¤‡ç¯å¢ƒ(ç³»ç»Ÿå¹³å°ã€å±å¹•å°ºå¯¸ã€å±å¹•å®šå‘ç­‰)è¿›è¡Œç›¸åº”çš„å“åº”å’Œè°ƒæ•´</p><p>æè¿°å“åº”å¼ç•Œé¢æœ€è‘—åçš„ä¸€å¥è¯å°±æ˜¯â€œContent is like waterâ€</p><p>å¤§ç™½è¯ä¾¿æ˜¯â€œå¦‚æœå°†å±å¹•çœ‹ä½œå®¹å™¨ï¼Œé‚£ä¹ˆå†…å®¹å°±åƒæ°´ä¸€æ ·â€</p><p>å“åº”å¼ç½‘ç«™å¸¸è§ç‰¹ç‚¹ï¼š</p><ul><li>åŒæ—¶é€‚é…PC + å¹³æ¿ + æ‰‹æœºç­‰</li><li>æ ‡ç­¾å¯¼èˆªåœ¨æ¥è¿‘æ‰‹æŒç»ˆç«¯è®¾å¤‡æ—¶æ”¹å˜ä¸ºç»å…¸çš„æŠ½å±‰å¼å¯¼èˆª</li><li>ç½‘ç«™çš„å¸ƒå±€ä¼šæ ¹æ®è§†å£æ¥è°ƒæ•´æ¨¡å—çš„å¤§å°å’Œä½ç½®</li></ul><h2 id="å®ç°æ–¹å¼"><a href="#å®ç°æ–¹å¼" class="headerlink" title="å®ç°æ–¹å¼"></a>å®ç°æ–¹å¼</h2><p>å“åº”å¼è®¾è®¡çš„åŸºæœ¬åŸç†æ˜¯é€šè¿‡åª’ä½“æŸ¥è¯¢æ£€æµ‹ä¸åŒçš„è®¾å¤‡å±å¹•å°ºå¯¸åšå¤„ç†ï¼Œä¸ºäº†å¤„ç†ç§»åŠ¨ç«¯ï¼Œé¡µé¢å¤´éƒ¨å¿…é¡»æœ‰<code>meta</code>å£°æ˜<code>viewport</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1, maximum-scale=1, user-scalable=noâ€&gt;</span></span><br></code></pre></td></tr></table></figure><p>å±æ€§å¯¹åº”å¦‚ä¸‹ï¼š</p><ul><li>width=device-width: æ˜¯è‡ªé€‚åº”æ‰‹æœºå±å¹•çš„å°ºå¯¸å®½åº¦</li><li>maximum-scale:æ˜¯ç¼©æ”¾æ¯”ä¾‹çš„æœ€å¤§å€¼</li><li>inital-scale:æ˜¯ç¼©æ”¾çš„åˆå§‹åŒ–</li><li>user-scalable:æ˜¯ç”¨æˆ·çš„å¯ä»¥ç¼©æ”¾çš„æ“ä½œ</li></ul><p>å®ç°å“åº”å¼å¸ƒå±€çš„æ–¹å¼æœ‰å¦‚ä¸‹ï¼š</p><ul><li>åª’ä½“æŸ¥è¯¢</li><li>ç™¾åˆ†æ¯”</li><li>vw/vh</li><li>rem</li></ul><h3 id="åª’ä½“æŸ¥è¯¢"><a href="#åª’ä½“æŸ¥è¯¢" class="headerlink" title="åª’ä½“æŸ¥è¯¢"></a>åª’ä½“æŸ¥è¯¢</h3><p><code>CSS3 </code>ä¸­çš„å¢åŠ äº†æ›´å¤šçš„åª’ä½“æŸ¥è¯¢ï¼Œå°±åƒ<code>if</code>æ¡ä»¶è¡¨è¾¾å¼ä¸€æ ·ï¼Œæˆ‘ä»¬å¯ä»¥è®¾ç½®ä¸åŒç±»å‹çš„åª’ä½“æ¡ä»¶ï¼Œå¹¶æ ¹æ®å¯¹åº”çš„æ¡ä»¶ï¼Œç»™ç›¸åº”ç¬¦åˆæ¡ä»¶çš„åª’ä½“è°ƒç”¨ç›¸å¯¹åº”çš„æ ·å¼è¡¨</p><p>ä½¿ç”¨<code>@Media</code>æŸ¥è¯¢ï¼Œå¯ä»¥é’ˆå¯¹ä¸åŒçš„åª’ä½“ç±»å‹å®šä¹‰ä¸åŒçš„æ ·å¼ï¼Œå¦‚ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-keyword">@media</span> screen <span class="hljs-keyword">and</span> (<span class="hljs-attribute">max-width</span>: <span class="hljs-number">1920px</span>) &#123; ... &#125;<br></code></pre></td></tr></table></figure><p>å½“è§†å£åœ¨375px - 600pxä¹‹é—´ï¼Œè®¾ç½®ç‰¹å®šå­—ä½“å¤§å°18px</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-keyword">@media</span> screen (<span class="hljs-attribute">min-width</span>: <span class="hljs-number">375px</span>) <span class="hljs-keyword">and</span> (<span class="hljs-attribute">max-width</span>: <span class="hljs-number">600px</span>) &#123;<br>  <span class="hljs-selector-tag">body</span> &#123;<br>    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">18px</span>;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>é€šè¿‡åª’ä½“æŸ¥è¯¢ï¼Œå¯ä»¥é€šè¿‡ç»™ä¸åŒåˆ†è¾¨ç‡çš„è®¾å¤‡ç¼–å†™ä¸åŒçš„æ ·å¼æ¥å®ç°å“åº”å¼çš„å¸ƒå±€ï¼Œæ¯”å¦‚æˆ‘ä»¬ä¸ºä¸åŒåˆ†è¾¨ç‡çš„å±å¹•ï¼Œè®¾ç½®ä¸åŒçš„èƒŒæ™¯å›¾ç‰‡</p><p>æ¯”å¦‚ç»™å°å±å¹•æ‰‹æœºè®¾ç½®@2xå›¾ï¼Œä¸ºå¤§å±å¹•æ‰‹æœºè®¾ç½®@3xå›¾ï¼Œé€šè¿‡åª’ä½“æŸ¥è¯¢å°±èƒ½å¾ˆæ–¹ä¾¿çš„å®ç°</p><h3 id="ç™¾åˆ†æ¯”"><a href="#ç™¾åˆ†æ¯”" class="headerlink" title="ç™¾åˆ†æ¯”"></a>ç™¾åˆ†æ¯”</h3><p>é€šè¿‡ç™¾åˆ†æ¯”å•ä½ â€œ % â€œ æ¥å®ç°å“åº”å¼çš„æ•ˆæœ</p><p>æ¯”å¦‚å½“æµè§ˆå™¨çš„å®½åº¦æˆ–è€…é«˜åº¦å‘ç”Ÿå˜åŒ–æ—¶ï¼Œé€šè¿‡ç™¾åˆ†æ¯”å•ä½ï¼Œå¯ä»¥ä½¿å¾—æµè§ˆå™¨ä¸­çš„ç»„ä»¶çš„å®½å’Œé«˜éšç€æµè§ˆå™¨çš„å˜åŒ–è€Œå˜åŒ–ï¼Œä»è€Œå®ç°å“åº”å¼çš„æ•ˆæœ</p><p><code>height</code>ã€<code>width</code>å±æ€§çš„ç™¾åˆ†æ¯”ä¾æ‰˜äºçˆ¶æ ‡ç­¾çš„å®½é«˜ï¼Œä½†æ˜¯å…¶ä»–ç›’å­å±æ€§åˆ™ä¸å®Œå…¨ä¾èµ–çˆ¶å…ƒç´ ï¼š</p><ul><li>å­å…ƒç´ çš„top/leftå’Œbottom/rightå¦‚æœè®¾ç½®ç™¾åˆ†æ¯”ï¼Œåˆ™ç›¸å¯¹äºç›´æ¥éstaticå®šä½(é»˜è®¤å®šä½)çš„çˆ¶å…ƒç´ çš„é«˜åº¦/å®½åº¦</li><li>å­å…ƒç´ çš„paddingå¦‚æœè®¾ç½®ç™¾åˆ†æ¯”ï¼Œä¸è®ºæ˜¯å‚ç›´æ–¹å‘æˆ–è€…æ˜¯æ°´å¹³æ–¹å‘ï¼Œéƒ½ç›¸å¯¹äºç›´æ¥çˆ¶äº²å…ƒç´ çš„widthï¼Œè€Œä¸çˆ¶å…ƒç´ çš„heightæ— å…³ã€‚</li><li>å­å…ƒç´ çš„marginå¦‚æœè®¾ç½®æˆç™¾åˆ†æ¯”ï¼Œä¸è®ºæ˜¯å‚ç›´æ–¹å‘è¿˜æ˜¯æ°´å¹³æ–¹å‘ï¼Œéƒ½ç›¸å¯¹äºç›´æ¥çˆ¶å…ƒç´ çš„width</li><li>border-radiusä¸ä¸€æ ·ï¼Œå¦‚æœè®¾ç½®border-radiusä¸ºç™¾åˆ†æ¯”ï¼Œåˆ™æ˜¯ç›¸å¯¹äºè‡ªèº«çš„å®½åº¦</li></ul><p>å¯ä»¥çœ‹åˆ°æ¯ä¸ªå±æ€§éƒ½ä½¿ç”¨ç™¾åˆ†æ¯”ï¼Œä¼šç…§æˆå¸ƒå±€çš„å¤æ‚åº¦ï¼Œæ‰€ä»¥ä¸å»ºè®®ä½¿ç”¨ç™¾åˆ†æ¯”æ¥å®ç°å“åº”å¼</p><h3 id="vw-vh"><a href="#vw-vh" class="headerlink" title="vw/vh"></a>vw/vh</h3><p><code>vw</code>è¡¨ç¤ºç›¸å¯¹äºè§†å›¾çª—å£çš„å®½åº¦ï¼Œ<code>vh</code>è¡¨ç¤ºç›¸å¯¹äºè§†å›¾çª—å£é«˜åº¦ã€‚ ä»»æ„å±‚çº§å…ƒç´ ï¼Œåœ¨ä½¿ç”¨<code>vw</code>å•ä½çš„æƒ…å†µä¸‹ï¼Œ<code>1vw</code>éƒ½ç­‰äºè§†å›¾å®½åº¦çš„ç™¾åˆ†ä¹‹ä¸€</p><p>ä¸ç™¾åˆ†æ¯”å¸ƒå±€å¾ˆç›¸ä¼¼ï¼Œåœ¨ä»¥å‰æ–‡ç« æè¿‡ä¸<code>%</code>çš„åŒºåˆ«ï¼Œè¿™é‡Œå°±ä¸å†å±•å¼€è¿°è¯´</p><h3 id="rem"><a href="#rem" class="headerlink" title="rem"></a>rem</h3><p>åœ¨ä»¥å‰ä¹Ÿè®²åˆ°ï¼Œ<code>rem</code>æ˜¯ç›¸å¯¹äºæ ¹å…ƒç´ <code>html</code>çš„<code>font-size</code>å±æ€§ï¼Œé»˜è®¤æƒ…å†µä¸‹æµè§ˆå™¨å­—ä½“å¤§å°ä¸º<code>16px</code>ï¼Œæ­¤æ—¶<code>1rem = 16px</code></p><p>å¯ä»¥åˆ©ç”¨å‰é¢æåˆ°çš„åª’ä½“æŸ¥è¯¢ï¼Œé’ˆå¯¹ä¸åŒè®¾å¤‡åˆ†è¾¨ç‡æ”¹å˜<code>font-size</code>çš„å€¼ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-keyword">@media</span> screen <span class="hljs-keyword">and</span> (<span class="hljs-attribute">max-width</span>: <span class="hljs-number">414px</span>) &#123;<br>  <span class="hljs-selector-tag">html</span> &#123;<br>    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">18px</span><br>  &#125;<br>&#125;<br><br><span class="hljs-keyword">@media</span> screen <span class="hljs-keyword">and</span> (<span class="hljs-attribute">max-width</span>: <span class="hljs-number">375px</span>) &#123;<br>  <span class="hljs-selector-tag">html</span> &#123;<br>    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">16px</span><br>  &#125;<br>&#125;<br><br><span class="hljs-keyword">@media</span> screen <span class="hljs-keyword">and</span> (<span class="hljs-attribute">max-width</span>: <span class="hljs-number">320px</span>) &#123;<br>  <span class="hljs-selector-tag">html</span> &#123;<br>    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">12px</span><br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>ä¸ºäº†æ›´å‡†ç¡®ç›‘å¬è®¾å¤‡å¯è§†çª—å£å˜åŒ–ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨<code>css</code>ä¹‹å‰æ’å…¥<code>script</code>æ ‡ç­¾ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//åŠ¨æ€ä¸ºæ ¹å…ƒç´ è®¾ç½®å­—ä½“å¤§å°</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">init</span> (<span class="hljs-params"></span>) </span>&#123;<br>    <span class="hljs-comment">// è·å–å±å¹•å®½åº¦</span><br>    <span class="hljs-keyword">var</span> width = <span class="hljs-built_in">document</span>.documentElement.clientWidth<br>    <span class="hljs-comment">// è®¾ç½®æ ¹å…ƒç´ å­—ä½“å¤§å°ã€‚æ­¤æ—¶ä¸ºå®½çš„10ç­‰åˆ†</span><br>    <span class="hljs-built_in">document</span>.documentElement.style.fontSize = width / <span class="hljs-number">10</span> + <span class="hljs-string">&#x27;px&#x27;</span><br>&#125;<br><br><span class="hljs-comment">//é¦–æ¬¡åŠ è½½åº”ç”¨ï¼Œè®¾ç½®ä¸€æ¬¡</span><br>init()<br><span class="hljs-comment">// ç›‘å¬æ‰‹æœºæ—‹è½¬çš„äº‹ä»¶çš„æ—¶æœºï¼Œé‡æ–°è®¾ç½®</span><br><span class="hljs-built_in">window</span>.addEventListener(<span class="hljs-string">&#x27;orientationchange&#x27;</span>, init)<br><span class="hljs-comment">// ç›‘å¬æ‰‹æœºçª—å£å˜åŒ–ï¼Œé‡æ–°è®¾ç½®</span><br><span class="hljs-built_in">window</span>.addEventListener(<span class="hljs-string">&#x27;resize&#x27;</span>, init)<br></code></pre></td></tr></table></figure><p>æ— è®ºè®¾å¤‡å¯è§†çª—å£å¦‚ä½•å˜åŒ–ï¼Œå§‹ç»ˆè®¾ç½®<code>rem</code>ä¸º<code>width</code>çš„1/10ï¼Œå®ç°äº†ç™¾åˆ†æ¯”å¸ƒå±€</p><p>é™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥åˆ©ç”¨ä¸»æµ<code>UI</code>æ¡†æ¶ï¼Œå¦‚ï¼š<code>element ui</code>ã€<code>antd</code>æä¾›çš„æ …æ ¼å¸ƒå±€å®ç°å“åº”å¼</p><h3 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h3><p>å“åº”å¼è®¾è®¡å®ç°é€šå¸¸ä¼šä»ä»¥ä¸‹å‡ æ–¹é¢æ€è€ƒï¼š</p><ul><li>å¼¹æ€§ç›’å­ï¼ˆåŒ…æ‹¬å›¾ç‰‡ã€è¡¨æ ¼ã€è§†é¢‘ï¼‰å’Œåª’ä½“æŸ¥è¯¢ç­‰æŠ€æœ¯</li><li>ä½¿ç”¨ç™¾åˆ†æ¯”å¸ƒå±€åˆ›å»ºæµå¼å¸ƒå±€çš„å¼¹æ€§UIï¼ŒåŒæ—¶ä½¿ç”¨åª’ä½“æŸ¥è¯¢é™åˆ¶å…ƒç´ çš„å°ºå¯¸å’Œå†…å®¹å˜æ›´èŒƒå›´</li><li>ä½¿ç”¨ç›¸å¯¹å•ä½ä½¿å¾—å†…å®¹è‡ªé€‚åº”è°ƒèŠ‚</li><li>é€‰æ‹©æ–­ç‚¹ï¼Œé’ˆå¯¹ä¸åŒæ–­ç‚¹å®ç°ä¸åŒå¸ƒå±€å’Œå†…å®¹å±•ç¤º</li></ul><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>å“åº”å¼å¸ƒå±€ä¼˜ç‚¹å¯ä»¥çœ‹åˆ°ï¼š</p><ul><li>é¢å¯¹ä¸åŒåˆ†è¾¨ç‡è®¾å¤‡çµæ´»æ€§å¼º</li><li>èƒ½å¤Ÿå¿«æ·è§£å†³å¤šè®¾å¤‡æ˜¾ç¤ºé€‚åº”é—®é¢˜</li></ul><p>ç¼ºç‚¹ï¼š</p><ul><li>ä»…é€‚ç”¨å¸ƒå±€ã€ä¿¡æ¯ã€æ¡†æ¶å¹¶ä¸å¤æ‚çš„éƒ¨é—¨ç±»å‹ç½‘ç«™</li><li>å…¼å®¹å„ç§è®¾å¤‡å·¥ä½œé‡å¤§ï¼Œæ•ˆç‡ä½ä¸‹</li><li>ä»£ç ç´¯èµ˜ï¼Œä¼šå‡ºç°éšè—æ— ç”¨çš„å…ƒç´ ï¼ŒåŠ è½½æ—¶é—´åŠ é•¿</li><li>å…¶å®è¿™æ˜¯ä¸€ç§æŠ˜ä¸­æ€§è´¨çš„è®¾è®¡è§£å†³æ–¹æ¡ˆï¼Œå¤šæ–¹é¢å› ç´ å½±å“è€Œè¾¾ä¸åˆ°æœ€ä½³æ•ˆæœ</li><li>ä¸€å®šç¨‹åº¦ä¸Šæ”¹å˜äº†ç½‘ç«™åŸæœ‰çš„å¸ƒå±€ç»“æ„ï¼Œä¼šå‡ºç°ç”¨æˆ·æ··æ·†çš„æƒ…å†µ</li></ul>]]></content>
    
    
    <categories>
      
      <category>å­¦ä¹ ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç»¼åˆ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä»€ä¹ˆæ˜¯æ­£åˆ™è¡¨è¾¾å¼</title>
    <link href="/dylan/2021/12/30/regexp/"/>
    <url>/dylan/2021/12/30/regexp/</url>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>æ­£åˆ™è¡¨è¾¾å¼æ˜¯ä¸€ç§ç”¨æ¥åŒ¹é…å­—ç¬¦ä¸²çš„å¼ºæœ‰åŠ›çš„æ­¦å™¨</p><p>å®ƒçš„è®¾è®¡æ€æƒ³æ˜¯ç”¨ä¸€ç§æè¿°æ€§çš„è¯­è¨€å®šä¹‰ä¸€ä¸ªè§„åˆ™ï¼Œå‡¡æ˜¯ç¬¦åˆè§„åˆ™çš„å­—ç¬¦ä¸²ï¼Œæˆ‘ä»¬å°±è®¤ä¸ºå®ƒâ€œåŒ¹é…â€äº†ï¼Œå¦åˆ™ï¼Œè¯¥å­—ç¬¦ä¸²å°±æ˜¯ä¸åˆæ³•çš„</p><p>åœ¨ <code>JavaScript</code>ä¸­ï¼Œæ­£åˆ™è¡¨è¾¾å¼ä¹Ÿæ˜¯å¯¹è±¡ï¼Œæ„å»ºæ­£åˆ™è¡¨è¾¾å¼æœ‰ä¸¤ç§æ–¹å¼ï¼š</p><p>1.å­—é¢é‡åˆ›å»ºï¼Œå…¶ç”±åŒ…å«åœ¨æ–œæ ä¹‹é—´çš„æ¨¡å¼ç»„æˆ</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> re = <span class="hljs-regexp">/\d+/g</span>;<br></code></pre></td></tr></table></figure><p>2.è°ƒç”¨<code>RegExp</code>å¯¹è±¡çš„æ„é€ å‡½æ•°</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> re = <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">&quot;\\d+&quot;</span>,<span class="hljs-string">&quot;g&quot;</span>);<br><br><span class="hljs-keyword">const</span> rul = <span class="hljs-string">&quot;\\d+&quot;</span><br><span class="hljs-keyword">const</span> re1 = <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(rul,<span class="hljs-string">&quot;g&quot;</span>);<br></code></pre></td></tr></table></figure><p>ä½¿ç”¨æ„å»ºå‡½æ•°åˆ›å»ºï¼Œç¬¬ä¸€ä¸ªå‚æ•°å¯ä»¥æ˜¯ä¸€ä¸ªå˜é‡ï¼Œé‡åˆ°ç‰¹æ®Šå­—ç¬¦<code>\</code>éœ€è¦ä½¿ç”¨<code>\\</code>è¿›è¡Œè½¬ä¹‰</p><h2 id="åŒ¹é…è§„åˆ™"><a href="#åŒ¹é…è§„åˆ™" class="headerlink" title="åŒ¹é…è§„åˆ™"></a>åŒ¹é…è§„åˆ™</h2><p>å¸¸è§çš„æ ¡éªŒè§„åˆ™å¦‚ä¸‹ï¼š</p><table><thead><tr><th>è§„åˆ™</th><th>æè¿°</th></tr></thead><tbody><tr><td>\</td><td>è½¬ä¹‰</td></tr><tr><td>^</td><td>åŒ¹é…è¾“å…¥çš„å¼€å§‹</td></tr><tr><td>$</td><td>åŒ¹é…è¾“å…¥çš„ç»“æŸ</td></tr><tr><td>*</td><td>åŒ¹é…å‰ä¸€ä¸ªè¡¨è¾¾å¼ 0 æ¬¡æˆ–å¤šæ¬¡</td></tr><tr><td>+</td><td>åŒ¹é…å‰é¢ä¸€ä¸ªè¡¨è¾¾å¼ 1 æ¬¡æˆ–è€…å¤šæ¬¡ã€‚ç­‰ä»·äº <code>&#123;1,&#125;</code></td></tr><tr><td>?</td><td>åŒ¹é…å‰é¢ä¸€ä¸ªè¡¨è¾¾å¼ 0 æ¬¡æˆ–è€… 1 æ¬¡ã€‚ç­‰ä»·äº<code>&#123;0,1&#125;</code></td></tr><tr><td>.</td><td>é»˜è®¤åŒ¹é…é™¤æ¢è¡Œç¬¦ä¹‹å¤–çš„ä»»ä½•å•ä¸ªå­—ç¬¦</td></tr><tr><td>x(?=y)</td><td>åŒ¹é…â€™xâ€™ä»…ä»…å½“â€™xâ€™åé¢è·Ÿç€â€™yâ€™ã€‚è¿™ç§å«åšå…ˆè¡Œæ–­è¨€</td></tr><tr><td>(?&lt;=y)x</td><td>åŒ¹é…â€™xâ€™ä»…å½“â€™xâ€™å‰é¢æ˜¯â€™yâ€™.è¿™ç§å«åšåè¡Œæ–­è¨€</td></tr><tr><td>x(?!y)</td><td>ä»…ä»…å½“â€™xâ€™åé¢ä¸è·Ÿç€â€™yâ€™æ—¶åŒ¹é…â€™xâ€™ï¼Œè¿™è¢«ç§°ä¸ºæ­£å‘å¦å®šæŸ¥æ‰¾</td></tr><tr><td>(?&lt;!<em>y</em>)<em>x</em></td><td>ä»…ä»…å½“â€™xâ€™å‰é¢ä¸æ˜¯â€™yâ€™æ—¶åŒ¹é…â€™xâ€™ï¼Œè¿™è¢«ç§°ä¸ºåå‘å¦å®šæŸ¥æ‰¾</td></tr><tr><td>x|y</td><td>åŒ¹é…â€˜xâ€™æˆ–è€…â€˜yâ€™</td></tr><tr><td>{n}</td><td>n æ˜¯ä¸€ä¸ªæ­£æ•´æ•°ï¼ŒåŒ¹é…äº†å‰é¢ä¸€ä¸ªå­—ç¬¦åˆšå¥½å‡ºç°äº† n æ¬¡</td></tr><tr><td>{n,}</td><td>næ˜¯ä¸€ä¸ªæ­£æ•´æ•°ï¼ŒåŒ¹é…å‰ä¸€ä¸ªå­—ç¬¦è‡³å°‘å‡ºç°äº†næ¬¡</td></tr><tr><td>{n,m}</td><td>n å’Œ m éƒ½æ˜¯æ•´æ•°ã€‚åŒ¹é…å‰é¢çš„å­—ç¬¦è‡³å°‘næ¬¡ï¼Œæœ€å¤šmæ¬¡</td></tr><tr><td>[xyz]</td><td>ä¸€ä¸ªå­—ç¬¦é›†åˆã€‚åŒ¹é…æ–¹æ‹¬å·ä¸­çš„ä»»æ„å­—ç¬¦</td></tr><tr><td>[^xyz]</td><td>åŒ¹é…ä»»ä½•æ²¡æœ‰åŒ…å«åœ¨æ–¹æ‹¬å·ä¸­çš„å­—ç¬¦</td></tr><tr><td>\b</td><td>åŒ¹é…ä¸€ä¸ªè¯çš„è¾¹ç•Œï¼Œä¾‹å¦‚åœ¨å­—æ¯å’Œç©ºæ ¼ä¹‹é—´</td></tr><tr><td>\B</td><td>åŒ¹é…ä¸€ä¸ªéå•è¯è¾¹ç•Œ</td></tr><tr><td>\d</td><td>åŒ¹é…ä¸€ä¸ªæ•°å­—</td></tr><tr><td>\D</td><td>åŒ¹é…ä¸€ä¸ªéæ•°å­—å­—ç¬¦</td></tr><tr><td>\f</td><td>åŒ¹é…ä¸€ä¸ªæ¢é¡µç¬¦</td></tr><tr><td>\n</td><td>åŒ¹é…ä¸€ä¸ªæ¢è¡Œç¬¦</td></tr><tr><td>\r</td><td>åŒ¹é…ä¸€ä¸ªå›è½¦ç¬¦</td></tr><tr><td>\s</td><td>åŒ¹é…ä¸€ä¸ªç©ºç™½å­—ç¬¦ï¼ŒåŒ…æ‹¬ç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€æ¢é¡µç¬¦å’Œæ¢è¡Œç¬¦</td></tr><tr><td>\S</td><td>åŒ¹é…ä¸€ä¸ªéç©ºç™½å­—ç¬¦</td></tr><tr><td>\w</td><td>åŒ¹é…ä¸€ä¸ªå•å­—å­—ç¬¦ï¼ˆå­—æ¯ã€æ•°å­—æˆ–è€…ä¸‹åˆ’çº¿ï¼‰</td></tr><tr><td>\W</td><td>åŒ¹é…ä¸€ä¸ªéå•å­—å­—ç¬¦</td></tr></tbody></table><h3 id="æ­£åˆ™è¡¨è¾¾å¼æ ‡è®°"><a href="#æ­£åˆ™è¡¨è¾¾å¼æ ‡è®°" class="headerlink" title="æ­£åˆ™è¡¨è¾¾å¼æ ‡è®°"></a>æ­£åˆ™è¡¨è¾¾å¼æ ‡è®°</h3><table><thead><tr><th align="left">æ ‡å¿—</th><th align="left">æè¿°</th></tr></thead><tbody><tr><td align="left"><code>g</code></td><td align="left">å…¨å±€æœç´¢ã€‚</td></tr><tr><td align="left"><code>i</code></td><td align="left">ä¸åŒºåˆ†å¤§å°å†™æœç´¢ã€‚</td></tr><tr><td align="left"><code>m</code></td><td align="left">å¤šè¡Œæœç´¢ã€‚</td></tr><tr><td align="left"><code>s</code></td><td align="left">å…è®¸ <code>.</code> åŒ¹é…æ¢è¡Œç¬¦ã€‚</td></tr><tr><td align="left"><code>u</code></td><td align="left">ä½¿ç”¨<code>unicode</code>ç çš„æ¨¡å¼è¿›è¡ŒåŒ¹é…ã€‚</td></tr><tr><td align="left"><code>y</code></td><td align="left">æ‰§è¡Œâ€œç²˜æ€§(<code>sticky</code>)â€æœç´¢,åŒ¹é…ä»ç›®æ ‡å­—ç¬¦ä¸²çš„å½“å‰ä½ç½®å¼€å§‹ã€‚</td></tr></tbody></table><p>ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> re = <span class="hljs-regexp">/pattern/</span>flags;<br><span class="hljs-keyword">var</span> re = <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">&quot;pattern&quot;</span>, <span class="hljs-string">&quot;flags&quot;</span>);<br></code></pre></td></tr></table></figure><p>åœ¨äº†è§£ä¸‹æ­£åˆ™è¡¨è¾¾å¼åŸºæœ¬çš„ä¹‹å¤–ï¼Œè¿˜å¯ä»¥æŒæ¡å‡ ä¸ªæ­£åˆ™è¡¨è¾¾å¼çš„ç‰¹æ€§ï¼š</p><h3 id="è´ªå©ªæ¨¡å¼"><a href="#è´ªå©ªæ¨¡å¼" class="headerlink" title="è´ªå©ªæ¨¡å¼"></a>è´ªå©ªæ¨¡å¼</h3><p>åœ¨äº†è§£è´ªå©ªæ¨¡å¼å‰ï¼Œé¦–å…ˆä¸¾ä¸ªä¾‹å­ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> reg = <span class="hljs-regexp">/ab&#123;1,3&#125;c/</span><br></code></pre></td></tr></table></figure><p>åœ¨åŒ¹é…è¿‡ç¨‹ä¸­ï¼Œå°è¯•å¯èƒ½çš„é¡ºåºæ˜¯ä»å¤šå¾€å°‘çš„æ–¹å‘å»å°è¯•ã€‚é¦–å…ˆä¼šå°è¯•<code>bbb</code>ï¼Œç„¶åå†çœ‹æ•´ä¸ªæ­£åˆ™æ˜¯å¦èƒ½åŒ¹é…ã€‚ä¸èƒ½åŒ¹é…æ—¶ï¼Œåå‡ºä¸€ä¸ª<code>b</code>ï¼Œå³åœ¨<code>bb</code>çš„åŸºç¡€ä¸Šï¼Œå†ç»§ç»­å°è¯•ï¼Œä»¥æ­¤é‡å¤</p><p>å¦‚æœå¤šä¸ªè´ªå©ªé‡è¯æŒ¨ç€ï¼Œåˆ™æ·±åº¦ä¼˜å…ˆæœç´¢</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> string = <span class="hljs-string">&quot;12345&quot;</span>;<br><span class="hljs-keyword">const</span> regx = <span class="hljs-regexp">/(\d&#123;1,3&#125;)(\d&#123;1,3&#125;)/</span>;<br><span class="hljs-built_in">console</span>.log( string.match(reg) );<br><span class="hljs-comment">// =&gt; [&quot;12345&quot;, &quot;123&quot;, &quot;45&quot;, index: 0, input: &quot;12345&quot;]</span><br></code></pre></td></tr></table></figure><p>å…¶ä¸­ï¼Œå‰é¢çš„<code>\d&#123;1,3&#125;</code>åŒ¹é…çš„æ˜¯â€123â€ï¼Œåé¢çš„<code>\d&#123;1,3&#125;</code>åŒ¹é…çš„æ˜¯â€45â€</p><h3 id="æ‡’æƒ°æ¨¡å¼"><a href="#æ‡’æƒ°æ¨¡å¼" class="headerlink" title="æ‡’æƒ°æ¨¡å¼"></a>æ‡’æƒ°æ¨¡å¼</h3><p>æƒ°æ€§é‡è¯å°±æ˜¯åœ¨è´ªå©ªé‡è¯åé¢åŠ ä¸ªé—®å·ã€‚è¡¨ç¤ºå°½å¯èƒ½å°‘çš„åŒ¹é…</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> string = <span class="hljs-string">&quot;12345&quot;</span>;<br><span class="hljs-keyword">var</span> regex = <span class="hljs-regexp">/(\d&#123;1,3&#125;?)(\d&#123;1,3&#125;)/</span>;<br><span class="hljs-built_in">console</span>.log( string.match(regex) );<br><span class="hljs-comment">// =&gt; [&quot;1234&quot;, &quot;1&quot;, &quot;234&quot;, index: 0, input: &quot;12345&quot;]</span><br></code></pre></td></tr></table></figure><p>å…¶ä¸­<code>\d&#123;1,3&#125;?</code>åªåŒ¹é…åˆ°ä¸€ä¸ªå­—ç¬¦â€1â€ï¼Œè€Œåé¢çš„<code>\d&#123;1,3&#125;</code>åŒ¹é…äº†â€234â€</p><h3 id="åˆ†ç»„"><a href="#åˆ†ç»„" class="headerlink" title="åˆ†ç»„"></a>åˆ†ç»„</h3><p>åˆ†ç»„ä¸»è¦æ˜¯ç”¨è¿‡<code>()</code>è¿›è¡Œå®ç°ï¼Œæ¯”å¦‚<code>beyond&#123;3&#125;</code>ï¼Œæ˜¯åŒ¹é…<code>d</code>å­—æ¯3æ¬¡ã€‚è€Œ<code>(beyond)&#123;3&#125;</code>æ˜¯åŒ¹é…<code>beyond</code>ä¸‰æ¬¡</p><p>åœ¨<code>()</code>å†…ä½¿ç”¨<code>|</code>è¾¾åˆ°æˆ–çš„æ•ˆæœï¼Œå¦‚<code>(abc | xxx)</code>å¯ä»¥åŒ¹é…<code>abc</code>æˆ–è€…<code>xxx</code></p><p>åå‘å¼•ç”¨ï¼Œå·§ç”¨<code>$</code>åˆ†ç»„æ•è·</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> str = <span class="hljs-string">&quot;John Smith&quot;</span>;<br><br><span class="hljs-comment">// äº¤æ¢åå­—å’Œå§“æ°</span><br><span class="hljs-built_in">console</span>.log(str.replace(<span class="hljs-regexp">/(john) (smith)/i</span>, <span class="hljs-string">&#x27;$2, $1&#x27;</span>)) <span class="hljs-comment">// Smith, John</span><br></code></pre></td></tr></table></figure><h2 id="åŒ¹é…æ–¹æ³•"><a href="#åŒ¹é…æ–¹æ³•" class="headerlink" title="åŒ¹é…æ–¹æ³•"></a>åŒ¹é…æ–¹æ³•</h2><p>æ­£åˆ™è¡¨è¾¾å¼å¸¸è¢«ç”¨äºæŸäº›æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥åˆ†æˆä¸¤ç±»ï¼š</p><ul><li>å­—ç¬¦ä¸²ï¼ˆstrï¼‰æ–¹æ³•ï¼š<code>match</code>ã€<code>matchAll</code>ã€<code>search</code>ã€<code>replace</code>ã€<code>split</code></li><li>æ­£åˆ™å¯¹è±¡ä¸‹ï¼ˆregexpï¼‰çš„æ–¹æ³•ï¼š<code>test</code>ã€<code>exec</code></li></ul><table><thead><tr><th align="left">æ–¹æ³•</th><th align="left">æè¿°</th></tr></thead><tbody><tr><td align="left">exec</td><td align="left">ä¸€ä¸ªåœ¨å­—ç¬¦ä¸²ä¸­æ‰§è¡ŒæŸ¥æ‰¾åŒ¹é…çš„RegExpæ–¹æ³•ï¼Œå®ƒè¿”å›ä¸€ä¸ªæ•°ç»„ï¼ˆæœªåŒ¹é…åˆ°åˆ™è¿”å› nullï¼‰ã€‚</td></tr><tr><td align="left">test</td><td align="left">ä¸€ä¸ªåœ¨å­—ç¬¦ä¸²ä¸­æµ‹è¯•æ˜¯å¦åŒ¹é…çš„RegExpæ–¹æ³•ï¼Œå®ƒè¿”å› true æˆ– falseã€‚</td></tr><tr><td align="left">match</td><td align="left">ä¸€ä¸ªåœ¨å­—ç¬¦ä¸²ä¸­æ‰§è¡ŒæŸ¥æ‰¾åŒ¹é…çš„Stringæ–¹æ³•ï¼Œå®ƒè¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œåœ¨æœªåŒ¹é…åˆ°æ—¶ä¼šè¿”å› nullã€‚</td></tr><tr><td align="left">matchAll</td><td align="left">ä¸€ä¸ªåœ¨å­—ç¬¦ä¸²ä¸­æ‰§è¡ŒæŸ¥æ‰¾æ‰€æœ‰åŒ¹é…çš„Stringæ–¹æ³•ï¼Œå®ƒè¿”å›ä¸€ä¸ªè¿­ä»£å™¨ï¼ˆiteratorï¼‰ã€‚</td></tr><tr><td align="left">search</td><td align="left">ä¸€ä¸ªåœ¨å­—ç¬¦ä¸²ä¸­æµ‹è¯•åŒ¹é…çš„Stringæ–¹æ³•ï¼Œå®ƒè¿”å›åŒ¹é…åˆ°çš„ä½ç½®ç´¢å¼•ï¼Œæˆ–è€…åœ¨å¤±è´¥æ—¶è¿”å›-1ã€‚</td></tr><tr><td align="left">replace</td><td align="left">ä¸€ä¸ªåœ¨å­—ç¬¦ä¸²ä¸­æ‰§è¡ŒæŸ¥æ‰¾åŒ¹é…çš„Stringæ–¹æ³•ï¼Œå¹¶ä¸”ä½¿ç”¨æ›¿æ¢å­—ç¬¦ä¸²æ›¿æ¢æ‰åŒ¹é…åˆ°çš„å­å­—ç¬¦ä¸²ã€‚</td></tr><tr><td align="left">split</td><td align="left">ä¸€ä¸ªä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æˆ–è€…ä¸€ä¸ªå›ºå®šå­—ç¬¦ä¸²åˆ†éš”ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå¹¶å°†åˆ†éš”åçš„å­å­—ç¬¦ä¸²å­˜å‚¨åˆ°æ•°ç»„ä¸­çš„ <code>String</code> æ–¹æ³•ã€‚</td></tr></tbody></table><h3 id="str-match-regexp"><a href="#str-match-regexp" class="headerlink" title="str.match(regexp)"></a>str.match(regexp)</h3><p><code>str.match(regexp)</code> æ–¹æ³•åœ¨å­—ç¬¦ä¸² <code>str</code> ä¸­æ‰¾åˆ°åŒ¹é… <code>regexp</code> çš„å­—ç¬¦</p><p>å¦‚æœ <code>regexp</code> ä¸å¸¦æœ‰ <code>g</code> æ ‡è®°ï¼Œåˆ™å®ƒä»¥æ•°ç»„çš„å½¢å¼è¿”å›ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹ï¼Œå…¶ä¸­åŒ…å«åˆ†ç»„å’Œå±æ€§ <code>index</code>ï¼ˆåŒ¹é…é¡¹çš„ä½ç½®ï¼‰ã€<code>input</code>ï¼ˆè¾“å…¥å­—ç¬¦ä¸²ï¼Œç­‰äº <code>str</code>ï¼‰</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> str = <span class="hljs-string">&quot;I love JavaScript&quot;</span>;<br><br><span class="hljs-keyword">let</span> result = str.match(<span class="hljs-regexp">/Java(Script)/</span>);<br><br><span class="hljs-built_in">console</span>.log( result[<span class="hljs-number">0</span>] );     <span class="hljs-comment">// JavaScriptï¼ˆå®Œå…¨åŒ¹é…ï¼‰</span><br><span class="hljs-built_in">console</span>.log( result[<span class="hljs-number">1</span>] );     <span class="hljs-comment">// Scriptï¼ˆç¬¬ä¸€ä¸ªåˆ†ç»„ï¼‰</span><br><span class="hljs-built_in">console</span>.log( result.length ); <span class="hljs-comment">// 2</span><br><br><span class="hljs-comment">// å…¶ä»–ä¿¡æ¯ï¼š</span><br><span class="hljs-built_in">console</span>.log( result.index );  <span class="hljs-comment">// 7ï¼ˆåŒ¹é…ä½ç½®ï¼‰</span><br><span class="hljs-built_in">console</span>.log( result.input );  <span class="hljs-comment">// I love JavaScriptï¼ˆæºå­—ç¬¦ä¸²ï¼‰</span><br></code></pre></td></tr></table></figure><p>å¦‚æœ <code>regexp</code> å¸¦æœ‰ <code>g</code> æ ‡è®°ï¼Œåˆ™å®ƒå°†æ‰€æœ‰åŒ¹é…é¡¹çš„æ•°ç»„ä½œä¸ºå­—ç¬¦ä¸²è¿”å›ï¼Œè€Œä¸åŒ…å«åˆ†ç»„å’Œå…¶ä»–è¯¦ç»†ä¿¡æ¯</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> str = <span class="hljs-string">&quot;I love JavaScript&quot;</span>;<br><br><span class="hljs-keyword">let</span> result = str.match(<span class="hljs-regexp">/Java(Script)/g</span>);<br><br><span class="hljs-built_in">console</span>.log( result[<span class="hljs-number">0</span>] ); <span class="hljs-comment">// JavaScript</span><br><span class="hljs-built_in">console</span>.log( result.length ); <span class="hljs-comment">// 1</span><br></code></pre></td></tr></table></figure><p>å¦‚æœæ²¡æœ‰åŒ¹é…é¡¹ï¼Œåˆ™æ— è®ºæ˜¯å¦å¸¦æœ‰æ ‡è®° <code>g</code> ï¼Œéƒ½å°†è¿”å› <code>null</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> str = <span class="hljs-string">&quot;I love JavaScript&quot;</span>;<br><br><span class="hljs-keyword">let</span> result = str.match(<span class="hljs-regexp">/HTML/</span>);<br><br><span class="hljs-built_in">console</span>.log(result); <span class="hljs-comment">// null</span><br></code></pre></td></tr></table></figure><h3 id="str-matchAll-regexp"><a href="#str-matchAll-regexp" class="headerlink" title="str.matchAll(regexp)"></a>str.matchAll(regexp)</h3><p>è¿”å›ä¸€ä¸ªåŒ…å«æ‰€æœ‰åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼çš„ç»“æœåŠåˆ†ç»„æ•è·ç»„çš„è¿­ä»£å™¨</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> regexp = <span class="hljs-regexp">/t(e)(st(\d?))/g</span>;<br><span class="hljs-keyword">const</span> str = <span class="hljs-string">&#x27;test1test2&#x27;</span>;<br><br><span class="hljs-keyword">const</span> array = [...str.matchAll(regexp)];<br><br><span class="hljs-built_in">console</span>.log(array[<span class="hljs-number">0</span>]);<br><span class="hljs-comment">// expected output: Array [&quot;test1&quot;, &quot;e&quot;, &quot;st1&quot;, &quot;1&quot;]</span><br><br><span class="hljs-built_in">console</span>.log(array[<span class="hljs-number">1</span>]);<br><span class="hljs-comment">// expected output: Array [&quot;test2&quot;, &quot;e&quot;, &quot;st2&quot;, &quot;2&quot;]</span><br></code></pre></td></tr></table></figure><h3 id="str-search-regexp"><a href="#str-search-regexp" class="headerlink" title="str.search(regexp)"></a>str.search(regexp)</h3><p>è¿”å›ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹çš„ä½ç½®ï¼Œå¦‚æœæœªæ‰¾åˆ°ï¼Œåˆ™è¿”å› <code>-1</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> str = <span class="hljs-string">&quot;A drop of ink may make a million think&quot;</span>;<br><br><span class="hljs-built_in">console</span>.log( str.search( <span class="hljs-regexp">/ink/i</span> ) ); <span class="hljs-comment">// 10ï¼ˆç¬¬ä¸€ä¸ªåŒ¹é…ä½ç½®ï¼‰</span><br></code></pre></td></tr></table></figure><p>è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ<code>search</code> ä»…æŸ¥æ‰¾ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹</p><h3 id="str-replace-regexp"><a href="#str-replace-regexp" class="headerlink" title="str.replace(regexp)"></a>str.replace(regexp)</h3><p>æ›¿æ¢ä¸æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…çš„å­ä¸²ï¼Œå¹¶è¿”å›æ›¿æ¢åçš„å­—ç¬¦ä¸²ã€‚åœ¨ä¸è®¾ç½®å…¨å±€åŒ¹é…<code>g</code>çš„æ—¶å€™ï¼Œåªæ›¿æ¢ç¬¬ä¸€ä¸ªåŒ¹é…æˆåŠŸçš„å­—ç¬¦ä¸²ç‰‡æ®µ</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> reg1=<span class="hljs-regexp">/javascript/i</span>;<br><span class="hljs-keyword">const</span> reg2=<span class="hljs-regexp">/javascript/ig</span>;<br><span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;hello Javascript Javascript Javascript&#x27;</span>.replace(reg1,<span class="hljs-string">&#x27;js&#x27;</span>));<br><span class="hljs-comment">//hello js Javascript Javascript</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;hello Javascript Javascript Javascript&#x27;</span>.replace(reg2,<span class="hljs-string">&#x27;js&#x27;</span>));<br><span class="hljs-comment">//hello js js js</span><br></code></pre></td></tr></table></figure><h3 id="str-split-regexp"><a href="#str-split-regexp" class="headerlink" title="str.split(regexp)"></a>str.split(regexp)</h3><p>ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ï¼ˆæˆ–å­å­—ç¬¦ä¸²ï¼‰ä½œä¸ºåˆ†éš”ç¬¦æ¥åˆ†å‰²å­—ç¬¦ä¸²</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;12, 34, 56&#x27;</span>.split(<span class="hljs-regexp">/,\s*/</span>)) <span class="hljs-comment">// æ•°ç»„ [&#x27;12&#x27;, &#x27;34&#x27;, &#x27;56&#x27;]</span><br></code></pre></td></tr></table></figure><h3 id="regexp-exec-str"><a href="#regexp-exec-str" class="headerlink" title="regexp.exec(str)"></a>regexp.exec(str)</h3><p><code>regexp.exec(str)</code> æ–¹æ³•è¿”å›å­—ç¬¦ä¸² <code>str</code> ä¸­çš„ <code>regexp</code> åŒ¹é…é¡¹ï¼Œä¸ä»¥å‰çš„æ–¹æ³•ä¸åŒï¼Œå®ƒæ˜¯åœ¨æ­£åˆ™è¡¨è¾¾å¼è€Œä¸æ˜¯å­—ç¬¦ä¸²ä¸Šè°ƒç”¨çš„</p><p>æ ¹æ®æ­£åˆ™è¡¨è¾¾å¼æ˜¯å¦å¸¦æœ‰æ ‡å¿— <code>g</code>ï¼Œå®ƒçš„è¡Œä¸ºæœ‰æ‰€ä¸åŒ</p><p>å¦‚æœæ²¡æœ‰ <code>g</code>ï¼Œé‚£ä¹ˆ <code>regexp.exec(str)</code> è¿”å›çš„ç¬¬ä¸€ä¸ªåŒ¹é…ä¸ <code>str.match(regexp)</code> å®Œå…¨ç›¸åŒ</p><p>å¦‚æœæœ‰æ ‡è®° <code>g</code>ï¼Œè°ƒç”¨ <code>regexp.exec(str)</code> ä¼šè¿”å›ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹ï¼Œå¹¶å°†ç´§éšå…¶åçš„ä½ç½®ä¿å­˜åœ¨å±æ€§<code>regexp.lastIndex</code> ä¸­ã€‚ ä¸‹ä¸€æ¬¡åŒæ ·çš„è°ƒç”¨ä¼šä»ä½ç½® <code>regexp.lastIndex</code> å¼€å§‹æœç´¢ï¼Œè¿”å›ä¸‹ä¸€ä¸ªåŒ¹é…é¡¹ï¼Œå¹¶å°†å…¶åçš„ä½ç½®ä¿å­˜åœ¨ <code>regexp.lastIndex</code> ä¸­</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> str = <span class="hljs-string">&#x27;More about JavaScript at https://javascript.info&#x27;</span>;<br><span class="hljs-keyword">let</span> regexp = <span class="hljs-regexp">/javascript/ig</span>;<br><br><span class="hljs-keyword">let</span> result;<br><br><span class="hljs-keyword">while</span> (result = regexp.exec(str)) &#123;<br>  <span class="hljs-built_in">console</span>.log( <span class="hljs-string">`Found <span class="hljs-subst">$&#123;result[<span class="hljs-number">0</span>]&#125;</span> at position <span class="hljs-subst">$&#123;result.index&#125;</span>`</span> );<br>  <span class="hljs-comment">// Found JavaScript at position 11</span><br>  <span class="hljs-comment">// Found javascript at position 33</span><br>&#125;<br></code></pre></td></tr></table></figure><h3 id="regexp-test-str"><a href="#regexp-test-str" class="headerlink" title="regexp.test(str)"></a>regexp.test(str)</h3><p>æŸ¥æ‰¾åŒ¹é…é¡¹ï¼Œç„¶åè¿”å› <code>true/false</code> è¡¨ç¤ºæ˜¯å¦å­˜åœ¨</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> str = <span class="hljs-string">&quot;I love JavaScript&quot;</span>;<br><br><span class="hljs-comment">// è¿™ä¸¤ä¸ªæµ‹è¯•ç›¸åŒ</span><br><span class="hljs-built_in">console</span>.log( <span class="hljs-regexp">/love/i</span>.test(str) ); <span class="hljs-comment">// true</span><br></code></pre></td></tr></table></figure><h2 id="åº”ç”¨åœºæ™¯"><a href="#åº”ç”¨åœºæ™¯" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h2><p>é€šè¿‡ä¸Šé¢çš„å­¦ä¹ ï¼Œæˆ‘ä»¬å¯¹æ­£åˆ™è¡¨è¾¾å¼æœ‰äº†ä¸€å®šçš„äº†è§£</p><p>ä¸‹é¢å†æ¥çœ‹çœ‹æ­£åˆ™è¡¨è¾¾å¼ä¸€äº›æ¡ˆä¾‹åœºæ™¯ï¼š</p><p>éªŒè¯QQåˆæ³•æ€§ï¼ˆ5~15ä½ã€å…¨æ˜¯æ•°å­—ã€ä¸ä»¥0å¼€å¤´ï¼‰ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> reg = <span class="hljs-regexp">/^[1-9][0-9]&#123;4,14&#125;$/</span><br><span class="hljs-keyword">const</span> isvalid = patrn.exec(s)<br></code></pre></td></tr></table></figure><p>æ ¡éªŒç”¨æˆ·è´¦å·åˆæ³•æ€§ï¼ˆåªèƒ½è¾“å…¥5-20ä¸ªä»¥å­—æ¯å¼€å¤´ã€å¯å¸¦æ•°å­—ã€â€œ_â€ã€â€œ.â€çš„å­—ä¸²ï¼‰ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> patrn=<span class="hljs-regexp">/^[a-zA-Z]&#123;1&#125;([a-zA-Z0-9]|[._])&#123;4,19&#125;$/</span>;<br><span class="hljs-keyword">const</span> isvalid = patrn.exec(s)<br></code></pre></td></tr></table></figure><p>å°†<code>url</code>å‚æ•°è§£æä¸ºå¯¹è±¡</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> protocol = <span class="hljs-string">&#x27;(?&lt;protocol&gt;https?:)&#x27;</span>;<br><span class="hljs-keyword">const</span> host = <span class="hljs-string">&#x27;(?&lt;host&gt;(?&lt;hostname&gt;[^/#?:]+)(?::(?&lt;port&gt;\\d+))?)&#x27;</span>;<br><span class="hljs-keyword">const</span> path = <span class="hljs-string">&#x27;(?&lt;pathname&gt;(?:\\/[^/#?]+)*\\/?)&#x27;</span>;<br><span class="hljs-keyword">const</span> search = <span class="hljs-string">&#x27;(?&lt;search&gt;(?:\\?[^#]*)?)&#x27;</span>;<br><span class="hljs-keyword">const</span> hash = <span class="hljs-string">&#x27;(?&lt;hash&gt;(?:#.*)?)&#x27;</span>;<br><span class="hljs-keyword">const</span> reg = <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">`^<span class="hljs-subst">$&#123;protocol&#125;</span>\/\/<span class="hljs-subst">$&#123;host&#125;</span><span class="hljs-subst">$&#123;path&#125;</span><span class="hljs-subst">$&#123;search&#125;</span><span class="hljs-subst">$&#123;hash&#125;</span>$`</span>);<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">execURL</span>(<span class="hljs-params">url</span>)</span>&#123;<br>    <span class="hljs-keyword">const</span> result = reg.exec(url);<br>    <span class="hljs-keyword">if</span>(result)&#123;<br>        result.groups.port = result.groups.port || <span class="hljs-string">&#x27;&#x27;</span>;<br>        <span class="hljs-keyword">return</span> result.groups;<br>    &#125;<br>    <span class="hljs-keyword">return</span> &#123;<br>        <span class="hljs-attr">protocol</span>:<span class="hljs-string">&#x27;&#x27;</span>,<span class="hljs-attr">host</span>:<span class="hljs-string">&#x27;&#x27;</span>,<span class="hljs-attr">hostname</span>:<span class="hljs-string">&#x27;&#x27;</span>,<span class="hljs-attr">port</span>:<span class="hljs-string">&#x27;&#x27;</span>,<br>        <span class="hljs-attr">pathname</span>:<span class="hljs-string">&#x27;&#x27;</span>,<span class="hljs-attr">search</span>:<span class="hljs-string">&#x27;&#x27;</span>,<span class="hljs-attr">hash</span>:<span class="hljs-string">&#x27;&#x27;</span>,<br>    &#125;;<br>&#125;<br><br><span class="hljs-built_in">console</span>.log(execURL(<span class="hljs-string">&#x27;https://localhost:8080/?a=b#xxxx&#x27;</span>));<br>protocol: <span class="hljs-string">&quot;https:&quot;</span><br><span class="hljs-attr">host</span>: <span class="hljs-string">&quot;localhost:8080&quot;</span><br><span class="hljs-attr">hostname</span>: <span class="hljs-string">&quot;localhost&quot;</span><br><span class="hljs-attr">port</span>: <span class="hljs-string">&quot;8080&quot;</span><br><span class="hljs-attr">pathname</span>: <span class="hljs-string">&quot;/&quot;</span><br><span class="hljs-attr">search</span>: <span class="hljs-string">&quot;?a=b&quot;</span><br><span class="hljs-attr">hash</span>: <span class="hljs-string">&quot;#xxxx&quot;</span><br></code></pre></td></tr></table></figure><p>å†å°†ä¸Šé¢çš„<code>search</code>å’Œ<code>hash</code>è¿›è¡Œè§£æ</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">execUrlParams</span>(<span class="hljs-params">str</span>)</span>&#123;<br>    str = str.replace(<span class="hljs-regexp">/^[#?&amp;]/</span>,<span class="hljs-string">&#x27;&#x27;</span>);<br>    <span class="hljs-keyword">const</span> result = &#123;&#125;;<br>    <span class="hljs-keyword">if</span>(!str)&#123; <span class="hljs-comment">//å¦‚æœæ­£åˆ™å¯èƒ½é…åˆ°ç©ºå­—ç¬¦ä¸²ï¼Œææœ‰å¯èƒ½é€ æˆæ­»å¾ªç¯ï¼Œåˆ¤æ–­å¾ˆé‡è¦</span><br>        <span class="hljs-keyword">return</span> result; <br>    &#125;<br>    <span class="hljs-keyword">const</span> reg = <span class="hljs-regexp">/(?:^|&amp;)([^&amp;=]*)=?([^&amp;]*?)(?=&amp;|$)/y</span><br>    <span class="hljs-keyword">let</span> exec = reg.exec(str);<br>    <span class="hljs-keyword">while</span>(exec)&#123;<br>        result[exec[<span class="hljs-number">1</span>]] = exec[<span class="hljs-number">2</span>];<br>        exec = reg.exec(str);<br>    &#125;<br>    <span class="hljs-keyword">return</span> result;<br>&#125;<br><span class="hljs-built_in">console</span>.log(execUrlParams(<span class="hljs-string">&#x27;#&#x27;</span>));<span class="hljs-comment">// &#123;&#125;</span><br><span class="hljs-built_in">console</span>.log(execUrlParams(<span class="hljs-string">&#x27;##&#x27;</span>));<span class="hljs-comment">//&#123;&#x27;#&#x27;:&#x27;&#x27;&#125;</span><br><span class="hljs-built_in">console</span>.log(execUrlParams(<span class="hljs-string">&#x27;?q=3606&amp;src=srp&#x27;</span>)); <span class="hljs-comment">//&#123;q: &quot;3606&quot;, src: &quot;srp&quot;&#125;</span><br><span class="hljs-built_in">console</span>.log(execUrlParams(<span class="hljs-string">&#x27;test=a=b=c&amp;&amp;==&amp;a=&#x27;</span>));<span class="hljs-comment">//&#123;test: &quot;a=b=c&quot;, &quot;&quot;: &quot;=&quot;, a: &quot;&quot;&#125;</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>å­¦ä¹ ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>JavaScript</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>CSSåŠ¨ç”»</title>
    <link href="/dylan/2021/12/27/animation/"/>
    <url>/dylan/2021/12/27/animation/</url>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>CSSåŠ¨ç”»ï¼ˆCSS Animationsï¼‰æ˜¯ä¸ºå±‚å æ ·å¼è¡¨å»ºè®®çš„å…è®¸å¯æ‰©å±•æ ‡è®°è¯­è¨€ï¼ˆXMLï¼‰å…ƒç´ ä½¿ç”¨CSSçš„åŠ¨ç”»çš„æ¨¡å—</p><p>å³æŒ‡å…ƒç´ ä»ä¸€ç§æ ·å¼é€æ¸è¿‡æ¸¡ä¸ºå¦ä¸€ç§æ ·å¼çš„è¿‡ç¨‹</p><p>å¸¸è§çš„åŠ¨ç”»æ•ˆæœæœ‰å¾ˆå¤šï¼Œå¦‚å¹³ç§»ã€æ—‹è½¬ã€ç¼©æ”¾ç­‰ç­‰ï¼Œå¤æ‚åŠ¨ç”»åˆ™æ˜¯å¤šä¸ªç®€å•åŠ¨ç”»çš„ç»„åˆ</p><p><code>css</code>å®ç°åŠ¨ç”»çš„æ–¹å¼ï¼Œæœ‰å¦‚ä¸‹å‡ ç§ï¼š</p><ul><li>transition å®ç°æ¸å˜åŠ¨ç”»</li><li>transform è½¬å˜åŠ¨ç”»</li><li>animation å®ç°è‡ªå®šä¹‰åŠ¨ç”»</li></ul><h2 id="å®ç°æ–¹å¼"><a href="#å®ç°æ–¹å¼" class="headerlink" title="å®ç°æ–¹å¼"></a>å®ç°æ–¹å¼</h2><h3 id="transition-å®ç°æ¸å˜åŠ¨ç”»"><a href="#transition-å®ç°æ¸å˜åŠ¨ç”»" class="headerlink" title="transition å®ç°æ¸å˜åŠ¨ç”»"></a>transition å®ç°æ¸å˜åŠ¨ç”»</h3><p><code>transition</code>çš„å±æ€§å¦‚ä¸‹ï¼š</p><ul><li>property:å¡«å†™éœ€è¦å˜åŒ–çš„csså±æ€§</li><li>duration:å®Œæˆè¿‡æ¸¡æ•ˆæœéœ€è¦çš„æ—¶é—´å•ä½(sæˆ–è€…ms)</li><li>timing-function:å®Œæˆæ•ˆæœçš„é€Ÿåº¦æ›²çº¿</li><li>delay: åŠ¨ç”»æ•ˆæœçš„å»¶è¿Ÿè§¦å‘æ—¶é—´</li></ul><p>å…¶ä¸­<code>timing-function</code>çš„å€¼æœ‰å¦‚ä¸‹ï¼š</p><table><thead><tr><th>å€¼</th><th>æè¿°</th></tr></thead><tbody><tr><td>linear</td><td>åŒ€é€Ÿï¼ˆç­‰äº cubic-bezier(0,0,1,1)ï¼‰</td></tr><tr><td>ease</td><td>ä»æ…¢åˆ°å¿«å†åˆ°æ…¢ï¼ˆcubic-bezier(0.25,0.1,0.25,1)ï¼‰</td></tr><tr><td>ease-in</td><td>æ…¢æ…¢å˜å¿«ï¼ˆç­‰äº cubic-bezier(0.42,0,1,1)ï¼‰</td></tr><tr><td>ease-out</td><td>æ…¢æ…¢å˜æ…¢ï¼ˆç­‰äº cubic-bezier(0,0,0.58,1)ï¼‰</td></tr><tr><td>ease-in-out</td><td>å…ˆå˜å¿«å†åˆ°æ…¢ï¼ˆç­‰äº cubic-bezier(0.42,0,0.58,1)ï¼‰ï¼Œæ¸æ˜¾æ¸éšæ•ˆæœ</td></tr><tr><td>cubic-bezier(<em>n</em>,<em>n</em>,<em>n</em>,<em>n</em>)</td><td>åœ¨ cubic-bezier å‡½æ•°ä¸­å®šä¹‰è‡ªå·±çš„å€¼ã€‚å¯èƒ½çš„å€¼æ˜¯ 0 è‡³ 1 ä¹‹é—´çš„æ•°å€¼</td></tr></tbody></table><p>æ³¨æ„ï¼šå¹¶ä¸æ˜¯æ‰€æœ‰çš„å±æ€§éƒ½èƒ½ä½¿ç”¨è¿‡æ¸¡çš„ï¼Œå¦‚<code>display:none&lt;-&gt;display:block</code></p><p>ä¸¾ä¸ªä¾‹å­ï¼Œå®ç°é¼ æ ‡ç§»åŠ¨ä¸Šå»å‘ç”Ÿå˜åŒ–åŠ¨ç”»æ•ˆæœ</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css"></span><br><span class="css">       <span class="hljs-selector-class">.base</span> &#123;</span><br><span class="css">            <span class="hljs-attribute">width</span>: <span class="hljs-number">100px</span>;</span><br><span class="css">            <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;</span><br><span class="css">            <span class="hljs-attribute">display</span>: inline-block;</span><br><span class="css">            <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#0EA9FF</span>;</span><br><span class="css">            <span class="hljs-attribute">border-width</span>: <span class="hljs-number">5px</span>;</span><br><span class="css">            <span class="hljs-attribute">border-style</span>: solid;</span><br><span class="css">            <span class="hljs-attribute">border-color</span>: <span class="hljs-number">#5daf34</span>;</span><br><span class="css">            <span class="hljs-attribute">transition-property</span>: width, height, background-color, border-width;</span><br><span class="css">            <span class="hljs-attribute">transition-duration</span>: <span class="hljs-number">2s</span>;</span><br><span class="css">            <span class="hljs-attribute">transition-timing-function</span>: ease-in;</span><br><span class="css">            <span class="hljs-attribute">transition-delay</span>: <span class="hljs-number">500ms</span>;</span><br><span class="css">        &#125;</span><br><span class="css"></span><br><span class="css">        <span class="hljs-comment">/*ç®€å†™*/</span></span><br><span class="css">        <span class="hljs-comment">/*transition: all 2s ease-in 500ms;*/</span></span><br><span class="css">        <span class="hljs-selector-class">.base</span><span class="hljs-selector-pseudo">:hover</span> &#123;</span><br><span class="css">            <span class="hljs-attribute">width</span>: <span class="hljs-number">200px</span>;</span><br><span class="css">            <span class="hljs-attribute">height</span>: <span class="hljs-number">200px</span>;</span><br><span class="css">            <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#5daf34</span>;</span><br><span class="css">            <span class="hljs-attribute">border-width</span>: <span class="hljs-number">10px</span>;</span><br><span class="css">            <span class="hljs-attribute">border-color</span>: <span class="hljs-number">#3a8ee6</span>;</span><br><span class="css">        &#125;</span><br><span class="css"></span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;base&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure><h3 id="transform-è½¬å˜åŠ¨ç”»"><a href="#transform-è½¬å˜åŠ¨ç”»" class="headerlink" title="transform è½¬å˜åŠ¨ç”»"></a>transform è½¬å˜åŠ¨ç”»</h3><p>åŒ…å«å››ä¸ªå¸¸ç”¨çš„åŠŸèƒ½ï¼š</p><ul><li>translateï¼šä½ç§»</li><li>scaleï¼šç¼©æ”¾</li><li>rotateï¼šæ—‹è½¬</li><li>skewï¼šå€¾æ–œ</li></ul><p>ä¸€èˆ¬é…åˆ<code>transition</code>è¿‡åº¦ä½¿ç”¨</p><p>æ³¨æ„çš„æ˜¯ï¼Œ<code>transform</code>ä¸æ”¯æŒ<code>inline</code>å…ƒç´ ï¼Œä½¿ç”¨å‰æŠŠå®ƒå˜æˆ<code>block</code></p><p>ä¸¾ä¸ªä¾‹å­</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css"></span><br><span class="css">    <span class="hljs-selector-class">.base</span> &#123;</span><br><span class="css">        <span class="hljs-attribute">width</span>: <span class="hljs-number">100px</span>;</span><br><span class="css">        <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;</span><br><span class="css">        <span class="hljs-attribute">display</span>: inline-block;</span><br><span class="css">        <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#0EA9FF</span>;</span><br><span class="css">        <span class="hljs-attribute">border-width</span>: <span class="hljs-number">5px</span>;</span><br><span class="css">        <span class="hljs-attribute">border-style</span>: solid;</span><br><span class="css">        <span class="hljs-attribute">border-color</span>: <span class="hljs-number">#5daf34</span>;</span><br><span class="css">        <span class="hljs-attribute">transition-property</span>: width, height, background-color, border-width;</span><br><span class="css">        <span class="hljs-attribute">transition-duration</span>: <span class="hljs-number">2s</span>;</span><br><span class="css">        <span class="hljs-attribute">transition-timing-function</span>: ease-in;</span><br><span class="css">        <span class="hljs-attribute">transition-delay</span>: <span class="hljs-number">500ms</span>;</span><br><span class="css">    &#125;</span><br><span class="css">    <span class="hljs-selector-class">.base2</span> &#123;</span><br><span class="css">        <span class="hljs-attribute">transform</span>: none;</span><br><span class="css">        <span class="hljs-attribute">transition-property</span>: transform;</span><br><span class="css">        <span class="hljs-attribute">transition-delay</span>: <span class="hljs-number">5ms</span>;</span><br><span class="css">    &#125;</span><br><span class="css"></span><br><span class="css">    <span class="hljs-selector-class">.base2</span><span class="hljs-selector-pseudo">:hover</span> &#123;</span><br><span class="css">        <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">scale</span>(<span class="hljs-number">0.8</span>, <span class="hljs-number">1.5</span>) <span class="hljs-built_in">rotate</span>(<span class="hljs-number">35deg</span>) <span class="hljs-built_in">skew</span>(<span class="hljs-number">5deg</span>) <span class="hljs-built_in">translate</span>(<span class="hljs-number">15px</span>, <span class="hljs-number">25px</span>);</span><br><span class="css">    &#125;</span><br><span class="css"></span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br> <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;base base2&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ç›’å­å‘ç”Ÿäº†æ—‹è½¬ï¼Œå€¾æ–œï¼Œå¹³ç§»ï¼Œæ”¾å¤§</p><h3 id="animation-å®ç°è‡ªå®šä¹‰åŠ¨ç”»"><a href="#animation-å®ç°è‡ªå®šä¹‰åŠ¨ç”»" class="headerlink" title="animation å®ç°è‡ªå®šä¹‰åŠ¨ç”»"></a>animation å®ç°è‡ªå®šä¹‰åŠ¨ç”»</h3><p><code>animation</code>æ˜¯ç”± 8 ä¸ªå±æ€§çš„ç®€å†™ï¼Œåˆ†åˆ«å¦‚ä¸‹ï¼š</p><table><thead><tr><th>å±æ€§</th><th>æè¿°</th><th>å±æ€§å€¼</th></tr></thead><tbody><tr><td>animation-duration</td><td>æŒ‡å®šåŠ¨ç”»å®Œæˆä¸€ä¸ªå‘¨æœŸæ‰€éœ€è¦æ—¶é—´ï¼Œå•ä½ç§’ï¼ˆsï¼‰æˆ–æ¯«ç§’ï¼ˆmsï¼‰ï¼Œé»˜è®¤æ˜¯ 0</td><td></td></tr><tr><td>animation-timing-function</td><td>æŒ‡å®šåŠ¨ç”»è®¡æ—¶å‡½æ•°ï¼Œå³åŠ¨ç”»çš„é€Ÿåº¦æ›²çº¿ï¼Œé»˜è®¤æ˜¯ â€œeaseâ€</td><td>linearã€easeã€ease-inã€ease-outã€ease-in-out</td></tr><tr><td>animation-delay</td><td>æŒ‡å®šåŠ¨ç”»å»¶è¿Ÿæ—¶é—´ï¼Œå³åŠ¨ç”»ä½•æ—¶å¼€å§‹ï¼Œé»˜è®¤æ˜¯ 0</td><td></td></tr><tr><td>animation-iteration-count</td><td>æŒ‡å®šåŠ¨ç”»æ’­æ”¾çš„æ¬¡æ•°ï¼Œé»˜è®¤æ˜¯ 1</td><td></td></tr><tr><td>animation-direction æŒ‡å®šåŠ¨ç”»æ’­æ”¾çš„æ–¹å‘</td><td>é»˜è®¤æ˜¯ normal</td><td>normalã€reverseã€alternateã€alternate-reverse</td></tr><tr><td>animation-fill-mode</td><td>æŒ‡å®šåŠ¨ç”»å¡«å……æ¨¡å¼ã€‚é»˜è®¤æ˜¯ none</td><td>forwardsã€backwardsã€both</td></tr><tr><td>animation-play-state</td><td>æŒ‡å®šåŠ¨ç”»æ’­æ”¾çŠ¶æ€ï¼Œæ­£åœ¨è¿è¡Œæˆ–æš‚åœã€‚é»˜è®¤æ˜¯ running</td><td>runningã€pauser</td></tr><tr><td>animation-name</td><td>æŒ‡å®š @keyframes åŠ¨ç”»çš„åç§°</td><td></td></tr></tbody></table><p><code>CSS</code> åŠ¨ç”»åªéœ€è¦å®šä¹‰ä¸€äº›å…³é”®çš„å¸§ï¼Œè€Œå…¶ä½™çš„å¸§ï¼Œæµè§ˆå™¨ä¼šæ ¹æ®è®¡æ—¶å‡½æ•°æ’å€¼è®¡ç®—å‡ºæ¥ï¼Œ</p><p>é€šè¿‡ <code>@keyframes</code> æ¥å®šä¹‰å…³é”®å¸§</p><p>å› æ­¤ï¼Œå¦‚æœæˆ‘ä»¬æƒ³è¦è®©å…ƒç´ æ—‹è½¬ä¸€åœˆï¼Œåªéœ€è¦å®šä¹‰å¼€å§‹å’Œç»“æŸä¸¤å¸§å³å¯ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-keyword">@keyframes</span> rotate&#123;<br>    <span class="hljs-selector-tag">from</span>&#123;<br>        <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">rotate</span>(<span class="hljs-number">0deg</span>);<br>    &#125;<br>    <span class="hljs-selector-tag">to</span>&#123;<br>        <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">rotate</span>(<span class="hljs-number">360deg</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><code>from</code> è¡¨ç¤ºæœ€å¼€å§‹çš„é‚£ä¸€å¸§ï¼Œ<code>to</code> è¡¨ç¤ºç»“æŸæ—¶çš„é‚£ä¸€å¸§</p><p>ä¹Ÿå¯ä»¥ä½¿ç”¨ç™¾åˆ†æ¯”åˆ»ç”»ç”Ÿå‘½å‘¨æœŸ</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-keyword">@keyframes</span> rotate&#123;<br>    <span class="hljs-number">0%</span>&#123;<br>        <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">rotate</span>(<span class="hljs-number">0deg</span>);<br>    &#125;<br>    <span class="hljs-number">50%</span>&#123;<br>        <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">rotate</span>(<span class="hljs-number">180deg</span>);<br>    &#125;<br>    <span class="hljs-number">100%</span>&#123;<br>        <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">rotate</span>(<span class="hljs-number">360deg</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>å®šä¹‰å¥½äº†å…³é”®å¸§åï¼Œä¸‹æ¥å°±å¯ä»¥ç›´æ¥ç”¨å®ƒäº†ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-attribute">animation</span>: rotate <span class="hljs-number">2s</span>;<br></code></pre></td></tr></table></figure><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><table><thead><tr><th>å±æ€§</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>transitionï¼ˆè¿‡åº¦ï¼‰</td><td>ç”¨äºè®¾ç½®å…ƒç´ çš„æ ·å¼è¿‡åº¦ï¼Œå’Œanimationæœ‰ç€ç±»ä¼¼çš„æ•ˆæœï¼Œä½†ç»†èŠ‚ä¸Šæœ‰å¾ˆå¤§çš„ä¸åŒ</td></tr><tr><td>transformï¼ˆå˜å½¢ï¼‰</td><td>ç”¨äºå…ƒç´ è¿›è¡Œæ—‹è½¬ã€ç¼©æ”¾ã€ç§»åŠ¨æˆ–å€¾æ–œï¼Œå’Œè®¾ç½®æ ·å¼çš„åŠ¨ç”»å¹¶æ²¡æœ‰ä»€ä¹ˆå…³ç³»ï¼Œå°±ç›¸å½“äºcolorä¸€æ ·ç”¨æ¥è®¾ç½®å…ƒç´ çš„â€œå¤–è¡¨â€</td></tr><tr><td>translateï¼ˆç§»åŠ¨ï¼‰</td><td>åªæ˜¯transformçš„ä¸€ä¸ªå±æ€§å€¼ï¼Œå³ç§»åŠ¨</td></tr><tr><td>animationï¼ˆåŠ¨ç”»ï¼‰</td><td>ç”¨äºè®¾ç½®åŠ¨ç”»å±æ€§ï¼Œä»–æ˜¯ä¸€ä¸ªç®€å†™çš„å±æ€§ï¼ŒåŒ…å«6ä¸ªå±æ€§</td></tr></tbody></table>]]></content>
    
    
    <categories>
      
      <category>å­¦ä¹ ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>CSS</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>varã€letã€const åŒºåˆ«</title>
    <link href="/dylan/2021/12/26/let/"/>
    <url>/dylan/2021/12/26/let/</url>
    
    <content type="html"><![CDATA[<h2 id="var"><a href="#var" class="headerlink" title="var"></a>var</h2><p>åœ¨ES5ä¸­ï¼Œé¡¶å±‚å¯¹è±¡çš„å±æ€§å’Œå…¨å±€å˜é‡æ˜¯ç­‰ä»·çš„ï¼Œç”¨<code>var</code>å£°æ˜çš„å˜é‡æ—¢æ˜¯å…¨å±€å˜é‡ï¼Œä¹Ÿæ˜¯é¡¶å±‚å˜é‡</p><p>æ³¨æ„ï¼šé¡¶å±‚å¯¹è±¡ï¼Œåœ¨æµè§ˆå™¨ç¯å¢ƒæŒ‡çš„æ˜¯<code>window</code>å¯¹è±¡ï¼Œåœ¨ <code>Node</code> æŒ‡çš„æ˜¯<code>global</code>å¯¹è±¡</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> a = <span class="hljs-number">10</span>;<br><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">window</span>.a) <span class="hljs-comment">// 10</span><br></code></pre></td></tr></table></figure><p>ä½¿ç”¨<code>var</code>å£°æ˜çš„å˜é‡å­˜åœ¨å˜é‡æå‡çš„æƒ…å†µ</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-built_in">console</span>.log(a) <span class="hljs-comment">// undefined</span><br><span class="hljs-keyword">var</span> a = <span class="hljs-number">20</span><br></code></pre></td></tr></table></figure><p>åœ¨ç¼–è¯‘é˜¶æ®µï¼Œç¼–è¯‘å™¨ä¼šå°†å…¶å˜æˆä»¥ä¸‹æ‰§è¡Œ</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> a<br><span class="hljs-built_in">console</span>.log(a)<br>a = <span class="hljs-number">20</span><br></code></pre></td></tr></table></figure><p>ä½¿ç”¨<code>var</code>ï¼Œæˆ‘ä»¬èƒ½å¤Ÿå¯¹ä¸€ä¸ªå˜é‡è¿›è¡Œå¤šæ¬¡å£°æ˜ï¼Œåé¢å£°æ˜çš„å˜é‡ä¼šè¦†ç›–å‰é¢çš„å˜é‡å£°æ˜</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> a = <span class="hljs-number">20</span> <br><span class="hljs-keyword">var</span> a = <span class="hljs-number">30</span><br><span class="hljs-built_in">console</span>.log(a) <span class="hljs-comment">// 30</span><br></code></pre></td></tr></table></figure><p>åœ¨å‡½æ•°ä¸­ä½¿ç”¨ä½¿ç”¨<code>var</code>å£°æ˜å˜é‡æ—¶å€™ï¼Œè¯¥å˜é‡æ˜¯å±€éƒ¨çš„</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> a = <span class="hljs-number">20</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">change</span>(<span class="hljs-params"></span>)</span>&#123;<br>    <span class="hljs-keyword">var</span> a = <span class="hljs-number">30</span><br>&#125;<br>change()<br><span class="hljs-built_in">console</span>.log(a) <span class="hljs-comment">// 20 </span><br></code></pre></td></tr></table></figure><p>è€Œå¦‚æœåœ¨å‡½æ•°å†…ä¸ä½¿ç”¨<code>var</code>ï¼Œè¯¥å˜é‡æ˜¯å…¨å±€çš„</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> a = <span class="hljs-number">20</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">change</span>(<span class="hljs-params"></span>)</span>&#123;<br>   a = <span class="hljs-number">30</span><br>&#125;<br>change()<br><span class="hljs-built_in">console</span>.log(a) <span class="hljs-comment">// 30 </span><br></code></pre></td></tr></table></figure><h2 id="let"><a href="#let" class="headerlink" title="let"></a>let</h2><p><code>let</code>æ˜¯<code>ES6</code>æ–°å¢çš„å‘½ä»¤ï¼Œç”¨æ¥å£°æ˜å˜é‡</p><p>ç”¨æ³•ç±»ä¼¼äº<code>var</code>ï¼Œä½†æ˜¯æ‰€å£°æ˜çš„å˜é‡ï¼Œåªåœ¨<code>let</code>å‘½ä»¤æ‰€åœ¨çš„ä»£ç å—å†…æœ‰æ•ˆ</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&#123;<br>    <span class="hljs-keyword">let</span> a = <span class="hljs-number">20</span><br>&#125;<br><span class="hljs-built_in">console</span>.log(a) <span class="hljs-comment">// ReferenceError: a is not defined.</span><br></code></pre></td></tr></table></figure><p>ä¸å­˜åœ¨å˜é‡æå‡</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-built_in">console</span>.log(a) <span class="hljs-comment">// æŠ¥é”™ReferenceError</span><br><span class="hljs-keyword">let</span> a = <span class="hljs-number">2</span><br></code></pre></td></tr></table></figure><p>è¿™è¡¨ç¤ºåœ¨å£°æ˜å®ƒä¹‹å‰ï¼Œå˜é‡<code>a</code>æ˜¯ä¸å­˜åœ¨çš„ï¼Œè¿™æ—¶å¦‚æœç”¨åˆ°å®ƒï¼Œå°±ä¼šæŠ›å‡ºä¸€ä¸ªé”™è¯¯</p><p>åªè¦å—çº§ä½œç”¨åŸŸå†…å­˜åœ¨<code>let</code>å‘½ä»¤ï¼Œè¿™ä¸ªåŒºåŸŸå°±ä¸å†å—å¤–éƒ¨å½±å“</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> a = <span class="hljs-number">123</span><br><span class="hljs-keyword">if</span> (<span class="hljs-literal">true</span>) &#123;<br>    a = <span class="hljs-string">&#x27;abc&#x27;</span> <span class="hljs-comment">// ReferenceError</span><br>    <span class="hljs-keyword">let</span> a;<br>&#125;<br></code></pre></td></tr></table></figure><p>ä½¿ç”¨<code>let</code>å£°æ˜å˜é‡å‰ï¼Œè¯¥å˜é‡éƒ½ä¸å¯ç”¨ï¼Œä¹Ÿå°±æ˜¯å¤§å®¶å¸¸è¯´çš„â€œæš‚æ—¶æ€§æ­»åŒºâ€</p><p>æœ€åï¼Œ<code>let</code>ä¸å…è®¸åœ¨ç›¸åŒä½œç”¨åŸŸä¸­é‡å¤å£°æ˜</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> a = <span class="hljs-number">20</span><br><span class="hljs-keyword">let</span> a = <span class="hljs-number">30</span><br><span class="hljs-comment">// Uncaught SyntaxError: Identifier &#x27;a&#x27; has already been declared</span><br></code></pre></td></tr></table></figure><p>æ³¨æ„çš„æ˜¯ç›¸åŒä½œç”¨åŸŸï¼Œä¸‹é¢è¿™ç§æƒ…å†µæ˜¯ä¸ä¼šæŠ¥é”™çš„</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> a = <span class="hljs-number">20</span><br>&#123;<br>    <span class="hljs-keyword">let</span> a = <span class="hljs-number">30</span><br>&#125;<br></code></pre></td></tr></table></figure><p>å› æ­¤ï¼Œæˆ‘ä»¬ä¸èƒ½åœ¨å‡½æ•°å†…éƒ¨é‡æ–°å£°æ˜å‚æ•°</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">func</span>(<span class="hljs-params">arg</span>) </span>&#123;<br>  <span class="hljs-keyword">let</span> arg;<br>&#125;<br>func()<br><span class="hljs-comment">// Uncaught SyntaxError: Identifier &#x27;arg&#x27; has already been declared</span><br></code></pre></td></tr></table></figure><h2 id="const"><a href="#const" class="headerlink" title="const"></a>const</h2><p><code>const</code>å£°æ˜ä¸€ä¸ªåªè¯»çš„å¸¸é‡ï¼Œä¸€æ—¦å£°æ˜ï¼Œå¸¸é‡çš„å€¼å°±ä¸èƒ½æ”¹å˜</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> a = <span class="hljs-number">1</span><br>a = <span class="hljs-number">3</span><br><span class="hljs-comment">// TypeError: Assignment to constant variable.</span><br></code></pre></td></tr></table></figure><p>è¿™æ„å‘³ç€ï¼Œ<code>const</code>ä¸€æ—¦å£°æ˜å˜é‡ï¼Œå°±å¿…é¡»ç«‹å³åˆå§‹åŒ–ï¼Œä¸èƒ½ç•™åˆ°ä»¥åèµ‹å€¼</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> a;<br><span class="hljs-comment">// SyntaxError: Missing initializer in const declaration</span><br></code></pre></td></tr></table></figure><p>å¦‚æœä¹‹å‰ç”¨<code>var</code>æˆ–<code>let</code>å£°æ˜è¿‡å˜é‡ï¼Œå†ç”¨<code>const</code>å£°æ˜åŒæ ·ä¼šæŠ¥é”™</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> a = <span class="hljs-number">20</span><br><span class="hljs-keyword">let</span> b = <span class="hljs-number">20</span><br><span class="hljs-keyword">const</span> a = <span class="hljs-number">30</span><br><span class="hljs-keyword">const</span> b = <span class="hljs-number">30</span><br><span class="hljs-comment">// éƒ½ä¼šæŠ¥é”™</span><br></code></pre></td></tr></table></figure><p><code>const</code>å®é™…ä¸Šä¿è¯çš„å¹¶ä¸æ˜¯å˜é‡çš„å€¼ä¸å¾—æ”¹åŠ¨ï¼Œè€Œæ˜¯å˜é‡æŒ‡å‘çš„é‚£ä¸ªå†…å­˜åœ°å€æ‰€ä¿å­˜çš„æ•°æ®ä¸å¾—æ”¹åŠ¨</p><p>å¯¹äºç®€å•ç±»å‹çš„æ•°æ®ï¼Œå€¼å°±ä¿å­˜åœ¨å˜é‡æŒ‡å‘çš„é‚£ä¸ªå†…å­˜åœ°å€ï¼Œå› æ­¤ç­‰åŒäºå¸¸é‡</p><p>å¯¹äºå¤æ‚ç±»å‹çš„æ•°æ®ï¼Œå˜é‡æŒ‡å‘çš„å†…å­˜åœ°å€ï¼Œä¿å­˜çš„åªæ˜¯ä¸€ä¸ªæŒ‡å‘å®é™…æ•°æ®çš„æŒ‡é’ˆï¼Œ<code>const</code>åªèƒ½ä¿è¯è¿™ä¸ªæŒ‡é’ˆæ˜¯å›ºå®šçš„ï¼Œå¹¶ä¸èƒ½ç¡®ä¿æ”¹å˜é‡çš„ç»“æ„ä¸å˜</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> foo = &#123;&#125;;<br><br><span class="hljs-comment">// ä¸º foo æ·»åŠ ä¸€ä¸ªå±æ€§ï¼Œå¯ä»¥æˆåŠŸ</span><br>foo.prop = <span class="hljs-number">123</span>;<br>foo.prop <span class="hljs-comment">// 123</span><br><br><span class="hljs-comment">// å°† foo æŒ‡å‘å¦ä¸€ä¸ªå¯¹è±¡ï¼Œå°±ä¼šæŠ¥é”™</span><br>foo = &#123;&#125;; <span class="hljs-comment">// TypeError: &quot;foo&quot; is read-only</span><br></code></pre></td></tr></table></figure><p>å…¶å®ƒæƒ…å†µï¼Œ<code>const</code>ä¸<code>let</code>ä¸€è‡´</p><h2 id="åŒºåˆ«"><a href="#åŒºåˆ«" class="headerlink" title="åŒºåˆ«"></a>åŒºåˆ«</h2><p><code>var</code>ã€<code>let</code>ã€<code>const</code>ä¸‰è€…åŒºåˆ«å¯ä»¥å›´ç»•ä¸‹é¢äº”ç‚¹å±•å¼€ï¼š</p><ul><li>å˜é‡æå‡</li><li>æš‚æ—¶æ€§æ­»åŒº</li><li>å—çº§ä½œç”¨åŸŸ</li><li>é‡å¤å£°æ˜</li><li>ä¿®æ”¹å£°æ˜çš„å˜é‡</li><li>ä½¿ç”¨</li></ul><h3 id="å˜é‡æå‡"><a href="#å˜é‡æå‡" class="headerlink" title="å˜é‡æå‡"></a>å˜é‡æå‡</h3><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs arcade"><span class="hljs-keyword">var</span> <span class="hljs-string">`å£°æ˜çš„å˜é‡å­˜åœ¨å˜é‡æå‡ï¼Œå³å˜é‡å¯ä»¥åœ¨å£°æ˜ä¹‹å‰è°ƒç”¨ï¼Œå€¼ä¸º`</span><span class="hljs-literal">undefined</span><br></code></pre></td></tr></table></figure><p><code>let</code>å’Œ<code>const</code>ä¸å­˜åœ¨å˜é‡æå‡ï¼Œå³å®ƒä»¬æ‰€å£°æ˜çš„å˜é‡ä¸€å®šè¦åœ¨å£°æ˜åä½¿ç”¨ï¼Œå¦åˆ™æŠ¥é”™</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// var</span><br><span class="hljs-built_in">console</span>.log(a)  <span class="hljs-comment">// undefined</span><br><span class="hljs-keyword">var</span> a = <span class="hljs-number">10</span><br><br><span class="hljs-comment">// let </span><br><span class="hljs-built_in">console</span>.log(b)  <span class="hljs-comment">// Cannot access &#x27;b&#x27; before initialization</span><br><span class="hljs-keyword">let</span> b = <span class="hljs-number">10</span><br><br><span class="hljs-comment">// const</span><br><span class="hljs-built_in">console</span>.log(c)  <span class="hljs-comment">// Cannot access &#x27;c&#x27; before initialization</span><br><span class="hljs-keyword">const</span> c = <span class="hljs-number">10</span><br></code></pre></td></tr></table></figure><h3 id="æš‚æ—¶æ€§æ­»åŒº"><a href="#æš‚æ—¶æ€§æ­»åŒº" class="headerlink" title="æš‚æ—¶æ€§æ­»åŒº"></a>æš‚æ—¶æ€§æ­»åŒº</h3><p><code>var</code>ä¸å­˜åœ¨æš‚æ—¶æ€§æ­»åŒº</p><p><code>let</code>å’Œ<code>const</code>å­˜åœ¨æš‚æ—¶æ€§æ­»åŒºï¼Œåªæœ‰ç­‰åˆ°å£°æ˜å˜é‡çš„é‚£ä¸€è¡Œä»£ç å‡ºç°ï¼Œæ‰å¯ä»¥è·å–å’Œä½¿ç”¨è¯¥å˜é‡</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// var</span><br><span class="hljs-built_in">console</span>.log(a)  <span class="hljs-comment">// undefined</span><br><span class="hljs-keyword">var</span> a = <span class="hljs-number">10</span><br><br><span class="hljs-comment">// let</span><br><span class="hljs-built_in">console</span>.log(b)  <span class="hljs-comment">// Cannot access &#x27;b&#x27; before initialization</span><br><span class="hljs-keyword">let</span> b = <span class="hljs-number">10</span><br><br><span class="hljs-comment">// const</span><br><span class="hljs-built_in">console</span>.log(c)  <span class="hljs-comment">// Cannot access &#x27;c&#x27; before initialization</span><br><span class="hljs-keyword">const</span> c = <span class="hljs-number">10</span><br></code></pre></td></tr></table></figure><h3 id="å—çº§ä½œç”¨åŸŸ"><a href="#å—çº§ä½œç”¨åŸŸ" class="headerlink" title="å—çº§ä½œç”¨åŸŸ"></a>å—çº§ä½œç”¨åŸŸ</h3><p><code>var</code>ä¸å­˜åœ¨å—çº§ä½œç”¨åŸŸ</p><p><code>let</code>å’Œ<code>const</code>å­˜åœ¨å—çº§ä½œç”¨åŸŸ</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// var</span><br>&#123;<br>    <span class="hljs-keyword">var</span> a = <span class="hljs-number">20</span><br>&#125;<br><span class="hljs-built_in">console</span>.log(a)  <span class="hljs-comment">// 20</span><br><br><span class="hljs-comment">// let</span><br>&#123;<br>    <span class="hljs-keyword">let</span> b = <span class="hljs-number">20</span><br>&#125;<br><span class="hljs-built_in">console</span>.log(b)  <span class="hljs-comment">// Uncaught ReferenceError: b is not defined</span><br><br><span class="hljs-comment">// const</span><br>&#123;<br>    <span class="hljs-keyword">const</span> c = <span class="hljs-number">20</span><br>&#125;<br><span class="hljs-built_in">console</span>.log(c)  <span class="hljs-comment">// Uncaught ReferenceError: c is not defined</span><br></code></pre></td></tr></table></figure><h3 id="é‡å¤å£°æ˜"><a href="#é‡å¤å£°æ˜" class="headerlink" title="é‡å¤å£°æ˜"></a>é‡å¤å£°æ˜</h3><p><code>var</code>å…è®¸é‡å¤å£°æ˜å˜é‡</p><p><code>let</code>å’Œ<code>const</code>åœ¨åŒä¸€ä½œç”¨åŸŸä¸å…è®¸é‡å¤å£°æ˜å˜é‡</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// var</span><br><span class="hljs-keyword">var</span> a = <span class="hljs-number">10</span><br><span class="hljs-keyword">var</span> a = <span class="hljs-number">20</span> <span class="hljs-comment">// 20</span><br><br><span class="hljs-comment">// let</span><br><span class="hljs-keyword">let</span> b = <span class="hljs-number">10</span><br><span class="hljs-keyword">let</span> b = <span class="hljs-number">20</span> <span class="hljs-comment">// Identifier &#x27;b&#x27; has already been declared</span><br><br><span class="hljs-comment">// const</span><br><span class="hljs-keyword">const</span> c = <span class="hljs-number">10</span><br><span class="hljs-keyword">const</span> c = <span class="hljs-number">20</span> <span class="hljs-comment">// Identifier &#x27;c&#x27; has already been declared</span><br></code></pre></td></tr></table></figure><h3 id="ä¿®æ”¹å£°æ˜çš„å˜é‡"><a href="#ä¿®æ”¹å£°æ˜çš„å˜é‡" class="headerlink" title="ä¿®æ”¹å£°æ˜çš„å˜é‡"></a>ä¿®æ”¹å£°æ˜çš„å˜é‡</h3><p><code>var</code>å’Œ<code>let</code>å¯ä»¥</p><p><code>const</code>å£°æ˜ä¸€ä¸ªåªè¯»çš„å¸¸é‡ã€‚ä¸€æ—¦å£°æ˜ï¼Œå¸¸é‡çš„å€¼å°±ä¸èƒ½æ”¹å˜</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// var</span><br><span class="hljs-keyword">var</span> a = <span class="hljs-number">10</span><br>a = <span class="hljs-number">20</span><br><span class="hljs-built_in">console</span>.log(a)  <span class="hljs-comment">// 20</span><br><br><span class="hljs-comment">//let</span><br><span class="hljs-keyword">let</span> b = <span class="hljs-number">10</span><br>b = <span class="hljs-number">20</span><br><span class="hljs-built_in">console</span>.log(b)  <span class="hljs-comment">// 20</span><br><br><span class="hljs-comment">// const</span><br><span class="hljs-keyword">const</span> c = <span class="hljs-number">10</span><br>c = <span class="hljs-number">20</span><br><span class="hljs-built_in">console</span>.log(c) <span class="hljs-comment">// Uncaught TypeError: Assignment to constant variable</span><br></code></pre></td></tr></table></figure><h3 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h3><p>èƒ½ç”¨<code>const</code>çš„æƒ…å†µå°½é‡ä½¿ç”¨<code>const</code>ï¼Œå…¶ä»–æƒ…å†µä¸‹å¤§å¤šæ•°ä½¿ç”¨<code>let</code>ï¼Œé¿å…ä½¿ç”¨<code>var</code></p>]]></content>
    
    
    <categories>
      
      <category>å­¦ä¹ ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>JavaScript</tag>
      
      <tag>ES6</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä½¿ç”¨CSSç”»ä¸‰è§’å½¢</title>
    <link href="/dylan/2021/12/24/triangle/"/>
    <url>/dylan/2021/12/24/triangle/</url>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>åœ¨å‰ç«¯å¼€å‘çš„æ—¶å€™ï¼Œæˆ‘ä»¬æœ‰æ—¶å€™ä¼šéœ€è¦ç”¨åˆ°ä¸€ä¸ªä¸‰è§’å½¢çš„å½¢çŠ¶ï¼Œæ¯”å¦‚åœ°å€é€‰æ‹©æˆ–è€…æ’­æ”¾å™¨é‡Œé¢æ’­æ”¾æŒ‰é’®</p><p>é€šå¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¼šä½¿ç”¨å›¾ç‰‡æˆ–è€…<code>svg</code>å»å®Œæˆä¸‰è§’å½¢æ•ˆæœå›¾ï¼Œä½†å¦‚æœå•çº¯ä½¿ç”¨<code>css</code>å¦‚ä½•å®Œæˆä¸€ä¸ªä¸‰è§’å½¢å‘¢ï¼Ÿ</p><p>å®ç°è¿‡ç¨‹ä¼¼ä¹ä¹Ÿå¹¶ä¸å›°éš¾ï¼Œé€šè¿‡è¾¹æ¡†å°±å¯å®Œæˆ</p><h2 id="å®ç°è¿‡ç¨‹"><a href="#å®ç°è¿‡ç¨‹" class="headerlink" title="å®ç°è¿‡ç¨‹"></a>å®ç°è¿‡ç¨‹</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css"></span><br><span class="css">    <span class="hljs-selector-class">.border</span> &#123;</span><br><span class="css">        <span class="hljs-attribute">width</span>: <span class="hljs-number">50px</span>;</span><br><span class="css">        <span class="hljs-attribute">height</span>: <span class="hljs-number">50px</span>;</span><br><span class="css">        <span class="hljs-attribute">border</span>: <span class="hljs-number">2px</span> solid;</span><br><span class="css">        <span class="hljs-attribute">border-color</span>: <span class="hljs-number">#96ceb4</span> <span class="hljs-number">#ffeead</span> <span class="hljs-number">#d9534f</span> <span class="hljs-number">#ffad60</span>;</span><br><span class="css">    &#125;</span><br><span class="css"></span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;border&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><p><img src="/dylan/imgs/triangle/1.png" alt="å›¾1"></p><p>å°†<code>border</code>è®¾ç½®<code>50px</code>ï¼Œæ•ˆæœå›¾å¦‚ä¸‹æ‰€ç¤ºï¼š</p><p><img src="/dylan/imgs/triangle/2.png" alt="å›¾2"></p><p>ç™½è‰²åŒºåŸŸåˆ™ä¸º<code>width</code>ã€<code>height</code>ï¼Œè¿™æ—¶å€™åªéœ€è¦ä½ å°†ç™½è‰²åŒºåŸŸéƒ¨åˆ†å®½é«˜é€æ¸å˜å°ï¼Œæœ€ç»ˆå˜ä¸º0ï¼Œåˆ™å˜æˆå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="/dylan/imgs/triangle/3.png" alt="å›¾3"></p><p>è¿™æ—¶å€™å°±å·²ç»èƒ½å¤Ÿçœ‹åˆ°4ä¸ªä¸åŒé¢œè‰²çš„ä¸‰è§’å½¢ï¼Œå¦‚æœéœ€è¦ä¸‹æ–¹ä¸‰è§’å½¢ï¼Œåªéœ€è¦å°†ä¸Šã€å·¦ã€å³è¾¹æ¡†è®¾ç½®ä¸º0å°±å¯ä»¥å¾—åˆ°ä¸‹æ–¹çš„çº¢è‰²ä¸‰è§’å½¢</p><p><img src="/dylan/imgs/triangle/4.png" alt="å›¾4"></p><p>ä½†è¿™ç§æ–¹å¼ï¼Œè™½ç„¶è§†è§‰ä¸Šæ˜¯å®ç°äº†ä¸‰è§’å½¢ï¼Œä½†å®é™…ä¸Šï¼Œéšè—çš„éƒ¨åˆ†ä»»ç„¶å æ®éƒ¨åˆ†é«˜åº¦ï¼Œéœ€è¦å°†ä¸Šæ–¹çš„å®½åº¦å»æ‰</p><p>æœ€ç»ˆå®ç°ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.border</span> &#123;<br>    <span class="hljs-attribute">width</span>: <span class="hljs-number">0</span>;<br>    <span class="hljs-attribute">height</span>: <span class="hljs-number">0</span>;<br>    <span class="hljs-attribute">border-style</span>:solid;<br>    <span class="hljs-attribute">border-width</span>: <span class="hljs-number">0</span> <span class="hljs-number">50px</span> <span class="hljs-number">50px</span>;<br>    <span class="hljs-attribute">border-color</span>: transparent transparent <span class="hljs-number">#d9534f</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>å¦‚æœæƒ³è¦å®ç°ä¸€ä¸ªåªæœ‰è¾¹æ¡†æ˜¯ç©ºå¿ƒçš„ä¸‰è§’å½¢ï¼Œç”±äºè¿™é‡Œä¸èƒ½å†ä½¿ç”¨<code>border</code>å±æ€§ï¼Œæ‰€ä»¥æœ€ç›´æ¥çš„æ–¹æ³•æ˜¯åˆ©ç”¨ä¼ªç±»æ–°å»ºä¸€ä¸ªå°ä¸€ç‚¹çš„ä¸‰è§’å½¢å®šä½ä¸Šå»</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.border</span> &#123;<br>    <span class="hljs-attribute">width</span>: <span class="hljs-number">0</span>;<br>    <span class="hljs-attribute">height</span>: <span class="hljs-number">0</span>;<br>    <span class="hljs-attribute">border-style</span>:solid;<br>    <span class="hljs-attribute">border-width</span>: <span class="hljs-number">0</span> <span class="hljs-number">50px</span> <span class="hljs-number">50px</span>;<br>    <span class="hljs-attribute">border-color</span>: transparent transparent <span class="hljs-number">#d9534f</span>;<br>    <span class="hljs-attribute">position</span>: relative;<br>&#125;<br><span class="hljs-selector-class">.border</span>:after&#123;<br>    content: <span class="hljs-string">&#x27;&#x27;</span>;<br>    <span class="hljs-attribute">border-style</span>:solid;<br>    <span class="hljs-attribute">border-width</span>: <span class="hljs-number">0</span> <span class="hljs-number">40px</span> <span class="hljs-number">40px</span>;<br>    <span class="hljs-attribute">border-color</span>: transparent transparent <span class="hljs-number">#96ceb4</span>;<br>    <span class="hljs-attribute">position</span>: absolute;<br>    <span class="hljs-attribute">top</span>: <span class="hljs-number">0</span>;<br>    <span class="hljs-attribute">left</span>: <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>æ•ˆæœå›¾å¦‚ä¸‹æ‰€ç¤ºï¼š</p><p><img src="/dylan/imgs/triangle/5.png" alt="å›¾5"></p><p>ä¼ªç±»å…ƒç´ å®šä½å‚ç…§å¯¹è±¡çš„å†…å®¹åŒºåŸŸå®½é«˜éƒ½ä¸º0ï¼Œåˆ™å†…å®¹åŒºåŸŸå³å¯ä»¥ç†è§£æˆä¸­å¿ƒä¸€ç‚¹ï¼Œæ‰€ä»¥ä¼ªå…ƒç´ ç›¸å¯¹ä¸­å¿ƒè¿™ç‚¹å®šä½</p><p>å°†å…ƒç´ å®šä½è¿›è¡Œå¾®è°ƒä»¥åŠæ”¹å˜é¢œè‰²ï¼Œå°±èƒ½å¤Ÿå®Œæˆä¸‹æ–¹æ•ˆæœå›¾ï¼š</p><p><img src="/dylan/imgs/triangle/6.png" alt="å›¾6"></p><p>æœ€ç»ˆä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.border</span>:after &#123;<br>    content: <span class="hljs-string">&#x27;&#x27;</span>;<br>    <span class="hljs-attribute">border-style</span>: solid;<br>    <span class="hljs-attribute">border-width</span>: <span class="hljs-number">0</span> <span class="hljs-number">40px</span> <span class="hljs-number">40px</span>;<br>    <span class="hljs-attribute">border-color</span>: transparent transparent <span class="hljs-number">#96ceb4</span>;<br>    <span class="hljs-attribute">position</span>: absolute;<br>    <span class="hljs-attribute">top</span>: <span class="hljs-number">6px</span>;<br>    <span class="hljs-attribute">left</span>: -<span class="hljs-number">40px</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="åŸç†åˆ†æ"><a href="#åŸç†åˆ†æ" class="headerlink" title="åŸç†åˆ†æ"></a>åŸç†åˆ†æ</h2><p>å¯ä»¥çœ‹åˆ°ï¼Œè¾¹æ¡†æ˜¯å®ç°ä¸‰è§’å½¢çš„éƒ¨åˆ†ï¼Œè¾¹æ¡†å®é™…ä¸Šå¹¶ä¸æ˜¯ä¸€ä¸ªç›´çº¿ï¼Œå¦‚æœæˆ‘ä»¬å°†å››æ¡è¾¹è®¾ç½®ä¸åŒçš„é¢œè‰²ï¼Œå°†è¾¹æ¡†é€æ¸æ”¾å¤§ï¼Œå¯ä»¥å¾—åˆ°æ¯æ¡è¾¹æ¡†éƒ½æ˜¯ä¸€ä¸ªæ¢¯å½¢</p><p><img src="/dylan/imgs/triangle/7.png" alt="å›¾7"></p><p>å½“åˆ†åˆ«å–æ¶ˆè¾¹æ¡†çš„æ—¶å€™ï¼Œå‘ç°ä¸‹é¢å‡ ç§æƒ…å†µï¼š</p><ul><li>å–æ¶ˆä¸€æ¡è¾¹çš„æ—¶å€™ï¼Œä¸è¿™æ¡è¾¹ç›¸é‚»çš„ä¸¤æ¡è¾¹çš„æ¥è§¦éƒ¨åˆ†ä¼šå˜æˆç›´çš„</li><li>å½“ä»…æœ‰é‚»è¾¹æ—¶ï¼Œ ä¸¤ä¸ªè¾¹ä¼šå˜æˆå¯¹åˆ†çš„ä¸‰è§’</li><li>å½“ä¿ç•™è¾¹æ²¡æœ‰å…¶ä»–æ¥è§¦æ—¶ï¼Œæé™æƒ…å†µæ‰€æœ‰ä¸œè¥¿éƒ½ä¼šæ¶ˆå¤±</li></ul><p><img src="/dylan/imgs/triangle/8.png" alt="å›¾8"></p><p>é€šè¿‡ä¸Šå›¾çš„å˜åŒ–è§„åˆ™ï¼Œåˆ©ç”¨æ—‹è½¬ã€éšè—ï¼Œä»¥åŠè®¾ç½®å†…å®¹å®½é«˜ç­‰å±æ€§ï¼Œå°±èƒ½å¤Ÿå®ç°å…¶ä»–ç±»å‹çš„ä¸‰è§’å½¢</p><p>å¦‚è®¾ç½®ç›´è§’ä¸‰è§’å½¢ï¼Œå¦‚ä¸Šå›¾å€’æ•°ç¬¬ä¸‰è¡Œå®ç°è¿‡ç¨‹ï¼Œæˆ‘ä»¬å°±èƒ½çŸ¥é“æ•´ä¸ªå®ç°åŸç†</p><p>å®ç°ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.box</span> &#123;<br>    <span class="hljs-comment">/* å†…éƒ¨å¤§å° */</span><br>    <span class="hljs-attribute">width</span>: <span class="hljs-number">0px</span>;<br>    <span class="hljs-attribute">height</span>: <span class="hljs-number">0px</span>;<br>    <span class="hljs-comment">/* è¾¹æ¡†å¤§å° åªè®¾ç½®ä¸¤æ¡è¾¹*/</span><br>    <span class="hljs-attribute">border-top</span>: <span class="hljs-number">#4285f4</span> solid;<br>    <span class="hljs-attribute">border-right</span>: transparent solid;<br>    <span class="hljs-attribute">border-width</span>: <span class="hljs-number">85px</span>; <br>    <span class="hljs-comment">/* å…¶ä»–è®¾ç½® */</span><br>    <span class="hljs-attribute">margin</span>: <span class="hljs-number">50px</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>å­¦ä¹ ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>CSS</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åƒç´ å•ä½</title>
    <link href="/dylan/2021/12/21/px/"/>
    <url>/dylan/2021/12/21/px/</url>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ä¼ ç»Ÿçš„é¡¹ç›®å¼€å‘ä¸­ï¼Œæˆ‘ä»¬åªä¼šç”¨åˆ°<code>px</code>ã€<code>%</code>ã€<code>em</code>è¿™å‡ ä¸ªå•ä½ï¼Œå®ƒå¯ä»¥é€‚ç”¨äºå¤§éƒ¨åˆ†çš„é¡¹ç›®å¼€å‘ï¼Œä¸”æ‹¥æœ‰æ¯”è¾ƒè‰¯å¥½çš„å…¼å®¹æ€§</p><p>ä»<code>CSS3</code>å¼€å§‹ï¼Œæµè§ˆå™¨å¯¹è®¡é‡å•ä½çš„æ”¯æŒåˆæå‡åˆ°äº†å¦å¤–ä¸€ä¸ªå¢ƒç•Œï¼Œæ–°å¢äº†<code>rem</code>ã€<code>vh</code>ã€<code>vw</code>ã€<code>vm</code>ç­‰ä¸€äº›æ–°çš„è®¡é‡å•ä½</p><p>åˆ©ç”¨è¿™äº›æ–°çš„å•ä½å¼€å‘å‡ºæ¯”è¾ƒè‰¯å¥½çš„å“åº”å¼é¡µé¢ï¼Œé€‚åº”å¤šç§ä¸åŒåˆ†è¾¨ç‡çš„ç»ˆç«¯ï¼ŒåŒ…æ‹¬ç§»åŠ¨è®¾å¤‡ç­‰</p><h2 id="å•ä½"><a href="#å•ä½" class="headerlink" title="å•ä½"></a>å•ä½</h2><p>åœ¨<code>css</code>å•ä½ä¸­ï¼Œå¯ä»¥åˆ†ä¸ºé•¿åº¦å•ä½ã€ç»å¯¹å•ä½ï¼Œå¦‚ä¸‹è¡¨æ‰€æŒ‡ç¤º</p><table><thead><tr><th>CSSå•ä½</th><th></th></tr></thead><tbody><tr><td>ç›¸å¯¹é•¿åº¦å•ä½</td><td>emã€exã€chã€remã€vwã€vhã€vminã€vmaxã€%</td></tr><tr><td>ç»å¯¹é•¿åº¦å•ä½</td><td>cmã€mmã€inã€pxã€ptã€pc</td></tr></tbody></table><p>è¿™é‡Œæˆ‘ä»¬ä¸»è¦è®²è¿°pxã€emã€remã€vhã€vw</p><h3 id="px"><a href="#px" class="headerlink" title="px"></a>px</h3><p>pxï¼Œè¡¨ç¤ºåƒç´ ï¼Œæ‰€è°“åƒç´ å°±æ˜¯å‘ˆç°åœ¨æˆ‘ä»¬æ˜¾ç¤ºå™¨ä¸Šçš„ä¸€ä¸ªä¸ªå°ç‚¹ï¼Œæ¯ä¸ªåƒç´ ç‚¹éƒ½æ˜¯å¤§å°ç­‰åŒçš„ï¼Œæ‰€ä»¥åƒç´ ä¸ºè®¡é‡å•ä½è¢«åˆ†åœ¨äº†ç»å¯¹é•¿åº¦å•ä½ä¸­</p><p>æœ‰äº›äººä¼šæŠŠ<code>px</code>è®¤ä¸ºæ˜¯ç›¸å¯¹é•¿åº¦ï¼ŒåŸå› åœ¨äºåœ¨ç§»åŠ¨ç«¯ä¸­å­˜åœ¨è®¾å¤‡åƒç´ æ¯”ï¼Œ<code>px</code>å®é™…æ˜¾ç¤ºçš„å¤§å°æ˜¯ä¸ç¡®å®š</p><p>è¿™é‡Œä¹‹æ‰€ä»¥è®¤ä¸º<code>px</code>ä¸ºç»å¯¹å•ä½ï¼Œåœ¨äº<code>px</code>çš„å¤§å°å’Œå…ƒç´ çš„å…¶ä»–å±æ€§æ— å…³</p><h3 id="em"><a href="#em" class="headerlink" title="em"></a>em</h3><p>emæ˜¯ç›¸å¯¹é•¿åº¦å•ä½ã€‚ç›¸å¯¹äºå½“å‰å¯¹è±¡å†…æ–‡æœ¬çš„å­—ä½“å°ºå¯¸ã€‚å¦‚å½“å‰å¯¹è¡Œå†…æ–‡æœ¬çš„å­—ä½“å°ºå¯¸æœªè¢«äººä¸ºè®¾ç½®ï¼Œåˆ™ç›¸å¯¹äºæµè§ˆå™¨çš„é»˜è®¤å­—ä½“å°ºå¯¸ï¼ˆ<code>1em = 16px</code>ï¼‰</p><p>ä¸ºäº†ç®€åŒ– <code>font-size</code> çš„æ¢ç®—ï¼Œæˆ‘ä»¬éœ€è¦åœ¨<code>css</code>ä¸­çš„ <code>body</code> é€‰æ‹©å™¨ä¸­å£°æ˜<code>font-size</code>= <code>62.5%</code>ï¼Œè¿™å°±ä½¿ em å€¼å˜ä¸º <code>16px*62.5% = 10px</code></p><p>è¿™æ · <code>12px = 1.2em</code>, <code>10px = 1em</code>, ä¹Ÿå°±æ˜¯è¯´åªéœ€è¦å°†ä½ çš„åŸæ¥çš„<code> px</code> æ•°å€¼é™¤ä»¥ 10ï¼Œç„¶åæ¢ä¸Š <code>em </code>ä½œä¸ºå•ä½å°±è¡Œäº†</p><p>ç‰¹ç‚¹ï¼š</p><ul><li>em çš„å€¼å¹¶ä¸æ˜¯å›ºå®šçš„</li><li>em ä¼šç»§æ‰¿çˆ¶çº§å…ƒç´ çš„å­—ä½“å¤§å°</li><li>em æ˜¯ç›¸å¯¹é•¿åº¦å•ä½ã€‚ç›¸å¯¹äºå½“å‰å¯¹è±¡å†…æ–‡æœ¬çš„å­—ä½“å°ºå¯¸ã€‚å¦‚å½“å‰å¯¹è¡Œå†…æ–‡æœ¬çš„å­—ä½“å°ºå¯¸æœªè¢«äººä¸ºè®¾ç½®ï¼Œåˆ™ç›¸å¯¹äºæµè§ˆå™¨çš„é»˜è®¤å­—ä½“å°ºå¯¸</li><li>ä»»æ„æµè§ˆå™¨çš„é»˜è®¤å­—ä½“é«˜éƒ½æ˜¯ 16px</li></ul><p>ä¸¾ä¸ªä¾‹å­</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;big&quot;</span>&gt;</span><br>    æˆ‘æ˜¯14px=1.4rem<br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;small&quot;</span>&gt;</span>æˆ‘æ˜¯12px=1.2rem<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css"></span><br><span class="css"><span class="hljs-selector-tag">html</span> &#123;<span class="hljs-attribute">font-size</span>: <span class="hljs-number">10px</span>;  &#125; <span class="hljs-comment">/*  å…¬å¼16px*62.5%=10px  */</span> </span><br><span class="css"><span class="hljs-selector-class">.big</span>&#123;<span class="hljs-attribute">font-size</span>: <span class="hljs-number">1.4rem</span>&#125;</span><br><span class="css"><span class="hljs-selector-class">.small</span>&#123;<span class="hljs-attribute">font-size</span>: <span class="hljs-number">1.2rem</span>&#125;</span><br><span class="css"></span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br></code></pre></td></tr></table></figure><p>è¿™æ—¶å€™<code>.big</code>å…ƒç´ çš„<code>font-size</code>ä¸º14pxï¼Œè€Œ<code>.small</code>å…ƒç´ çš„<code>font-size</code>ä¸º12px</p><h3 id="rem"><a href="#rem" class="headerlink" title="rem"></a>rem</h3><p>remï¼Œç›¸å¯¹å•ä½ï¼Œç›¸å¯¹çš„åªæ˜¯HTMLæ ¹å…ƒç´ <code>font-size</code>çš„å€¼</p><p>åŒç†ï¼Œå¦‚æœæƒ³è¦ç®€åŒ–<code>font-size</code>çš„è½¬åŒ–ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ ¹å…ƒç´ <code>html</code>ä¸­åŠ å…¥<code>font-size: 62.5%</code></p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">html</span> &#123;font-size: <span class="hljs-number">62</span>.<span class="hljs-number">5</span>%;  &#125; /*  å…¬å¼<span class="hljs-number">16</span>px*<span class="hljs-number">62</span>.<span class="hljs-number">5</span>%=<span class="hljs-number">10</span>px  */ <br></code></pre></td></tr></table></figure><p>è¿™æ ·é¡µé¢ä¸­1rem=10pxã€1.2rem=12pxã€1.4rem=14pxã€1.6rem=16px;ä½¿å¾—è§†è§‰ã€ä½¿ç”¨ã€ä¹¦å†™éƒ½å¾—åˆ°äº†æå¤§çš„å¸®åŠ©</p><p>ç‰¹ç‚¹ï¼š</p><ul><li>remå•ä½å¯è°“é›†ç›¸å¯¹å¤§å°å’Œç»å¯¹å¤§å°çš„ä¼˜ç‚¹äºä¸€èº«</li><li>å’Œemä¸åŒçš„æ˜¯remæ€»æ˜¯ç›¸å¯¹äºæ ¹å…ƒç´ ï¼Œè€Œä¸åƒemä¸€æ ·ä½¿ç”¨çº§è”çš„æ–¹å¼æ¥è®¡ç®—å°ºå¯¸</li></ul><h3 id="vhã€vw"><a href="#vhã€vw" class="headerlink" title="vhã€vw"></a>vhã€vw</h3><p>vw ï¼Œå°±æ˜¯æ ¹æ®çª—å£çš„å®½åº¦ï¼Œåˆ†æˆ100ç­‰ä»½ï¼Œ100vwå°±è¡¨ç¤ºæ»¡å®½ï¼Œ50vwå°±è¡¨ç¤ºä¸€åŠå®½ã€‚ï¼ˆvw å§‹ç»ˆæ˜¯é’ˆå¯¹çª—å£çš„å®½ï¼‰ï¼ŒåŒç†ï¼Œ<code>vh</code>åˆ™ä¸ºçª—å£çš„é«˜åº¦</p><p>è¿™é‡Œçš„çª—å£åˆ†æˆå‡ ç§æƒ…å†µï¼š</p><ul><li>åœ¨æ¡Œé¢ç«¯ï¼ŒæŒ‡çš„æ˜¯æµè§ˆå™¨çš„å¯è§†åŒºåŸŸ</li><li>ç§»åŠ¨ç«¯æŒ‡çš„å°±æ˜¯å¸ƒå±€è§†å£</li></ul><p>åƒ<code>vw</code>ã€<code>vh</code>ï¼Œæ¯”è¾ƒå®¹æ˜“æ··æ·†çš„ä¸€ä¸ªå•ä½æ˜¯<code>%</code>ï¼Œä¸è¿‡ç™¾åˆ†æ¯”å®½æ³›çš„è®²æ˜¯ç›¸å¯¹äºçˆ¶å…ƒç´ ï¼š</p><p>å¯¹äºæ™®é€šå®šä½å…ƒç´ å°±æ˜¯æˆ‘ä»¬ç†è§£çš„çˆ¶å…ƒç´ </p><ul><li>å¯¹äºposition: absolute;çš„å…ƒç´ æ˜¯ç›¸å¯¹äºå·²å®šä½çš„çˆ¶å…ƒç´ </li><li>å¯¹äºposition: fixed;çš„å…ƒç´ æ˜¯ç›¸å¯¹äº ViewPortï¼ˆå¯è§†çª—å£ï¼‰</li></ul><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p><strong>px</strong>ï¼šç»å¯¹å•ä½ï¼Œé¡µé¢æŒ‰ç²¾ç¡®åƒç´ å±•ç¤º</p><p><strong>em</strong>ï¼šç›¸å¯¹å•ä½ï¼ŒåŸºå‡†ç‚¹ä¸ºçˆ¶èŠ‚ç‚¹å­—ä½“çš„å¤§å°ï¼Œå¦‚æœè‡ªèº«å®šä¹‰äº†<code>font-size</code>æŒ‰è‡ªèº«æ¥è®¡ç®—ï¼Œæ•´ä¸ªé¡µé¢å†…<code>1em</code>ä¸æ˜¯ä¸€ä¸ªå›ºå®šçš„å€¼</p><p><strong>rem</strong>ï¼šç›¸å¯¹å•ä½ï¼Œå¯ç†è§£ä¸º<code>root em</code>, ç›¸å¯¹æ ¹èŠ‚ç‚¹<code>html</code>çš„å­—ä½“å¤§å°æ¥è®¡ç®—</p><p><strong>vhã€vw</strong>ï¼šä¸»è¦ç”¨äºé¡µé¢è§†å£å¤§å°å¸ƒå±€ï¼Œåœ¨é¡µé¢å¸ƒå±€ä¸Šæ›´åŠ æ–¹ä¾¿ç®€å•</p>]]></content>
    
    
    <categories>
      
      <category>å­¦ä¹ ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç»¼åˆ</tag>
      
      <tag>CSS</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç›’æ¨¡å‹</title>
    <link href="/dylan/2021/12/20/box/"/>
    <url>/dylan/2021/12/20/box/</url>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>å½“å¯¹ä¸€ä¸ªæ–‡æ¡£è¿›è¡Œå¸ƒå±€ï¼ˆlayoutï¼‰çš„æ—¶å€™ï¼Œæµè§ˆå™¨çš„æ¸²æŸ“å¼•æ“ä¼šæ ¹æ®æ ‡å‡†ä¹‹ä¸€çš„ CSS åŸºç¡€æ¡†ç›’æ¨¡å‹ï¼ˆCSS basic box modelï¼‰ï¼Œå°†æ‰€æœ‰å…ƒç´ è¡¨ç¤ºä¸ºä¸€ä¸ªä¸ªçŸ©å½¢çš„ç›’å­ï¼ˆboxï¼‰</p><p>ä¸€ä¸ªç›’å­ç”±å››ä¸ªéƒ¨åˆ†ç»„æˆï¼š<code>content</code>ã€<code>padding</code>ã€<code>border</code>ã€<code>margin</code></p><p><img src="/dylan/imgs/box/1.png" alt="å›¾1"></p><p>æ˜¾ç¤ºæ–‡æœ¬å’Œå›¾åƒ</p><ul><li><code>boreder</code>ï¼Œå³è¾¹æ¡†ï¼Œå›´ç»•å…ƒç´ å†…å®¹çš„å†…è¾¹è·çš„ä¸€æ¡æˆ–å¤šæ¡çº¿ï¼Œç”±ç²—ç»†ã€æ ·å¼ã€é¢œè‰²ä¸‰éƒ¨åˆ†ç»„æˆ</li><li><code>padding</code>ï¼Œå³å†…è¾¹è·ï¼Œæ¸…é™¤å†…å®¹å‘¨å›´çš„åŒºåŸŸï¼Œå†…è¾¹è·æ˜¯é€æ˜çš„ï¼Œå–å€¼ä¸èƒ½ä¸ºè´Ÿï¼Œå—ç›’å­çš„<code>background</code>å±æ€§å½±å“</li><li><code>margin</code>ï¼Œå³å¤–è¾¹è·ï¼Œåœ¨å…ƒç´ å¤–åˆ›å»ºé¢å¤–çš„ç©ºç™½ï¼Œç©ºç™½é€šå¸¸æŒ‡ä¸èƒ½æ”¾å…¶ä»–å…ƒç´ çš„åŒºåŸŸ</li></ul><p>ä¸Šè¿°æ˜¯ä¸€ä¸ªä»äºŒç»´çš„è§’åº¦è§‚å¯Ÿç›’å­ï¼Œä¸‹é¢å†çœ‹çœ‹çœ‹ä¸‰ç»´å›¾ï¼š</p><p><img src="/dylan/imgs/box/2.png" alt="å›¾2"></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css"></span><br><span class="css"><span class="hljs-selector-class">.box</span> &#123;</span><br><span class="css"><span class="hljs-attribute">width</span>: <span class="hljs-number">200px</span>;</span><br><span class="css"><span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;</span><br><span class="css"><span class="hljs-attribute">padding</span>: <span class="hljs-number">20px</span>;</span><br><span class="css">&#125;</span><br><span class="css"></span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">\</span>&quot;<span class="hljs-attr">box</span>\&quot;&gt;</span><br>ç›’å­æ¨¡å‹<br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure><p>å½“æˆ‘ä»¬åœ¨æµè§ˆå™¨æŸ¥çœ‹å…ƒç´ æ—¶ï¼Œå´å‘ç°å…ƒç´ çš„å¤§å°å˜æˆäº†<code>240px</code></p><p>è¿™æ˜¯å› ä¸ºï¼Œåœ¨<code>CSS</code>ä¸­ï¼Œç›’å­æ¨¡å‹å¯ä»¥åˆ†æˆï¼š</p><ul><li>W3C æ ‡å‡†ç›’å­æ¨¡å‹</li><li>IE æ€ªå¼‚ç›’å­æ¨¡å‹</li></ul><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œç›’å­æ¨¡å‹ä¸º<code>W3C</code> æ ‡å‡†ç›’å­æ¨¡å‹</p><h2 id="æ ‡å‡†ç›’æ¨¡å‹"><a href="#æ ‡å‡†ç›’æ¨¡å‹" class="headerlink" title="æ ‡å‡†ç›’æ¨¡å‹"></a>æ ‡å‡†ç›’æ¨¡å‹</h2><p>æ ‡å‡†ç›’å­æ¨¡å‹ï¼Œæ˜¯æµè§ˆå™¨é»˜è®¤çš„ç›’å­æ¨¡å‹</p><p>ä¸‹é¢çœ‹çœ‹æ ‡å‡†ç›’å­æ¨¡å‹çš„æ¨¡å‹å›¾ï¼š</p><p><img src="/dylan/imgs/box/3.png" alt="å›¾3"></p><p>ä»ä¸Šå›¾å¯ä»¥çœ‹åˆ°ï¼š</p><ul><li>ç›’å­æ€»å®½åº¦ = width + padding + border + margin;</li><li>ç›’å­æ€»é«˜åº¦ = height + padding + border + margin</li></ul><p>ä¹Ÿå°±æ˜¯ï¼Œ<code>width/height</code> åªæ˜¯å†…å®¹é«˜åº¦ï¼Œä¸åŒ…å« <code>padding</code> å’Œ <code>border </code>å€¼</p><p>æ‰€ä»¥ä¸Šé¢é—®é¢˜ä¸­ï¼Œè®¾ç½®<code>width</code>ä¸º200pxï¼Œä½†ç”±äºå­˜åœ¨<code>padding</code>ï¼Œä½†å®é™…ä¸Šç›’å­çš„å®½åº¦æœ‰240px</p><h2 id="IEæ€ªå¼‚ç›’æ¨¡å‹"><a href="#IEæ€ªå¼‚ç›’æ¨¡å‹" class="headerlink" title="IEæ€ªå¼‚ç›’æ¨¡å‹"></a>IEæ€ªå¼‚ç›’æ¨¡å‹</h2><p><img src="/dylan/imgs/box/4.png" alt="å›¾4"></p><p>ä»ä¸Šå›¾å¯ä»¥çœ‹åˆ°ï¼š</p><ul><li>ç›’å­æ€»å®½åº¦ = width + margin;</li><li>ç›’å­æ€»é«˜åº¦ = height + margin;</li></ul><p>ä¹Ÿå°±æ˜¯ï¼Œ<code>width/height</code> åŒ…å«äº† <code>padding </code>å’Œ <code>border </code>å€¼</p><h3 id="box-sizing"><a href="#box-sizing" class="headerlink" title="box-sizing"></a>box-sizing</h3><p>CSS ä¸­çš„ box-sizing å±æ€§å®šä¹‰äº†å¼•æ“åº”è¯¥å¦‚ä½•è®¡ç®—ä¸€ä¸ªå…ƒç´ çš„æ€»å®½åº¦å’Œæ€»é«˜åº¦</p><p>è¯­æ³•ï¼š</p><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs maxima"><span class="hljs-built_in">box</span>-sizing: <span class="hljs-built_in">content</span>-<span class="hljs-built_in">box</span>|<span class="hljs-built_in">border</span>-<span class="hljs-built_in">box</span>|inherit;<br></code></pre></td></tr></table></figure><ul><li>content-box é»˜è®¤å€¼ï¼Œå…ƒç´ çš„ width/height ä¸åŒ…å«paddingï¼Œborderï¼Œä¸æ ‡å‡†ç›’å­æ¨¡å‹è¡¨ç°ä¸€è‡´</li><li>border-box å…ƒç´ çš„ width/height åŒ…å« paddingï¼Œborderï¼Œä¸æ€ªå¼‚ç›’å­æ¨¡å‹è¡¨ç°ä¸€è‡´</li><li>inherit æŒ‡å®š box-sizing å±æ€§çš„å€¼ï¼Œåº”è¯¥ä»çˆ¶å…ƒç´ ç»§æ‰¿</li></ul><p>å›åˆ°ä¸Šé¢çš„ä¾‹å­é‡Œï¼Œè®¾ç½®ç›’å­ä¸º border-box æ¨¡å‹</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css"></span><br><span class="css"><span class="hljs-selector-class">.box</span> &#123;</span><br><span class="css"><span class="hljs-attribute">width</span>: <span class="hljs-number">200px</span>;</span><br><span class="css"><span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;</span><br><span class="css">    <span class="hljs-attribute">padding</span>: <span class="hljs-number">20px</span>;</span><br><span class="css">    <span class="hljs-attribute">box-sizing</span>: border-box;</span><br><span class="css">&#125;</span><br><span class="css"></span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">\</span>&quot;<span class="hljs-attr">box</span>\&quot;&gt;</span><br>ç›’å­æ¨¡å‹<br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure><p>è¿™æ—¶å€™ï¼Œå°±å¯ä»¥å‘ç°ç›’å­çš„æ‰€å æ®çš„å®½åº¦ä¸º200px</p>]]></content>
    
    
    <categories>
      
      <category>é¢è¯•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>CSS</tag>
      
      <tag>HTML</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>cssé€‰æ‹©å™¨</title>
    <link href="/dylan/2021/12/19/selector/"/>
    <url>/dylan/2021/12/19/selector/</url>
    
    <content type="html"><![CDATA[<h2 id="é€‰æ‹©å™¨"><a href="#é€‰æ‹©å™¨" class="headerlink" title="é€‰æ‹©å™¨"></a>é€‰æ‹©å™¨</h2><p>CSSé€‰æ‹©å™¨æ˜¯CSSè§„åˆ™çš„ç¬¬ä¸€éƒ¨åˆ†</p><p>å®ƒæ˜¯å…ƒç´ å’Œå…¶ä»–éƒ¨åˆ†ç»„åˆèµ·æ¥å‘Šè¯‰æµè§ˆå™¨å“ªä¸ªHTMLå…ƒç´ åº”å½“æ˜¯è¢«é€‰ä¸ºåº”ç”¨è§„åˆ™ä¸­çš„CSSå±æ€§å€¼çš„æ–¹å¼</p><p>é€‰æ‹©å™¨æ‰€é€‰æ‹©çš„å…ƒç´ ï¼Œå«åšâ€œé€‰æ‹©å™¨çš„å¯¹è±¡â€</p><p>æˆ‘ä»¬ä»ä¸€ä¸ª<code>Html</code>ç»“æ„å¼€å§‹</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;box&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;one&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;one_1&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;one_1&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;two&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;two&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;two&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure><p>å…³äº<code>css</code>å±æ€§é€‰æ‹©å™¨å¸¸ç”¨çš„æœ‰ï¼š</p><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs livecodeserver">idé€‰æ‹©å™¨ï¼ˆ<span class="hljs-comment">#boxï¼‰ï¼Œé€‰æ‹©idä¸ºboxçš„å…ƒç´ </span><br>ç±»é€‰æ‹©å™¨ï¼ˆ.<span class="hljs-literal">one</span>ï¼‰ï¼Œé€‰æ‹©ç±»åä¸º<span class="hljs-literal">one</span>çš„æ‰€æœ‰å…ƒç´ <br>æ ‡ç­¾é€‰æ‹©å™¨ï¼ˆ<span class="hljs-keyword">div</span>ï¼‰ï¼Œé€‰æ‹©æ ‡ç­¾ä¸º<span class="hljs-keyword">div</span>çš„æ‰€æœ‰å…ƒç´ <br>åä»£é€‰æ‹©å™¨ï¼ˆ<span class="hljs-comment">#box divï¼‰ï¼Œé€‰æ‹©idä¸ºboxå…ƒç´ å†…éƒ¨æ‰€æœ‰çš„divå…ƒç´ </span><br>å­é€‰æ‹©å™¨ï¼ˆ.<span class="hljs-literal">one</span>&gt;one_1ï¼‰ï¼Œé€‰æ‹©çˆ¶å…ƒç´ ä¸º.<span class="hljs-literal">one</span>çš„æ‰€æœ‰.one_1çš„å…ƒç´ <br>ç›¸é‚»åŒèƒé€‰æ‹©å™¨ï¼ˆ.<span class="hljs-literal">one</span>+.<span class="hljs-literal">two</span>ï¼‰ï¼Œé€‰æ‹©ç´§æ¥åœ¨.<span class="hljs-literal">one</span>ä¹‹åçš„æ‰€æœ‰.<span class="hljs-literal">two</span>å…ƒç´ <br>ç¾¤ç»„é€‰æ‹©å™¨ï¼ˆ<span class="hljs-keyword">div</span>,pï¼‰ï¼Œé€‰æ‹©<span class="hljs-keyword">div</span>ã€pçš„æ‰€æœ‰å…ƒç´ <br></code></pre></td></tr></table></figure><p>è¿˜æœ‰ä¸€äº›ä½¿ç”¨é¢‘ç‡ç›¸å¯¹æ²¡é‚£ä¹ˆå¤šçš„é€‰æ‹©å™¨ï¼š</p><ul><li>ä¼ªç±»é€‰æ‹©å™¨</li></ul><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs applescript">link ï¼šé€‰æ‹©æœªè¢«è®¿é—®çš„é“¾æ¥<br>visitedï¼šé€‰å–å·²è¢«è®¿é—®çš„é“¾æ¥<br>activeï¼šé€‰æ‹©æ´»åŠ¨é“¾æ¥<br>hover ï¼šé¼ æ ‡æŒ‡é’ˆæµ®åŠ¨åœ¨ä¸Šé¢çš„å…ƒç´ <br>focus ï¼šé€‰æ‹©å…·æœ‰ç„¦ç‚¹çš„<br><span class="hljs-keyword">first</span>-childï¼šçˆ¶å…ƒç´ çš„é¦–ä¸ªå­å…ƒç´ <br></code></pre></td></tr></table></figure><ul><li>ä¼ªå…ƒç´ é€‰æ‹©å™¨</li></ul><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs livecodeserver"><span class="hljs-keyword">first</span>-letter ï¼šç”¨äºé€‰å–æŒ‡å®šé€‰æ‹©å™¨çš„é¦–å­—æ¯<br><span class="hljs-keyword">first</span>-<span class="hljs-built_in">line</span> ï¼šé€‰å–æŒ‡å®šé€‰æ‹©å™¨çš„é¦–è¡Œ<br><span class="hljs-keyword">before</span> : é€‰æ‹©å™¨åœ¨è¢«é€‰å…ƒç´ çš„å†…å®¹å‰é¢æ’å…¥å†…å®¹<br><span class="hljs-keyword">after</span> : é€‰æ‹©å™¨åœ¨è¢«é€‰å…ƒç´ çš„å†…å®¹åé¢æ’å…¥å†…å®¹<br></code></pre></td></tr></table></figure><ul><li>å±æ€§é€‰æ‹©å™¨</li></ul><figure class="highlight glsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs glsl">[<span class="hljs-keyword">attribute</span>] é€‰æ‹©å¸¦æœ‰<span class="hljs-keyword">attribute</span>å±æ€§çš„å…ƒç´ <br>[<span class="hljs-keyword">attribute</span>=value] é€‰æ‹©æ‰€æœ‰ä½¿ç”¨<span class="hljs-keyword">attribute</span>=valueçš„å…ƒç´ <br>[<span class="hljs-keyword">attribute</span>~=value] é€‰æ‹©<span class="hljs-keyword">attribute</span>å±æ€§åŒ…å«valueçš„å…ƒç´ <br>[<span class="hljs-keyword">attribute</span>|=value]ï¼šé€‰æ‹©<span class="hljs-keyword">attribute</span>å±æ€§ä»¥valueå¼€å¤´çš„å…ƒç´ <br></code></pre></td></tr></table></figure><p>åœ¨<code>CSS3</code>ä¸­æ–°å¢çš„é€‰æ‹©å™¨æœ‰å¦‚ä¸‹ï¼š</p><ul><li>å±‚æ¬¡é€‰æ‹©å™¨ï¼ˆp~ulï¼‰ï¼Œé€‰æ‹©å‰é¢æœ‰på…ƒç´ çš„æ¯ä¸ªulå…ƒç´ </li><li>ä¼ªç±»é€‰æ‹©å™¨</li></ul><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs vim"><span class="hljs-keyword">first</span>-of-<span class="hljs-built_in">type</span> çˆ¶å…ƒç´ çš„é¦–ä¸ªå…ƒç´ <br><span class="hljs-keyword">last</span>-of-<span class="hljs-built_in">type</span> çˆ¶å…ƒç´ çš„æœ€åä¸€ä¸ªå…ƒç´ <br><span class="hljs-keyword">only</span>-of-<span class="hljs-built_in">type</span> çˆ¶å…ƒç´ çš„ç‰¹å®šç±»å‹çš„å”¯ä¸€å­å…ƒç´ <br><span class="hljs-keyword">only</span>-child çˆ¶å…ƒç´ ä¸­å”¯ä¸€å­å…ƒç´ <br>nth-child(n) é€‰æ‹©çˆ¶å…ƒç´ ä¸­ç¬¬<span class="hljs-keyword">N</span>ä¸ªå­å…ƒç´ <br>nth-<span class="hljs-keyword">last</span>-of-<span class="hljs-built_in">type</span>(n) é€‰æ‹©çˆ¶å…ƒç´ ä¸­ç¬¬<span class="hljs-keyword">N</span>ä¸ªå­å…ƒç´ ï¼Œä»åå¾€å‰<br><span class="hljs-keyword">last</span>-child çˆ¶å…ƒç´ çš„æœ€åä¸€ä¸ªå…ƒç´ <br>root è®¾ç½®HTMLæ–‡æ¡£<br><span class="hljs-built_in">empty</span> æŒ‡å®šç©ºçš„å…ƒç´ <br>enabled é€‰æ‹©è¢«ç¦ç”¨å…ƒç´ <br>disabled é€‰æ‹©è¢«ç¦ç”¨å…ƒç´ <br>checked é€‰æ‹©é€‰ä¸­çš„å…ƒç´ <br>not(selector) é€‰æ‹©é <span class="hljs-symbol">&lt;selector&gt;</span> å…ƒç´ çš„æ‰€æœ‰å…ƒç´ <br></code></pre></td></tr></table></figure><ul><li>å±æ€§é€‰æ‹©å™¨</li></ul><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs crmsh">[<span class="hljs-keyword">attribute</span>*=value]ï¼šé€‰æ‹©<span class="hljs-keyword">attribute</span>å±æ€§å€¼åŒ…å«valueçš„æ‰€æœ‰å…ƒç´ <br>[<span class="hljs-keyword">attribute</span>^=value]ï¼šé€‰æ‹©<span class="hljs-keyword">attribute</span>å±æ€§å¼€å¤´ä¸ºvalueçš„æ‰€æœ‰å…ƒç´ <br>[<span class="hljs-keyword">attribute</span>$=value]ï¼šé€‰æ‹©<span class="hljs-keyword">attribute</span>å±æ€§ç»“å°¾ä¸ºvalueçš„æ‰€æœ‰å…ƒç´ <br></code></pre></td></tr></table></figure><h2 id="ä¼˜å…ˆçº§"><a href="#ä¼˜å…ˆçº§" class="headerlink" title="ä¼˜å…ˆçº§"></a>ä¼˜å…ˆçº§</h2><p>ç›¸ä¿¡å¤§å®¶å¯¹<code>CSS</code>é€‰æ‹©å™¨çš„ä¼˜å…ˆçº§éƒ½ä¸é™Œç”Ÿï¼š</p><blockquote><p>å†…è” &gt; IDé€‰æ‹©å™¨ &gt; ç±»é€‰æ‹©å™¨ &gt; æ ‡ç­¾é€‰æ‹©å™¨</p></blockquote><p>åˆ°å…·ä½“çš„è®¡ç®—å±‚â¾¯ï¼Œä¼˜å…ˆçº§æ˜¯ç”± A ã€Bã€Cã€D çš„å€¼æ¥å†³å®šçš„ï¼Œå…¶ä¸­å®ƒä»¬çš„å€¼è®¡ç®—è§„åˆ™å¦‚ä¸‹ï¼š</p><ul><li>å¦‚æœå­˜åœ¨å†…è”æ ·å¼ï¼Œé‚£ä¹ˆ A = 1, å¦åˆ™ A = 0</li><li>Bçš„å€¼ç­‰äº IDé€‰æ‹©å™¨å‡ºç°çš„æ¬¡æ•°</li><li>Cçš„å€¼ç­‰äº ç±»é€‰æ‹©å™¨ å’Œ å±æ€§é€‰æ‹©å™¨ å’Œ ä¼ªç±» å‡ºç°çš„æ€»æ¬¡æ•°</li><li>D çš„å€¼ç­‰äº æ ‡ç­¾é€‰æ‹©å™¨ å’Œ ä¼ªå…ƒç´  å‡ºç°çš„æ€»æ¬¡æ•°</li></ul><p>è¿™é‡Œä¸¾ä¸ªä¾‹å­ï¼š</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs less"><span class="hljs-selector-id">#nav-global</span> &gt; <span class="hljs-selector-tag">ul</span> &gt; <span class="hljs-selector-tag">li</span> &gt; <span class="hljs-selector-tag">a</span><span class="hljs-selector-class">.nav-link</span><br></code></pre></td></tr></table></figure><p>å¥—ç”¨ä¸Šé¢çš„ç®—æ³•ï¼Œä¾æ¬¡æ±‚å‡º <code>A</code> <code>B</code> <code>C</code> <code>D</code> çš„å€¼ï¼š</p><ul><li>å› ä¸ºæ²¡æœ‰å†…è”æ ·å¼ ï¼Œæ‰€ä»¥ A = 0</li><li>IDé€‰æ‹©å™¨æ€»å…±å‡ºç°äº†1æ¬¡ï¼Œ B = 1</li><li>ç±»é€‰æ‹©å™¨å‡ºç°äº†1æ¬¡ï¼Œ å±æ€§é€‰æ‹©å™¨å‡ºç°äº†0æ¬¡ï¼Œä¼ªç±»é€‰æ‹©å™¨å‡ºç°0æ¬¡ï¼Œæ‰€ä»¥ C = (1 + 0 + 0) = 1</li><li>æ ‡ç­¾é€‰æ‹©å™¨å‡ºç°äº†3æ¬¡ï¼Œ ä¼ªå…ƒç´ å‡ºç°äº†0æ¬¡ï¼Œæ‰€ä»¥ D = (3 + 0) = 3</li></ul><p>ä¸Šé¢ç®—å‡ºçš„<code>A</code> ã€ <code>B</code>ã€<code>C</code>ã€<code>D</code> å¯ä»¥ç®€è®°ä½œï¼š<code>(0, 1, 1, 3)</code></p><p>çŸ¥é“äº†ä¼˜å…ˆçº§æ˜¯å¦‚ä½•è®¡ç®—ä¹‹åï¼Œå°±æ¥çœ‹çœ‹æ¯”è¾ƒè§„åˆ™ï¼š</p><ul><li>ä»å·¦å¾€å³ä¾æ¬¡è¿›è¡Œæ¯”è¾ƒ ï¼Œè¾ƒå¤§è€…ä¼˜å…ˆçº§æ›´é«˜</li><li>å¦‚æœç›¸ç­‰ï¼Œåˆ™ç»§ç»­å¾€å³ç§»åŠ¨ä¸€ä½è¿›è¡Œæ¯”è¾ƒ</li><li>å¦‚æœ4ä½å…¨éƒ¨ç›¸ç­‰ï¼Œåˆ™åé¢çš„ä¼šè¦†ç›–å‰é¢çš„</li></ul><p>ç»è¿‡ä¸Šé¢çš„ä¼˜å…ˆçº§è®¡ç®—è§„åˆ™ï¼Œæˆ‘ä»¬çŸ¥é“å†…è”æ ·å¼çš„ä¼˜å…ˆçº§æœ€é«˜ï¼Œå¦‚æœå¤–éƒ¨æ ·å¼éœ€è¦è¦†ç›–å†…è”æ ·å¼ï¼Œå°±éœ€è¦ä½¿ç”¨<code>!important</code></p><h2 id="ç»§æ‰¿å±æ€§"><a href="#ç»§æ‰¿å±æ€§" class="headerlink" title="ç»§æ‰¿å±æ€§"></a>ç»§æ‰¿å±æ€§</h2><p>åœ¨<code>css</code>ä¸­ï¼Œç»§æ‰¿æ˜¯æŒ‡çš„æ˜¯ç»™çˆ¶å…ƒç´ è®¾ç½®ä¸€äº›å±æ€§ï¼Œåä»£å…ƒç´ ä¼šè‡ªåŠ¨æ‹¥æœ‰è¿™äº›å±æ€§ å…³äºç»§æ‰¿å±æ€§ï¼Œå¯ä»¥åˆ†æˆï¼š</p><ul><li>å­—ä½“ç³»åˆ—å±æ€§</li></ul><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs maxima"><span class="hljs-built_in">font</span>:ç»„åˆå­—ä½“<br><span class="hljs-built_in">font</span>-family:è§„å®šå…ƒç´ çš„å­—ä½“ç³»åˆ—<br><span class="hljs-built_in">font</span>-weight:è®¾ç½®å­—ä½“çš„ç²—ç»†<br><span class="hljs-built_in">font</span>-size:è®¾ç½®å­—ä½“çš„å°ºå¯¸<br><span class="hljs-built_in">font</span>-<span class="hljs-built_in">style</span>:å®šä¹‰å­—ä½“çš„é£æ ¼<br><span class="hljs-built_in">font</span>-variant:åå¤§æˆ–åå°çš„å­—ä½“<br></code></pre></td></tr></table></figure><ul><li>æ–‡æœ¬ç³»åˆ—å±æ€§</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-attribute">text-indent</span>ï¼šæ–‡æœ¬ç¼©è¿›<br><span class="hljs-attribute">text-align</span>ï¼šæ–‡æœ¬æ°´å¹³å¯¹é½<br><span class="hljs-attribute">line-height</span>ï¼šè¡Œé«˜<br><span class="hljs-attribute">word-spacing</span>ï¼šå¢åŠ æˆ–å‡å°‘å•è¯é—´çš„ç©ºç™½<br><span class="hljs-attribute">letter-spacing</span>ï¼šå¢åŠ æˆ–å‡å°‘å­—ç¬¦é—´çš„ç©ºç™½<br><span class="hljs-attribute">text-transform</span>ï¼šæ§åˆ¶æ–‡æœ¬å¤§å°å†™<br><span class="hljs-attribute">direction</span>ï¼šè§„å®šæ–‡æœ¬çš„ä¹¦å†™æ–¹å‘<br><span class="hljs-attribute">color</span>ï¼šæ–‡æœ¬é¢œè‰²<br></code></pre></td></tr></table></figure><ul><li>å…ƒç´ å¯è§æ€§</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-attribute">visibility</span><br></code></pre></td></tr></table></figure><ul><li>è¡¨æ ¼å¸ƒå±€å±æ€§</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-attribute">caption-side</span>ï¼šå®šä½è¡¨æ ¼æ ‡é¢˜ä½ç½®<br><span class="hljs-attribute">border-collapse</span>ï¼šåˆå¹¶è¡¨æ ¼è¾¹æ¡†<br><span class="hljs-attribute">border-spacing</span>ï¼šè®¾ç½®ç›¸é‚»å•å…ƒæ ¼çš„è¾¹æ¡†é—´çš„è·ç¦»<br><span class="hljs-attribute">empty-cells</span>ï¼šå•å…ƒæ ¼çš„è¾¹æ¡†çš„å‡ºç°ä¸æ¶ˆå¤±<br><span class="hljs-attribute">table-layout</span>ï¼šè¡¨æ ¼çš„å®½åº¦ç”±ä»€ä¹ˆå†³å®š<br></code></pre></td></tr></table></figure><ul><li>åˆ—è¡¨å±æ€§</li></ul><figure class="highlight dsconfig"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs dsconfig"><span class="hljs-built_in">list-style-typeï¼šæ–‡å­—å‰é¢çš„å°ç‚¹ç‚¹æ ·å¼</span><br><span class="hljs-built_in">list-style-positionï¼šå°ç‚¹ç‚¹ä½ç½®</span><br><span class="hljs-built_in">list-styleï¼šä»¥ä¸Šçš„å±æ€§å¯é€šè¿‡è¿™å±æ€§é›†åˆ</span><br></code></pre></td></tr></table></figure><ul><li>å¼•ç”¨</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-attribute">quotes</span>ï¼šè®¾ç½®åµŒå¥—å¼•ç”¨çš„å¼•å·ç±»å‹<br></code></pre></td></tr></table></figure><ul><li>å…‰æ ‡å±æ€§</li></ul><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs arduino">cursorï¼šç®­å¤´å¯ä»¥å˜æˆéœ€è¦çš„å½¢çŠ¶<br></code></pre></td></tr></table></figure><p>ç»§æ‰¿ä¸­æ¯”è¾ƒç‰¹æ®Šçš„å‡ ç‚¹ï¼š</p><ul><li>a æ ‡ç­¾çš„å­—ä½“é¢œè‰²ä¸èƒ½è¢«ç»§æ‰¿</li><li>h1-h6æ ‡ç­¾å­—ä½“çš„å¤§ä¸‹ä¹Ÿæ˜¯ä¸èƒ½è¢«ç»§æ‰¿çš„</li></ul><h2 id="æ— ç»§æ‰¿çš„å±æ€§"><a href="#æ— ç»§æ‰¿çš„å±æ€§" class="headerlink" title="æ— ç»§æ‰¿çš„å±æ€§"></a>æ— ç»§æ‰¿çš„å±æ€§</h2><ul><li>display</li><li>æ–‡æœ¬å±æ€§ï¼švertical-alignã€text-decoration</li><li>ç›’å­æ¨¡å‹çš„å±æ€§ï¼šå®½åº¦ã€é«˜åº¦ã€å†…å¤–è¾¹è·ã€è¾¹æ¡†ç­‰</li><li>èƒŒæ™¯å±æ€§ï¼šèƒŒæ™¯å›¾ç‰‡ã€é¢œè‰²ã€ä½ç½®ç­‰</li><li>å®šä½å±æ€§ï¼šæµ®åŠ¨ã€æ¸…é™¤æµ®åŠ¨ã€å®šä½positionç­‰</li><li>ç”Ÿæˆå†…å®¹å±æ€§ï¼šcontentã€counter-resetã€counter-increment</li><li>è½®å»“æ ·å¼å±æ€§ï¼šoutline-styleã€outline-widthã€outline-colorã€outline</li><li>é¡µé¢æ ·å¼å±æ€§ï¼šsizeã€page-break-beforeã€page-break-after</li></ul>]]></content>
    
    
    <categories>
      
      <category>å­¦ä¹ ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>CSS</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ­£å‘ä»£ç†ä¸åå‘ä»£ç†</title>
    <link href="/dylan/2021/12/18/agent/"/>
    <url>/dylan/2021/12/18/agent/</url>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>è¯´åˆ°ä»£ç†ï¼Œé¦–å…ˆæˆ‘ä»¬è¦æ˜ç¡®ä¸€ä¸ªæ¦‚å¿µï¼Œæ‰€è°“ä»£ç†å°±æ˜¯ä¸€ä¸ªä»£è¡¨ã€ä¸€ä¸ªæ¸ é“ï¼›</p><p>æ­¤æ—¶å°±æ¶‰åŠåˆ°ä¸¤ä¸ªè§’è‰²ï¼Œä¸€ä¸ªæ˜¯è¢«ä»£ç†è§’è‰²ï¼Œä¸€ä¸ªæ˜¯ç›®æ ‡è§’è‰²ï¼Œè¢«ä»£ç†è§’è‰²é€šè¿‡è¿™ä¸ªä»£ç†è®¿é—®ç›®æ ‡è§’è‰²å®Œæˆä¸€äº›ä»»åŠ¡çš„è¿‡ç¨‹ç§°ä¸ºä»£ç†æ“ä½œè¿‡ç¨‹ï¼›å¦‚åŒç”Ÿæ´»ä¸­çš„ä¸“å–åº—~å®¢äººåˆ°adidasä¸“å–åº—ä¹°äº†ä¸€åŒé‹ï¼Œè¿™ä¸ªä¸“å–åº—å°±æ˜¯ä»£ç†ï¼Œè¢«ä»£ç†è§’è‰²å°±æ˜¯adidaså‚å®¶ï¼Œç›®æ ‡è§’è‰²å°±æ˜¯ç”¨æˆ·ã€‚</p><h2 id="æ­£å‘ä»£ç†"><a href="#æ­£å‘ä»£ç†" class="headerlink" title="æ­£å‘ä»£ç†"></a>æ­£å‘ä»£ç†</h2><p>æ­£å‘ä»£ç†ä¹Ÿæ˜¯å¤§å®¶æœ€å¸¸æ¥è§¦çš„åˆ°çš„ä»£ç†æ¨¡å¼ã€‚</p><p>åœ¨å¦‚ä»Šçš„ç½‘ç»œç¯å¢ƒä¸‹ï¼Œæˆ‘ä»¬å¦‚æœç”±äºæŠ€æœ¯éœ€è¦è¦å»è®¿é—®å›½å¤–çš„æŸäº›ç½‘ç«™ï¼Œæ­¤æ—¶ä½ ä¼šå‘ç°ä½äºå›½å¤–çš„æŸç½‘ç«™æˆ‘ä»¬é€šè¿‡æµè§ˆå™¨æ˜¯æ²¡æœ‰åŠæ³•è®¿é—®çš„ï¼Œæ­¤æ—¶å¤§å®¶å¯èƒ½éƒ½ä¼šç”¨ä¸€ä¸ªä»£ç†å·¥å…·è¿›è¡Œè®¿é—®ï¼Œè¿™ä¸ªä»£ç†å·¥å…·å°±æ˜¯æ‰¾åˆ°ä¸€ä¸ªå¯ä»¥è®¿é—®å›½å¤–ç½‘ç«™çš„ä»£ç†æœåŠ¡å™¨ï¼Œæˆ‘ä»¬å°†è¯·æ±‚å‘é€ç»™ä»£ç†æœåŠ¡å™¨ï¼Œä»£ç†æœåŠ¡å™¨å»è®¿é—®å›½å¤–çš„ç½‘ç«™ï¼Œç„¶åå°†è®¿é—®åˆ°çš„æ•°æ®ä¼ é€’ç»™æˆ‘ä»¬ï¼</p><p>ä¸Šè¿°è¿™æ ·çš„ä»£ç†æ¨¡å¼ç§°ä¸ºæ­£å‘ä»£ç†ï¼Œæ­£å‘ä»£ç†æœ€å¤§çš„ç‰¹ç‚¹æ˜¯å®¢æˆ·ç«¯éå¸¸æ˜ç¡®è¦è®¿é—®çš„æœåŠ¡å™¨åœ°å€ï¼›æœåŠ¡å™¨åªæ¸…æ¥šè¯·æ±‚æ¥è‡ªå“ªä¸ªä»£ç†æœåŠ¡å™¨ï¼Œè€Œä¸æ¸…æ¥šæ¥è‡ªå“ªä¸ªå…·ä½“çš„å®¢æˆ·ç«¯ï¼›æ­£å‘ä»£ç†æ¨¡å¼å±è”½æˆ–è€…éšè—äº†çœŸå®å®¢æˆ·ç«¯ä¿¡æ¯ã€‚</p><p>æ€»ç»“æ¥è¯´ï¼šæ­£å‘ä»£ç†ï¼Œâ€å®ƒä»£ç†çš„æ˜¯å®¢æˆ·ç«¯ï¼Œä»£å®¢æˆ·ç«¯å‘å‡ºè¯·æ±‚â€ï¼Œæ˜¯ä¸€ä¸ªä½äºå®¢æˆ·ç«¯å’ŒåŸå§‹æœåŠ¡å™¨(origin server)ä¹‹é—´çš„æœåŠ¡å™¨ï¼Œä¸ºäº†ä»åŸå§‹æœåŠ¡å™¨å–å¾—å†…å®¹ï¼Œå®¢æˆ·ç«¯å‘ä»£ç†å‘é€ä¸€ä¸ªè¯·æ±‚å¹¶æŒ‡å®šç›®æ ‡(åŸå§‹æœåŠ¡å™¨)ï¼Œç„¶åä»£ç†å‘åŸå§‹æœåŠ¡å™¨è½¬äº¤è¯·æ±‚å¹¶å°†è·å¾—çš„å†…å®¹è¿”å›ç»™å®¢æˆ·ç«¯ã€‚å®¢æˆ·ç«¯å¿…é¡»è¦è¿›è¡Œä¸€äº›ç‰¹åˆ«çš„è®¾ç½®æ‰èƒ½ä½¿ç”¨æ­£å‘ä»£ç†ã€‚</p><p>æ­£å‘ä»£ç†çš„ç”¨é€”ï¼š</p><ul><li>è®¿é—®åŸæ¥æ— æ³•è®¿é—®çš„èµ„æºï¼Œå¦‚Google</li><li>å¯ä»¥åšç¼“å­˜ï¼ŒåŠ é€Ÿè®¿é—®èµ„æº</li><li>å¯¹å®¢æˆ·ç«¯è®¿é—®æˆæƒï¼Œä¸Šç½‘è¿›è¡Œè®¤è¯</li><li>ä»£ç†å¯ä»¥è®°å½•ç”¨æˆ·è®¿é—®è®°å½•ï¼ˆä¸Šç½‘è¡Œä¸ºç®¡ç†ï¼‰ï¼Œå¯¹å¤–éšè—ç”¨æˆ·ä¿¡æ¯</li></ul><h2 id="åå‘ä»£ç†"><a href="#åå‘ä»£ç†" class="headerlink" title="åå‘ä»£ç†"></a>åå‘ä»£ç†</h2><p>æ˜ç™½äº†ä»€ä¹ˆæ˜¯æ­£å‘ä»£ç†ï¼Œæˆ‘ä»¬ç»§ç»­çœ‹å…³äºåå‘ä»£ç†çš„å¤„ç†æ–¹å¼ã€‚</p><p>ä¾‹å¦‚æŸå®ç½‘ç«™ï¼Œæ¯å¤©åŒæ—¶è¿æ¥åˆ°ç½‘ç«™çš„è®¿é—®äººæ•°å·²ç»çˆ†è¡¨ï¼Œå•ä¸ªæœåŠ¡å™¨è¿œè¿œä¸èƒ½æ»¡è¶³äººæ°‘æ—¥ç›Šå¢é•¿çš„è´­ä¹°æ¬²æœ›äº†ï¼Œæ­¤æ—¶å°±å‡ºç°äº†ä¸€ä¸ªå¤§å®¶è€³ç†Ÿèƒ½è¯¦çš„åè¯ï¼šåˆ†å¸ƒå¼éƒ¨ç½²ï¼›</p><p>ä¹Ÿå°±æ˜¯é€šè¿‡éƒ¨ç½²å¤šå°æœåŠ¡å™¨æ¥è§£å†³è®¿é—®äººæ•°é™åˆ¶çš„é—®é¢˜ï¼›æŸå®ç½‘ç«™ä¸­å¤§éƒ¨åˆ†åŠŸèƒ½ä¹Ÿæ˜¯ç›´æ¥ä½¿ç”¨Nginxè¿›è¡Œåå‘ä»£ç†å®ç°çš„ï¼Œå¹¶ä¸”é€šè¿‡å°è£…Nginxå’Œå…¶ä»–çš„ç»„ä»¶ä¹‹åèµ·äº†ä¸ªé«˜å¤§ä¸Šçš„åå­—ï¼šTengineï¼Œæœ‰å…´è¶£çš„ç«¥é‹å¯ä»¥è®¿é—®Tengineçš„å®˜ç½‘æŸ¥çœ‹å…·ä½“çš„ä¿¡æ¯ï¼š<a href="http://tengine.taobao.org/%E3%80%82">http://tengine.taobao.org/ã€‚</a></p><p>å¤šä¸ªå®¢æˆ·ç«¯ç»™æœåŠ¡å™¨å‘é€çš„è¯·æ±‚ï¼ŒNginxæœåŠ¡å™¨æ¥æ”¶åˆ°ä¹‹åï¼ŒæŒ‰ç…§ä¸€å®šçš„è§„åˆ™åˆ†å‘ç»™äº†åç«¯çš„ä¸šåŠ¡å¤„ç†æœåŠ¡å™¨è¿›è¡Œå¤„ç†äº†ã€‚æ­¤æ—¶ï¼Œè¯·æ±‚çš„æ¥æºï¼ˆä¹Ÿå°±æ˜¯å®¢æˆ·ç«¯ï¼‰æ˜¯æ˜ç¡®çš„ï¼Œä½†æ˜¯è¯·æ±‚å…·ä½“ç”±å“ªå°æœåŠ¡å™¨å¤„ç†çš„å¹¶ä¸æ˜ç¡®äº†ï¼ŒNginxæ‰®æ¼”çš„å°±æ˜¯ä¸€ä¸ªåå‘ä»£ç†è§’è‰²ã€‚</p><p>å®¢æˆ·ç«¯æ˜¯æ— æ„ŸçŸ¥ä»£ç†çš„å­˜åœ¨çš„ï¼Œåå‘ä»£ç†å¯¹å¤–éƒ½æ˜¯é€æ˜çš„ï¼Œè®¿é—®è€…å¹¶ä¸çŸ¥é“è‡ªå·±è®¿é—®çš„æ˜¯ä¸€ä¸ªä»£ç†ã€‚å› ä¸ºå®¢æˆ·ç«¯ä¸éœ€è¦ä»»ä½•é…ç½®å°±å¯ä»¥è®¿é—®ã€‚</p><p>åå‘ä»£ç†ï¼Œâ€å®ƒä»£ç†çš„æ˜¯æœåŠ¡ç«¯ï¼Œä»£æœåŠ¡ç«¯æ¥æ”¶è¯·æ±‚â€ï¼Œä¸»è¦ç”¨äºæœåŠ¡å™¨é›†ç¾¤åˆ†å¸ƒå¼éƒ¨ç½²çš„æƒ…å†µä¸‹ï¼Œåå‘ä»£ç†éšè—äº†æœåŠ¡å™¨çš„ä¿¡æ¯ã€‚</p><p>åå‘ä»£ç†çš„ä½œç”¨ï¼š</p><ul><li>ä¿è¯å†…ç½‘çš„å®‰å…¨ï¼Œé€šå¸¸å°†åå‘ä»£ç†ä½œä¸ºå…¬ç½‘è®¿é—®åœ°å€ï¼ŒWebæœåŠ¡å™¨æ˜¯å†…ç½‘</li><li>è´Ÿè½½å‡è¡¡ï¼Œé€šè¿‡åå‘ä»£ç†æœåŠ¡å™¨æ¥ä¼˜åŒ–ç½‘ç«™çš„è´Ÿè½½</li></ul>]]></content>
    
    
    <categories>
      
      <category>å­¦ä¹ ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç»¼åˆ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æµè§ˆå™¨å›æ”¶æœºåˆ¶</title>
    <link href="/dylan/2021/12/17/recovery/"/>
    <url>/dylan/2021/12/17/recovery/</url>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>JSä¼šåœ¨åˆ›å»ºå˜é‡æ—¶è‡ªåŠ¨åˆ†é…å†…å­˜ï¼Œåœ¨ä¸ä½¿ç”¨çš„æ—¶å€™ä¼šè‡ªåŠ¨å‘¨æœŸæ€§çš„é‡Šæ”¾å†…å­˜ï¼Œé‡Šæ”¾çš„è¿‡ç¨‹å°±å« â€œåƒåœ¾å›æ”¶â€ã€‚</p><p>ä¸€æ–¹é¢è‡ªåŠ¨åˆ†é…å†…å­˜å‡è½»äº†å¼€å‘è€…çš„è´Ÿæ‹…ï¼Œå¼€å‘è€…ä¸ç”¨è¿‡å¤šçš„å»å…³æ³¨å†…å­˜ä½¿ç”¨ï¼Œä½†æ˜¯å¦ä¸€æ–¹é¢ï¼Œæ­£æ˜¯å› ä¸ºå› ä¸ºæ˜¯è‡ªåŠ¨å›æ”¶ï¼Œæ‰€ä»¥å¦‚æœä¸æ¸…æ¥šå›æ”¶çš„æœºåˆ¶ï¼Œä¼šå¾ˆå®¹æ˜“é€ æˆæ··ä¹±ï¼Œè€Œæ··ä¹±å°±å¾ˆå®¹æ˜“é€ æˆâ€å†…å­˜æ³„æ¼â€ã€‚</p><p>ç”±äºæ˜¯è‡ªåŠ¨å›æ”¶ï¼Œæ‰€ä»¥å°±å­˜åœ¨ä¸€ä¸ª â€œå†…å­˜æ˜¯å¦éœ€è¦è¢«å›æ”¶çš„â€ çš„é—®é¢˜ï¼Œä½†æ˜¯è¿™ä¸ªé—®é¢˜çš„åˆ¤å®šåœ¨ç¨‹åºä¸­æ„å‘³ç€æ— æ³•é€šè¿‡æŸä¸ªç®—æ³•å»å‡†ç¡®å®Œæ•´çš„è§£å†³ï¼Œåé¢æ¢è®¨çš„å›æ”¶æœºåˆ¶åªèƒ½æœ‰é™çš„å»è§£å†³ä¸€èˆ¬çš„é—®é¢˜ã€‚</p><h2 id="å›æ”¶ç®—æ³•"><a href="#å›æ”¶ç®—æ³•" class="headerlink" title="å›æ”¶ç®—æ³•"></a>å›æ”¶ç®—æ³•</h2><p>åƒåœ¾å›æ”¶å¯¹æ˜¯å¦éœ€è¦å›æ”¶çš„é—®é¢˜ä¸»è¦ä¾èµ–äºå¯¹å˜é‡çš„åˆ¤å®šæ˜¯å¦å¯è®¿é—®ï¼Œç”±æ­¤è¡ç”Ÿå‡ºä¸¤ç§ä¸»è¦çš„å›æ”¶ç®—æ³•ï¼š</p><ul><li>æ ‡è®°æ¸…ç†</li><li>å¼•ç”¨è®¡æ•°</li></ul><h2 id="æ ‡è®°æ¸…ç†"><a href="#æ ‡è®°æ¸…ç†" class="headerlink" title="æ ‡è®°æ¸…ç†"></a>æ ‡è®°æ¸…ç†</h2><p>æ ‡è®°æ¸…ç†æ˜¯jsæœ€å¸¸ç”¨çš„å›æ”¶ç­–ç•¥ï¼Œ2012å¹´åæ‰€æœ‰æµè§ˆå™¨éƒ½ä½¿ç”¨äº†è¿™ç§ç­–ç•¥ï¼Œæ­¤åçš„å¯¹å›æ”¶ç­–ç•¥çš„æ”¹è¿›ä¹Ÿæ˜¯åŸºäºè¿™ä¸ªç­–ç•¥çš„æ”¹è¿›ã€‚å…¶ç­–ç•¥æ˜¯ï¼š</p><ul><li>å˜é‡è¿›å…¥ä¸Šä¸‹æ–‡ï¼Œä¹Ÿå¯ç†è§£ä¸ºä½œç”¨åŸŸï¼Œä¼šåŠ ä¸Šæ ‡è®°ï¼Œè¯æ˜å…¶å­˜åœ¨äºè¯¥ä¸Šä¸‹æ–‡ï¼›</li><li>å°†æ‰€æœ‰åœ¨ä¸Šä¸‹æ–‡ä¸­çš„å˜é‡ä»¥åŠä¸Šä¸‹æ–‡ä¸­è¢«è®¿é—®å¼•ç”¨çš„å˜é‡æ ‡è®°å»æ‰ï¼Œè¡¨æ˜è¿™äº›å˜é‡æ´»è·ƒæœ‰ç”¨ï¼›</li><li>åœ¨æ­¤ä¹‹åå†è¢«åŠ ä¸Šæ ‡è®°çš„å˜é‡æ ‡è®°ä¸ºå‡†å¤‡åˆ é™¤çš„å˜é‡ï¼Œå› ä¸ºä¸Šä¸‹æ–‡ä¸­çš„å˜é‡å·²ç»æ— æ³•è®¿é—®å®ƒä»¬ï¼›</li><li>æ‰§è¡Œå†…å­˜æ¸…ç†ï¼Œé”€æ¯å¸¦æ ‡è®°çš„æ‰€æœ‰éæ´»è·ƒå€¼å¹¶å›æ”¶ä¹‹å‰è¢«å ç”¨çš„å†…å­˜ï¼›</li></ul><p>å±€é™ï¼š</p><ul><li>ç”±äºæ˜¯ä»æ ¹å¯¹è±¡(å…¨å±€å¯¹è±¡)å¼€å§‹æŸ¥æ‰¾ï¼Œå¯¹äºé‚£äº›æ— æ³•ä»æ ¹å¯¹è±¡æŸ¥è¯¢åˆ°çš„å¯¹è±¡éƒ½å°†è¢«æ¸…é™¤</li><li>å›æ”¶åä¼šå½¢æˆå†…å­˜ç¢ç‰‡ï¼Œå½±å“åé¢ç”³è¯·å¤§çš„è¿ç»­å†…å­˜ç©ºé—´</li></ul><h2 id="å¼•ç”¨è®¡æ•°"><a href="#å¼•ç”¨è®¡æ•°" class="headerlink" title="å¼•ç”¨è®¡æ•°"></a>å¼•ç”¨è®¡æ•°</h2><p>å¼•ç”¨è®¡æ•°ç­–ç•¥ç›¸å¯¹è€Œè¨€ä¸å¸¸ç”¨ï¼Œå› ä¸ºå¼Šç«¯è¾ƒå¤šã€‚å…¶æ€è·¯æ˜¯å¯¹æ¯ä¸ªå€¼è®°å½•å®ƒè¢«å¼•ç”¨çš„æ¬¡æ•°ï¼Œé€šè¿‡æœ€åå¯¹æ¬¡æ•°çš„åˆ¤æ–­(å¼•ç”¨æ•°ä¸º0)æ¥å†³å®šæ˜¯å¦ä¿ç•™ï¼Œå…·ä½“çš„è§„åˆ™æœ‰ï¼š</p><ul><li>å£°æ˜ä¸€ä¸ªå˜é‡ï¼Œèµ‹äºˆå®ƒä¸€ä¸ªå¼•ç”¨å€¼æ—¶ï¼Œè®¡æ•°+1ï¼›</li><li>åŒä¸€ä¸ªå€¼è¢«èµ‹äºˆå¦å¤–ä¸€ä¸ªå˜é‡æ—¶ï¼Œå¼•ç”¨+1ï¼›</li><li>ä¿å­˜å¯¹è¯¥å€¼å¼•ç”¨çš„å˜é‡è¢«å…¶ä»–å€¼è¦†ç›–ï¼Œå¼•ç”¨-1ï¼›</li><li>å¼•ç”¨ä¸º0ï¼Œå›æ”¶å†…å­˜ï¼›</li></ul><p>å±€é™ï¼š</p><p>æœ€é‡è¦çš„é—®é¢˜å°±æ˜¯ï¼Œå¾ªç¯å¼•ç”¨ çš„é—®é¢˜</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">refProblem</span> (<span class="hljs-params"></span>) </span>&#123;<br>    <span class="hljs-keyword">let</span> a = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Object</span>();<br>    <span class="hljs-keyword">let</span> b = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Object</span>();<br>    a.c = b;<br>    b.c = a;  <span class="hljs-comment">//äº’ç›¸å¼•ç”¨</span><br>&#125;<br></code></pre></td></tr></table></figure><p>æ ¹æ®ä¹‹å‰æåˆ°çš„è§„åˆ™ï¼Œä¸¤ä¸ªéƒ½äº’ç›¸å¼•ç”¨äº†ï¼Œå¼•ç”¨è®¡æ•°ä¸ä¸º0ï¼Œæ‰€ä»¥ä¸¤ä¸ªå˜é‡éƒ½æ— æ³•å›æ”¶ã€‚å¦‚æœé¢‘ç¹çš„è°ƒç”¨æ”¹å‡½æ•°ï¼Œåˆ™ä¼šé€ æˆå¾ˆä¸¥é‡çš„å†…å­˜æ³„æ¼ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>å­¦ä¹ ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç»¼åˆ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Javascriptä¸­çš„é”™è¯¯ç±»å‹</title>
    <link href="/dylan/2021/12/16/error/"/>
    <url>/dylan/2021/12/16/error/</url>
    
    <content type="html"><![CDATA[<h2 id="Error"><a href="#Error" class="headerlink" title="Error"></a>Error</h2><p><code>Error</code>æ˜¯æœ€åŸºæœ¬çš„é”™è¯¯ç±»å‹ï¼Œå…¶ä»–çš„é”™è¯¯ç±»å‹éƒ½ç»§æ‰¿è‡ªè¯¥ç±»å‹ã€‚å› æ­¤ï¼Œæ‰€æœ‰é”™è¯¯çš„ç±»å‹å…±äº«äº†ä¸€ç»„ç›¸åŒçš„å±æ€§ã€‚ è¿™ä¸ªç±»å‹çš„é”™è¯¯å¾ˆå°‘è§ã€‚ä¸€èˆ¬ä½¿ç”¨å¼€å‘äººå‘˜è‡ªå®šä¹‰æŠ›å‡ºçš„é”™è¯¯ã€‚</p><h2 id="EvalError"><a href="#EvalError" class="headerlink" title="EvalError"></a>EvalError</h2><p>è¿™ä¸ªé”™è¯¯ä¼šåœ¨ä½¿ç”¨<code>eval()</code>å‡½æ•°å‘ç”Ÿå¼‚å¸¸æ—¶å€™æŠ›å‡ºã€‚ä¸¤ç§æƒ…å†µä¼šå‡ºé”™ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">new</span> <span class="hljs-built_in">eval</span>();<br><span class="hljs-built_in">eval</span> = foo;<br></code></pre></td></tr></table></figure><p>ä¸Šé¢ä¸¤ä¸ªçš„æ„æ€ç»“åˆå°±æ˜¯æ²¡æœ‰ç›´æ¥è°ƒç”¨<code>eval</code>å‡½æ•°ï¼Œè€Œæ˜¯<code>new</code>æˆ–è€…æ˜¯é‡æ–°èµ‹å€¼ è¿™ä¸ªé”™è¯¯åŸºæœ¬ä¸Šä¸ä¼šé‡åˆ°ï¼Œå› ä¸º<code>eval</code>å‡½æ•°æœ¬æ¥ç”¨çš„å°±ä¸å¤šã€‚ä¸è¿‡éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ<code>eval</code>æ˜¯ä¸€ä¸ªå…³é”®å­—ã€‚</p><h2 id="RangeError"><a href="#RangeError" class="headerlink" title="RangeError"></a>RangeError</h2><p>è¿™ä¸ªé”™è¯¯ä¼šåœ¨æ•°å€¼è¶…å‡ºç›¸åº”èŒƒå›´æ—¶è§¦å‘ã€‚æ¯”å¦‚ä½¿ç”¨<code>new Array()</code>çš„æ—¶å€™ä¼ é€’ä¸€ä¸ªè´Ÿæ•°æˆ–è€…æ˜¯è¶…è¿‡æ•°ç»„æœ€å¤§é•¿åº¦ï¼ˆ4,294,967,295ï¼‰çš„æ•°ï¼Œæ¯”å¦‚Number.MAX_VALUEï¼ŒNumber.MIN_VALUEã€‚æ³¨æ„é€’å½’çˆ†ç‚¸ä¹Ÿæœ‰è¿™ä¸ªé”™è¯¯ã€‚</p><h2 id="ReferenceError"><a href="#ReferenceError" class="headerlink" title="ReferenceError"></a>ReferenceError</h2><p>è¿™ä¸ªé”™è¯¯ä¸€èˆ¬å°±æ˜¯å‡ºç°åœ¨å˜é‡æ‰¾ä¸åˆ°çš„æƒ…å†µï¼Œæ¯”å¦‚ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> a = b;<br>Uncaught <span class="hljs-built_in">ReferenceError</span>: b is not defined<br></code></pre></td></tr></table></figure><p>è¿™æ—¶å€™å°±éœ€è¦æ£€æŸ¥ä¸€ä¸‹ä¸€ä¸ªå˜é‡äº†</p><h2 id="SyntaxError"><a href="#SyntaxError" class="headerlink" title="SyntaxError"></a>SyntaxError</h2><p>å½“Javascriptè¯­è¨€è§£æä»£ç æ—¶,Javascriptå¼•æ“å‘ç°äº†ä¸ç¬¦åˆè¯­æ³•è§„èŒƒçš„tokensæˆ–tokené¡ºåºæ—¶æŠ›å‡ºSyntaxErrorã€‚</p><h2 id="TypeError"><a href="#TypeError" class="headerlink" title="TypeError"></a>TypeError</h2><p>è¿™ä¸ªé”™è¯¯åœ¨JavaScriptä¸­æ˜¯ç»å¸¸é‡åˆ°çš„ï¼Œä¸ç®¡æ˜¯åˆå­¦è€…è¿˜æ˜¯è€æ‰‹ã€‚åœ¨å˜é‡ä¸­ä¿å­˜ç€ä»¥å¤–çš„ç±»å‹æ—¶ï¼Œæˆ–è€…åœ¨è®¿é—®ä¸å­˜åœ¨çš„æ–¹æ³•æ—¶ã€‚éƒ½ä¼šå¯¼è‡´è¿™ç§é”™è¯¯ã€‚ä½†æ˜¯å½’æ ¹ç»“åº•è¿˜æ˜¯ç”±äºåœ¨æ‰§è¡Œç‰¹å®šäºç±»å‹çš„æ“ä½œæ—¶ï¼Œå˜é‡çš„ç±»å‹å¹¶ä¸ç¬¦åˆè¦æ±‚æ‰€è‡´ã€‚æ¯”å¦‚ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> o = <span class="hljs-keyword">new</span> <span class="hljs-number">10</span>;<br>a.style.widht = <span class="hljs-string">&quot;10px&quot;</span>;<br></code></pre></td></tr></table></figure><p>å…³äºè®¾ç½®æ ·å¼è¿™ä¸ªä¸œè¥¿ï¼Œæ–°æ‰‹ä¼šé‡åˆ°å¾ˆå¤šï¼Œä¸€èˆ¬è¿™éƒ½æ˜¯ç”±è·å–ä¸åˆ°å…ƒç´ å¯¼è‡´çš„ã€‚</p><h2 id="URIError"><a href="#URIError" class="headerlink" title="URIError"></a>URIError</h2><p>åœ¨ä½¿ç”¨encodeURIæˆ–è€…decodeURIå› ä¸ºURLæ ¼å¼ä¸æ­£ç¡®æ—¶ï¼Œå°±ä¼šå¯¼è‡´URIErroré”™è¯¯ã€‚è¿™ç§é”™è¯¯ä¹Ÿå¾ˆå°‘è§ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>å­¦ä¹ ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>JavaScript</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>httpå¸¸ç”¨çŠ¶æ€ç </title>
    <link href="/dylan/2021/12/10/http/"/>
    <url>/dylan/2021/12/10/http/</url>
    
    <content type="html"><![CDATA[<h2 id="ç±»åˆ«"><a href="#ç±»åˆ«" class="headerlink" title="ç±»åˆ«"></a>ç±»åˆ«</h2><p>1xxï¼Œä¿¡æ¯æ€§çŠ¶æ€ç ï¼Œæ¥å—çš„è¯·æ±‚æ­£åœ¨å¤„ç†ã€‚</p><p>2xxï¼ŒæˆåŠŸçŠ¶æ€ç ï¼Œè¯·æ±‚æ­£å¸¸å¤„ç†å®Œæ¯•ã€‚</p><p>3xxï¼Œé‡å®šå‘ï¼Œéœ€è¦è¿›è¡Œé™„åŠ æ“ä½œä»¥å®Œæˆè¯·æ±‚ã€‚</p><p>4xxï¼Œå®¢æˆ·ç«¯é”™è¯¯ï¼Œå®¢æˆ·ç«¯è¯·æ±‚å‡ºé”™ï¼ŒæœåŠ¡å™¨æ— æ³•å¤„ç†è¯·æ±‚ã€‚</p><p>5xxï¼ŒæœåŠ¡å™¨é”™è¯¯ï¼ŒæœåŠ¡å™¨å¤„ç†è¯·æ±‚å‡ºé”™ã€‚</p><h2 id="2xx"><a href="#2xx" class="headerlink" title="2xx"></a>2xx</h2><p>200ï¼šè¯·æ±‚æˆåŠŸï¼Œè¡¨æ˜æœåŠ¡å™¨æˆåŠŸå¤„ç†äº†è¯·æ±‚ã€‚</p><p>201ï¼šä½œä¸º http post è¯·æ±‚çš„ç»“æœï¼Œå·²åœ¨æœåŠ¡å™¨ä¸ŠæˆåŠŸåˆ›å»ºäº†ä¸€ä¸ªæˆ–å¤šä¸ªæ–°èµ„æºã€‚</p><p>202ï¼šæœåŠ¡å™¨å·²æ¥æ”¶è¯·æ±‚ï¼Œä½†å°šæœªå¤„ç†ã€‚é€šå¸¸ç”¨äºè¿˜æœ‰å¼‚æ­¥ä»»åŠ¡éœ€è¦æ‰§è¡Œçš„æƒ…å†µï¼Œå…ˆè¿”å›202ã€‚</p><p>204ï¼šæœåŠ¡å™¨æˆåŠŸå¤„ç†äº†è¯·æ±‚ï¼Œä½†æ²¡æœ‰è¿”å›ä»»ä½•å†…å®¹ã€‚</p><p>206ï¼šè¡¨ç¤ºå®¢æˆ·ç«¯è¿›è¡Œäº†èŒƒå›´è¯·æ±‚ï¼Œå¹¶ä¸”æœåŠ¡å™¨æˆåŠŸæ‰§è¡Œäº†è¿™éƒ¨åˆ†çš„getè¯·æ±‚ã€‚</p><h2 id="3xx"><a href="#3xx" class="headerlink" title="3xx"></a>3xx</h2><p>300ï¼šé’ˆå¯¹è¯·æ±‚ï¼ŒæœåŠ¡å™¨å¯æ‰§è¡Œå¤šç§æ“ä½œã€‚</p><p>301ï¼šæ°¸ä¹…é‡å®šå‘ã€‚</p><p>302ï¼šä¸´æ—¶é‡å®šå‘ã€‚</p><p>303:303ä¸302çŠ¶æ€ç æœ‰ç€ç›¸åŒçš„åŠŸèƒ½ï¼Œä½†303çŠ¶æ€ç æ˜ç¡®è¡¨ç¤ºå®¢æˆ·ç«¯åº”å½“é‡‡ç”¨getæ–¹æ³•è·å–èµ„æºã€‚å¸¸ç”¨äºå°†postè¯·æ±‚é‡å®šå‘åˆ°getè¯·æ±‚ï¼Œæ¯”å¦‚ä½ ä¸Šä¼ äº†ä¸€ä»½ä¸ªäººä¿¡æ¯ï¼ŒæœåŠ¡å™¨å›å‘ä¸€ä¸ª303å“åº”ï¼Œå°†ä½ å¯¼å‘ä¸€ä¸ªâ€œä¸Šä¼ æˆåŠŸâ€é¡µé¢ã€‚</p><h2 id="301å’Œ302çš„åŒºåˆ«"><a href="#301å’Œ302çš„åŒºåˆ«" class="headerlink" title="301å’Œ302çš„åŒºåˆ«"></a>301å’Œ302çš„åŒºåˆ«</h2><p>301æ¯”è¾ƒå¸¸ç”¨çš„åœºæ™¯æ˜¯ä½¿ç”¨åŸŸåè·³è½¬ã€‚æ¯”å¦‚ï¼Œè®¿é—® <a href="http://www.baidu.com/">http://www.baidu.com</a> ä¼šè·³è½¬åˆ° <a href="https://www.baidu.com./">https://www.baidu.comã€‚</a></p><p>302ç”¨æ¥åšä¸´æ—¶è·³ï¼Œæ¯”å¦‚æœªç™»å½•çš„ç”¨æˆ·è®¿é—®ç”¨æˆ·ä¸­å¿ƒé‡å®šå‘åˆ°ç™»å½•é¡µé¢ã€‚</p><h2 id="302å’Œ307çš„åŒºåˆ«"><a href="#302å’Œ307çš„åŒºåˆ«" class="headerlink" title="302å’Œ307çš„åŒºåˆ«"></a>302å’Œ307çš„åŒºåˆ«</h2><p>ç”±äºå†å²çš„åŸå› ï¼Œç”¨æˆ·ä»£ç†å¯èƒ½ä¼šåœ¨é‡å®šå‘åçš„è¯·æ±‚ä¸­æŠŠpostæ–¹æ³•æ”¹ä¸ºgetæ–¹æ³•ï¼Œå¦‚æœä¸æƒ³è¿™æ ·ï¼Œåº”è¯¥ä½¿ç”¨307çŠ¶æ€ç ã€‚</p><h2 id="301å’Œ308çš„åŒºåˆ«"><a href="#301å’Œ308çš„åŒºåˆ«" class="headerlink" title="301å’Œ308çš„åŒºåˆ«"></a>301å’Œ308çš„åŒºåˆ«</h2><p>308çŠ¶æ€ç ä¸å…è®¸æµè§ˆå™¨å°†åŸæœ¬ä¸ºpostçš„è¯·æ±‚é‡å®šå‘åˆ°getè¯·æ±‚ä¸Šã€‚</p><h2 id="4xx"><a href="#4xx" class="headerlink" title="4xx"></a>4xx</h2><p>400ï¼šè¯¥çŠ¶æ€ç è¡¨ç¤ºè¯·æ±‚æ–‡ä¸­å­˜åœ¨é”™è¯¯ã€‚ä½†æµè§ˆå™¨ä¼šåƒ200ä¸€æ ·å¯¹å¾…è¯¥çŠ¶æ€ç ã€‚</p><p>401ï¼šè¡¨ç¤ºå‘é€çš„è¯·æ±‚éœ€è¦æœ‰é€šè¿‡HTTPè®¤è¯çš„è®¤è¯ä¿¡æ¯ï¼Œæ¯”å¦‚tokenå¤±æ•ˆå°±ä¼šå‡ºç°è¿™ä¸ªé—®é¢˜ã€‚</p><p>403ï¼šè¢«æ‹’ç»ï¼Œè¡¨æ˜å¯¹è¯·æ±‚èµ„æºçš„è®¿é—®è¢«æœåŠ¡å™¨æ‹’ç»äº†ã€‚æ²¡æœ‰æƒé™çš„é—®é¢˜ã€‚</p><p>404ï¼šæ‰¾ä¸åˆ°ï¼Œè¡¨æ˜æœåŠ¡å™¨ä¸Šæ— æ³•æ‰¾åˆ°è¯·æ±‚çš„èµ„æºï¼Œä¹Ÿå¯èƒ½æ˜¯æ‹’ç»è¯·æ±‚ä½†ä¸æƒ³è¯´æ˜åŸå› ã€‚</p><p>409ï¼šè¡¨ç¤ºå› ä¸ºè¯·æ±‚å­˜åœ¨å†²çªæ— æ³•å¤„ç†è¯¥è¯·æ±‚ï¼Œä¾‹å¦‚å¤šä¸ªåŒæ­¥æ›´æ–°ä¹‹é—´çš„ç¼–è¾‘å†²çªã€‚</p><p>415ï¼šè¯·æ±‚èµ„æºç±»å‹ content-type ä¸æ”¯æŒã€‚</p><p>418ï¼šåœ¨é¡¹ç›®ä¸­ç”¨ä½œå½©è›‹ã€‚</p><p>422ï¼šè¯­æ³•æ­£ç¡®ï¼Œæœ‰è¯­ä¹‰é”™è¯¯ã€‚ç”¨æˆ·åå¯†ç é”™è¯¯ï¼ŒéªŒè¯ç é”™è¯¯ç­‰ã€‚</p><p>429ï¼šç”¨æˆ·åœ¨ç»™å®šçš„æ—¶é—´å†…å‘é€äº†å¤ªå¤šçš„è¯·æ±‚ã€‚çš†åœ¨ç”¨äºç½‘ç»œé™é€Ÿã€‚</p><h2 id="5xx"><a href="#5xx" class="headerlink" title="5xx"></a>5xx</h2><p>500ï¼šæœåŠ¡å™¨æœ¬èº«å‘ç”Ÿé”™è¯¯ï¼Œå¯èƒ½æ˜¯webåº”ç”¨å­˜åœ¨çš„bugæˆ–æŸäº›ä¸´æ—¶çš„æ•…éšœã€‚</p><p>502ï¼šé€šå¸¸æ„å‘³ç€ä¸€ä¸¤ä¸ªæœºå™¨å·²ç»ä¸æ­£ç¡®ï¼Œç®€å•ç‚¹è¯´ï¼Œå°±æ˜¯æœºå™¨æŒ‚æ‰äº†ã€‚æ‰§è¡Œè¯·æ±‚çš„æ—¶å€™ï¼Œå´æ”¶åˆ°äº†ä¸Šæ¸¸æœåŠ¡å™¨çš„æ— æ•ˆç›¸åº”ã€‚</p><p>503ï¼šæœåŠ¡å™¨ç›®å‰æ— æ³•ä½¿ç”¨ï¼Œä¸´æ—¶æ€§çš„æœåŠ¡å™¨ç»´æŠ¤/è¿‡è½½ã€‚é€šå¸¸åˆ·æ–°å®¢æˆ·ç«¯ä¾¿å¥½ã€‚</p><p>504ï¼šè¯·æ±‚è¶…æ—¶ã€‚</p><h2 id="502å’Œ504çš„åŒºåˆ«"><a href="#502å’Œ504çš„åŒºåˆ«" class="headerlink" title="502å’Œ504çš„åŒºåˆ«"></a>502å’Œ504çš„åŒºåˆ«</h2><p>503è¡¨ç¤ºç½‘å…³å¯ç”¨ï¼Œä½†æ˜¯è¯·æ±‚è¶…æ—¶ã€‚</p><p>502è¡¨ç¤ºæ²¡æœ‰å¯ç”¨çš„ç½‘å…³ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>å­¦ä¹ ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>HTTP</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>äº‹ä»¶æµã€äº‹ä»¶æ•è·ã€äº‹ä»¶å†’æ³¡ã€äº‹ä»¶å§”æ‰˜æˆ–äº‹ä»¶ä»£ç†</title>
    <link href="/dylan/2021/12/03/event/"/>
    <url>/dylan/2021/12/03/event/</url>
    
    <content type="html"><![CDATA[<h2 id="äº‹ä»¶æµ"><a href="#äº‹ä»¶æµ" class="headerlink" title="äº‹ä»¶æµ"></a>äº‹ä»¶æµ</h2><p>äº‹ä»¶æµåˆ†ä¸ºä¸‰ä¸ªé˜¶æ®µï¼šæ•è·é˜¶æ®µã€ç›®æ ‡é˜¶æ®µã€å†’æ³¡é˜¶æ®µ</p><p>æ•è·é˜¶æ®µï¼šä»æœ€å¤–å±‚ä¸€å±‚ä¸€å±‚åˆ°ç›®æ ‡</p><p>ç›®æ ‡é˜¶æ®µï¼šæ‰§è¡Œç›®æ ‡çš„äº‹ä»¶</p><p>å†’æ³¡é˜¶æ®µï¼šä»ç›®æ ‡ä¸€å±‚ä¸€å±‚åˆ°æœ€å¤–å±‚</p><p>äº‹ä»¶å‡½æ•°çš„æ‰§è¡Œé»˜è®¤éƒ½æ˜¯åœ¨å†’æ³¡é˜¶æ®µæ‰§è¡Œ</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;style&gt;<br>    #a &#123;<br>        <span class="hljs-attr">width</span>: 300px;<br>        height: 300px;<br>        background-color: black;<br>    &#125;<br><br>    #b &#123;<br>        <span class="hljs-attr">width</span>: 200px;<br>        height: 200px;<br>        background-color: blue;<br>    &#125;<br><br>    #c &#123;<br>        <span class="hljs-attr">width</span>: 100px;<br>        height: 100px;<br>        background-color: red;<br>    &#125;<br>&lt;/style&gt;<br><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span></span><br><span class="xml">    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;a&quot;</span>&gt;</span></span><br><span class="xml">        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;b&quot;</span>&gt;</span></span><br><span class="xml">            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;c&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="javascript"><span class="xml">a.addEventListener(<span class="hljs-string">&#x27;click&#x27;</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;</span></span><br><span class="javascript"><span class="xml">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;a&#x27;</span>)</span></span><br><span class="javascript"><span class="xml">&#125;)</span></span><br><span class="javascript"><span class="xml">b.addEventListener(<span class="hljs-string">&#x27;click&#x27;</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;</span></span><br><span class="javascript"><span class="xml">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;b&#x27;</span>)</span></span><br><span class="javascript"><span class="xml">&#125;)</span></span><br><span class="javascript"><span class="xml">c.addEventListener(<span class="hljs-string">&#x27;click&#x27;</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;</span></span><br><span class="javascript"><span class="xml">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;c&#x27;</span>)</span></span><br><span class="javascript"><span class="xml">&#125;)</span></span><br><span class="javascript"><span class="xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></code></pre></td></tr></table></figure><blockquote><p>ç‚¹å‡»çº¢è‰²æ–¹å—(cå…ƒç´ )ï¼Œæ‰“å°é¡ºåºä¸º cba</p></blockquote><p>è¯´æ˜äº‹ä»¶å‡½æ•°çš„æ‰§è¡Œæ˜¯åœ¨å†’æ³¡é˜¶æ®µæ‰§è¡Œï¼Œç»™ addEventListener ç¬¬ä¸‰ä¸ªå‚æ•°è®¾ä¸º true æ—¶ã€‚</p><blockquote><p>ç‚¹å‡»çº¢è‰²æ–¹å—(cå…ƒç´ )ï¼Œæ‰“å°é¡ºåºä¸ºabc</p></blockquote><p>è¯´æ˜äº‹ä»¶å‡½æ•°çš„æ‰§è¡Œåœ¨æ•è·é˜¶æ®µã€‚</p><h2 id="äº‹ä»¶å§”æ‰˜"><a href="#äº‹ä»¶å§”æ‰˜" class="headerlink" title="äº‹ä»¶å§”æ‰˜"></a>äº‹ä»¶å§”æ‰˜</h2><p>é¡¾åæ€ä¹‰ï¼Œå°†å­çº§çš„äº‹ä»¶å§”æ‰˜ç»™çˆ¶çº§å®Œæˆï¼Œé€šè¿‡ e.target å®ç°</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript">a.addEventListener(<span class="hljs-string">&#x27;click&#x27;</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>&#123;<br>    <span class="hljs-keyword">let</span> e = e || event<br>    <span class="hljs-keyword">let</span> target = e.target || e.srcElement<br>    <span class="hljs-built_in">console</span>.log(target)<br>&#125;)<br></code></pre></td></tr></table></figure><blockquote><p>ç‚¹å‡»çº¢è‰²æ–¹å—(cå…ƒç´ )ï¼Œæ‰“å°ç»“æœæ˜¯ c çš„ dom å¯¹è±¡</p></blockquote><p>ä»£ç ä¸­å¹¶æœªç»™å…ƒç´ cç»‘å®šäº‹ä»¶å‡½æ•°ï¼Œè€Œæ‰“å°å‡ºäº† c çš„ dom å¯¹è±¡ï¼Œè¯´æ˜ c çš„äº‹ä»¶å§”æ‰˜ç»™äº† a </p><h2 id="å–æ¶ˆå†’æ³¡"><a href="#å–æ¶ˆå†’æ³¡" class="headerlink" title="å–æ¶ˆå†’æ³¡"></a>å–æ¶ˆå†’æ³¡</h2><p>bubblesï¼ševent çš„å†’æ³¡å±æ€§ï¼Œé»˜è®¤ä¸º trueã€‚</p><p>stopPropagationï¼šå–æ¶ˆäº‹ä»¶å†’æ³¡å’Œå§”æ‰˜å‡½æ•°çš„æ‰§è¡Œã€‚</p><p>stopImmediatePropagationï¼šå–æ¶ˆäº‹ä»¶å†’æ³¡å’Œå§”æ‰˜å‡½æ•°çš„æ‰§è¡Œï¼Œå¹¶ä¸­æ–­åŒä¸€äº‹ä»¶å‡½æ•°çš„æ‰§è¡Œï¼ˆæ¯”å¦‚åœ¨ a å…ƒç´ çš„ç¬¬ä¸€ä¸ªç‚¹å‡»äº‹ä»¶æ‰§è¡Œ e.stopImmediatePropagation() ï¼Œåˆ™ a å…ƒç´ çš„ç¬¬äºŒä¸ªç‚¹å‡»äº‹ä»¶ä¸ä¼šæ‰§è¡Œï¼‰</p><p>cancelBubble: e.cancelBubble = true å–æ¶ˆäº‹ä»¶å†’æ³¡</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs javascript">a.addEventListener(<span class="hljs-string">&#x27;click&#x27;</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>&#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;a&#x27;</span>)<br>&#125;)<br>b.addEventListener(<span class="hljs-string">&#x27;click&#x27;</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>&#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;b&#x27;</span>)<br>&#125;)<br>c.addEventListener(<span class="hljs-string">&#x27;click&#x27;</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>&#123;<br>    <span class="hljs-built_in">console</span>.log(e.bubbles)<br>    e.stopPropagation() <span class="hljs-comment">//æˆ–è€… e.cancelbubbles = true</span><br> e.stopImmediatePropagation()<br>&#125;)<br>c.addEventListener(<span class="hljs-string">&#x27;click&#x27;</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>&#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;c&#x27;</span>)<br>&#125;)<br></code></pre></td></tr></table></figure><blockquote><p>ç‚¹å‡»çº¢è‰²æ–¹å—(cå…ƒç´ )ï¼Œåªä¼šè¾“å‡º true</p></blockquote>]]></content>
    
    
    <categories>
      
      <category>å­¦ä¹ ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>JavaScript</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä½¿ç”¨Object.prototype.toStringå®ç°myTypeof</title>
    <link href="/dylan/2021/11/26/typeof/"/>
    <url>/dylan/2021/11/26/typeof/</url>
    
    <content type="html"><![CDATA[<h2 id="toString-NaN"><a href="#toString-NaN" class="headerlink" title="toString"></a>toString</h2><p>é™¤äº† nullã€undefined ä¸èƒ½ä½¿ç”¨ toString æ–¹æ³•å¤–ï¼Œå…¶ä»–æ•°æ®ç±»å‹éƒ½å¯ä»¥ä½¿ç”¨ toString æ–¹æ³•ï¼Œå®é™…ä¸Šï¼Œè¿™ä¸ª toString æ–¹æ³•æ˜¯å½“å‰å¼•ç”¨å¯¹è±¡çš„æ–¹æ³•ï¼Œå°†ä¼ å…¥ toString çš„å‚æ•°è½¬ä¸º string ç±»å‹å¹¶è¿”å›</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;123&#x27;</span>.toString())   <span class="hljs-comment">//123</span><br><span class="hljs-built_in">console</span>.log((<span class="hljs-number">123</span>).toString())   <span class="hljs-comment">//123 ä¸åŠ æ‹¬å·æŠ¥é”™ï¼ŒåŠ æ‹¬å·æ˜¯ä¸ºäº†æ±‚å€¼ï¼Ÿ</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>().toString())  <span class="hljs-comment">//å½“å‰æ—¶é—´</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>().toString())    <span class="hljs-comment">///(?:)/</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;&#125;.toString())    <span class="hljs-comment">//function()&#123;&#125;</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-literal">false</span>.toString())   <span class="hljs-comment">//false</span><br><span class="hljs-built_in">console</span>.log(&#123;<span class="hljs-number">1</span>:<span class="hljs-number">1</span>&#125;.toString())   <span class="hljs-comment">//[object Object]</span><br></code></pre></td></tr></table></figure><p>æˆ‘çš„ç†è§£ï¼šæ ¹æ®æœ€åä¸€æ¡è¾“å‡ºç»“æœåˆ¤å®šï¼ŒtoString æ–¹æ³•æ¥è‡ª Object åŸå‹</p><h2 id="Object-prototype-toString"><a href="#Object-prototype-toString" class="headerlink" title="Object.prototype.toString"></a>Object.prototype.toString</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">Object</span>.prototype.toString.call(<span class="hljs-string">&#x27;123&#x27;</span>))   <span class="hljs-comment">//[object String]</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">Object</span>.prototype.toString.call(<span class="hljs-number">123</span>))    <span class="hljs-comment">//[object Number]</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">Object</span>.prototype.toString.call(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;&#125;))   <span class="hljs-comment">//[object Function]</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">Object</span>.prototype.toString.call(<span class="hljs-literal">false</span>))  <span class="hljs-comment">//[object Boolean]</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">Object</span>.prototype.toString.call(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>())) <span class="hljs-comment">//[object Date]</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">Object</span>.prototype.toString.call(<span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>)) <span class="hljs-comment">//[object RegExp]</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">Object</span>.prototype.toString.call(&#123;&#125;)) <span class="hljs-comment">//[object Object]</span><br></code></pre></td></tr></table></figure><p>å¯ä»¥åˆ©ç”¨ Object.prototype.toString å†™ä¸€ä¸ª myTypeof</p><h2 id="æ‰©å±•typeof"><a href="#æ‰©å±•typeof" class="headerlink" title="æ‰©å±•typeof"></a>æ‰©å±•typeof</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">myTypeof</span>(<span class="hljs-params">val</span>)</span>&#123;<br>    <span class="hljs-keyword">let</span> res = <span class="hljs-keyword">typeof</span> val<br>    <span class="hljs-keyword">let</span> temp = &#123;<br>        <span class="hljs-string">&quot;[object Function]&quot;</span>:<span class="hljs-string">&quot;Function&quot;</span>,<br>        <span class="hljs-string">&quot;[object Date]&quot;</span>:<span class="hljs-string">&quot;Date&quot;</span>,<br>        <span class="hljs-string">&quot;[object RegExp]&quot;</span>:<span class="hljs-string">&quot;RegExp&quot;</span>,<br>        <span class="hljs-string">&quot;[object Array]&quot;</span>:<span class="hljs-string">&quot;Array&quot;</span>,<br>        <span class="hljs-string">&quot;[object Object]&quot;</span>:<span class="hljs-string">&quot;Object&quot;</span><br>        <span class="hljs-comment">//...</span><br>    &#125;<br>    <span class="hljs-keyword">if</span>(val===<span class="hljs-literal">null</span>)&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;null&quot;</span><br>    &#125;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(val===<span class="hljs-literal">undefined</span>)&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;undefined&quot;</span><br>    &#125;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(res === <span class="hljs-string">&quot;object&quot;</span>)&#123;<br>        <span class="hljs-keyword">let</span> str = <span class="hljs-built_in">Object</span>.prototype.toString.call(val)<br>        <span class="hljs-keyword">return</span> (temp[str])<br>    &#125;<span class="hljs-keyword">else</span>&#123;<br>        <span class="hljs-keyword">return</span> res<br>    &#125;<br>&#125;<br><span class="hljs-built_in">console</span>.log(myTypeof(<span class="hljs-literal">undefined</span>))    <span class="hljs-comment">//undefined</span><br><span class="hljs-built_in">console</span>.log(myTypeof(<span class="hljs-literal">null</span>)) <span class="hljs-comment">//null</span><br><span class="hljs-built_in">console</span>.log(myTypeof(<span class="hljs-number">123</span>))  <span class="hljs-comment">//number</span><br><span class="hljs-built_in">console</span>.log(myTypeof(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>()))   <span class="hljs-comment">//Date</span><br><span class="hljs-built_in">console</span>.log(myTypeof([<span class="hljs-number">1</span>,<span class="hljs-number">2</span>]))    <span class="hljs-comment">//Array</span><br><span class="hljs-built_in">console</span>.log(myTypeof(&#123;<span class="hljs-number">1</span>:<span class="hljs-number">2</span>&#125;))    <span class="hljs-comment">//Object</span><br></code></pre></td></tr></table></figure><p>ç±»å‹æ²¡å†™å®Œï¼Œæ€è·¯å°±è¿™æ ·ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>å­¦ä¹ ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>JavaScript</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æµ…æ‹·è´ä¸æ·±æ‹·è´</title>
    <link href="/dylan/2021/11/23/clone/"/>
    <url>/dylan/2021/11/23/clone/</url>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>å¯¹è±¡åœ¨å†…å­˜ä¸­çš„å­˜å‚¨æ–¹å¼ä¸åŸºæœ¬ç±»å‹ä¸ä¸€æ ·ï¼Œå‚¨å­˜å¯¹è±¡å†…å­˜ä¼šå•ç‹¬å¼€è¾Ÿå‡ºä¸€ä¸ªå †ï¼Œå¯¹è±¡åæŒ‡å‘è¿™ä¸ªå †çš„åœ°å€ï¼Œåˆ°è¾¾ä¸€ç§å¼•ç”¨çš„æ•ˆæœï¼Œè€Œä¼ ç»Ÿçš„<code>a = b</code> å¦‚æœæ˜¯å¯¹è±¡çš„è¯ï¼Œåªä¼šæ‹·è´å¯¹è±¡çš„åœ°å€ï¼Œa å’Œ b æŒ‡å‘çš„æ˜¯åŒä¸€ä¸ªåœ°å€ï¼Œä»è€Œæ”¹å˜å¯¹è±¡ a çš„å€¼ï¼Œb çš„å€¼ä¹Ÿä¼šå‘ç”Ÿæ”¹å˜ï¼Œèµ·ä¸äº†æ‹·è´ä½œç”¨ã€‚</p><h2 id="æµ…æ‹·è´ï¼ˆå¯¹è±¡åªæœ‰ä¸€å±‚ï¼‰"><a href="#æµ…æ‹·è´ï¼ˆå¯¹è±¡åªæœ‰ä¸€å±‚ï¼‰" class="headerlink" title="æµ…æ‹·è´ï¼ˆå¯¹è±¡åªæœ‰ä¸€å±‚ï¼‰"></a>æµ…æ‹·è´ï¼ˆå¯¹è±¡åªæœ‰ä¸€å±‚ï¼‰</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> obj = &#123;<br>       <span class="hljs-attr">a</span>:<span class="hljs-number">1</span>,<br>       <span class="hljs-attr">b</span>:<span class="hljs-number">2</span><br>   &#125;<br>   <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">simpleClone</span>(<span class="hljs-params">obj</span>)</span>&#123;<br>       <span class="hljs-keyword">let</span> cloneObj = &#123;&#125;<br>       <span class="hljs-comment">//es3</span><br>       <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i <span class="hljs-keyword">in</span> obj)&#123;<br>           cloneObj[i] = obj[i]<br>       &#125;<br>       <span class="hljs-comment">//es6</span><br>       <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> [key,value] <span class="hljs-keyword">of</span> <span class="hljs-built_in">Object</span>.entries(obj))&#123;<br>           cloneObj[key] = value<br>       &#125;<br>       <span class="hljs-comment">//es5</span><br>       <span class="hljs-built_in">Object</span>.getOwnPropertyNames(obj).forEach(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">key</span>)</span>&#123;<br>           <span class="hljs-comment">// cloneObj[key] = obj[key]</span><br>           <span class="hljs-keyword">var</span> des = <span class="hljs-built_in">Object</span>.getOwnPropertyDescriptor(obj,key) <span class="hljs-comment">//å±æ€§æè¿°ç¬¦</span><br>           <span class="hljs-built_in">Object</span>.defineProperty(cloneObj,key,des) <span class="hljs-comment">//å®šä¹‰å¯¹è±¡å±æ€§</span><br>       &#125;)<br>       <span class="hljs-keyword">return</span> cloneObj<br>   &#125;<br>   <span class="hljs-keyword">let</span> newObj = simpleClone(obj)<br>   obj.a = <span class="hljs-number">3</span><br>   <span class="hljs-built_in">console</span>.log(newObj)<span class="hljs-comment">//ç»“æœä¸º&#123;a:1,b:2&#125;</span><br></code></pre></td></tr></table></figure><h2 id="æ·±æ‹·è´ï¼ˆå¯¹è±¡æœ‰å¤šå±‚ï¼‰"><a href="#æ·±æ‹·è´ï¼ˆå¯¹è±¡æœ‰å¤šå±‚ï¼‰" class="headerlink" title="æ·±æ‹·è´ï¼ˆå¯¹è±¡æœ‰å¤šå±‚ï¼‰"></a>æ·±æ‹·è´ï¼ˆå¯¹è±¡æœ‰å¤šå±‚ï¼‰</h2><p>ç®€æ˜“ç‰ˆï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> obj = &#123;<br>    <span class="hljs-attr">a</span>:<span class="hljs-number">1</span>,<br>    <span class="hljs-attr">b</span>:&#123;<br>        <span class="hljs-attr">c</span>:<span class="hljs-number">3</span>,<br>        <span class="hljs-attr">d</span>:&#123;<br>            <span class="hljs-attr">e</span>:<span class="hljs-number">4</span><br>        &#125;,<br>    &#125;,<br>    <span class="hljs-attr">f</span>:<span class="hljs-number">8</span><br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">deepClone</span>(<span class="hljs-params">obj</span>)</span>&#123;<br>    <span class="hljs-keyword">let</span> cloneObj = &#123;&#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i <span class="hljs-keyword">in</span> obj)&#123;<br>        <span class="hljs-keyword">if</span>(<span class="hljs-keyword">typeof</span> obj[i] === <span class="hljs-string">&#x27;object&#x27;</span> &amp;&amp; obj[i]!==<span class="hljs-literal">null</span>)&#123;<br>            cloneObj[i] = deepClone(obj[i])<br>        &#125;<span class="hljs-keyword">else</span>&#123;<br>            cloneObj[i] = obj[i]<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> cloneObj<br>&#125;<br><span class="hljs-keyword">let</span> newObj = deepClone(obj)<br>obj.b.c = <span class="hljs-number">7</span><br><span class="hljs-built_in">console</span>.log(newObj)<br></code></pre></td></tr></table></figure><p>å®Œæ•´ç‰ˆï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> obj = &#123;<br>        <span class="hljs-attr">a</span>: <span class="hljs-literal">undefined</span>,<br>        <span class="hljs-attr">b</span>: &#123;<br>            <span class="hljs-attr">c</span>: <span class="hljs-literal">null</span>,<br>            <span class="hljs-attr">d</span>: &#123;<br>                <span class="hljs-attr">e</span>: [<span class="hljs-number">1</span>, <span class="hljs-string">&#x27;2&#x27;</span>, <span class="hljs-built_in">Symbol</span>(<span class="hljs-number">3</span>)]<br>            &#125;,<br>        &#125;,<br>        <span class="hljs-attr">f</span>: <span class="hljs-number">4</span><br>    &#125;<br>    <span class="hljs-keyword">const</span> getType = <span class="hljs-function"><span class="hljs-params">obj</span> =&gt;</span> <span class="hljs-built_in">Object</span>.prototype.toString.call(obj);<br><br>    <span class="hljs-keyword">const</span> isObject = <span class="hljs-function">(<span class="hljs-params">target</span>) =&gt;</span> (<span class="hljs-keyword">typeof</span> target === <span class="hljs-string">&#x27;object&#x27;</span> || <span class="hljs-keyword">typeof</span> target === <span class="hljs-string">&#x27;function&#x27;</span>) &amp;&amp; target !== <span class="hljs-literal">null</span>;<br><br>    <span class="hljs-keyword">const</span> canTraverse = &#123;<br>        <span class="hljs-string">&#x27;[object Map]&#x27;</span>: <span class="hljs-literal">true</span>,<br>        <span class="hljs-string">&#x27;[object Set]&#x27;</span>: <span class="hljs-literal">true</span>,<br>        <span class="hljs-string">&#x27;[object Array]&#x27;</span>: <span class="hljs-literal">true</span>,<br>        <span class="hljs-string">&#x27;[object Object]&#x27;</span>: <span class="hljs-literal">true</span>,<br>        <span class="hljs-string">&#x27;[object Arguments]&#x27;</span>: <span class="hljs-literal">true</span>,<br>    &#125;;<br>    <span class="hljs-keyword">const</span> mapTag = <span class="hljs-string">&#x27;[object Map]&#x27;</span>;<br>    <span class="hljs-keyword">const</span> setTag = <span class="hljs-string">&#x27;[object Set]&#x27;</span>;<br>    <span class="hljs-keyword">const</span> boolTag = <span class="hljs-string">&#x27;[object Boolean]&#x27;</span>;<br>    <span class="hljs-keyword">const</span> numberTag = <span class="hljs-string">&#x27;[object Number]&#x27;</span>;<br>    <span class="hljs-keyword">const</span> stringTag = <span class="hljs-string">&#x27;[object String]&#x27;</span>;<br>    <span class="hljs-keyword">const</span> symbolTag = <span class="hljs-string">&#x27;[object Symbol]&#x27;</span>;<br>    <span class="hljs-keyword">const</span> dateTag = <span class="hljs-string">&#x27;[object Date]&#x27;</span>;<br>    <span class="hljs-keyword">const</span> errorTag = <span class="hljs-string">&#x27;[object Error]&#x27;</span>;<br>    <span class="hljs-keyword">const</span> regexpTag = <span class="hljs-string">&#x27;[object RegExp]&#x27;</span>;<br>    <span class="hljs-keyword">const</span> funcTag = <span class="hljs-string">&#x27;[object Function]&#x27;</span>;<br><br>    <span class="hljs-keyword">const</span> handleRegExp = <span class="hljs-function">(<span class="hljs-params">target</span>) =&gt;</span> &#123;<br>        <span class="hljs-keyword">const</span> &#123; source, flags &#125; = target;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> target.constructor(source, flags);<br>    &#125;<br><br>    <span class="hljs-keyword">const</span> handleFunc = <span class="hljs-function">(<span class="hljs-params">func</span>) =&gt;</span> &#123;<br>        <span class="hljs-comment">// ç®­å¤´å‡½æ•°ç›´æ¥è¿”å›è‡ªèº«</span><br>        <span class="hljs-keyword">if</span> (!func.prototype) <span class="hljs-keyword">return</span> func;<br>        <span class="hljs-keyword">const</span> bodyReg = <span class="hljs-regexp">/(?&lt;=&#123;)(.|\n)+(?=&#125;)/m</span>;<br>        <span class="hljs-keyword">const</span> paramReg = <span class="hljs-regexp">/(?&lt;=\().+(?=\)\s+&#123;)/</span>;<br>        <span class="hljs-keyword">const</span> funcString = func.toString();<br>        <span class="hljs-comment">// åˆ†åˆ«åŒ¹é… å‡½æ•°å‚æ•° å’Œ å‡½æ•°ä½“</span><br>        <span class="hljs-keyword">const</span> param = paramReg.exec(funcString);<br>        <span class="hljs-keyword">const</span> body = bodyReg.exec(funcString);<br>        <span class="hljs-keyword">if</span> (!body) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<br>        <span class="hljs-keyword">if</span> (param) &#123;<br>            <span class="hljs-keyword">const</span> paramArr = param[<span class="hljs-number">0</span>].split(<span class="hljs-string">&#x27;,&#x27;</span>);<br>            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Function</span>(...paramArr, body[<span class="hljs-number">0</span>]);<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Function</span>(body[<span class="hljs-number">0</span>]);<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">const</span> handleNotTraverse = <span class="hljs-function">(<span class="hljs-params">target, tag</span>) =&gt;</span> &#123;<br>        <span class="hljs-keyword">const</span> Ctor = target.constructor;<br>        <span class="hljs-keyword">switch</span> (tag) &#123;<br>            <span class="hljs-keyword">case</span> boolTag:<br>                <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Object</span>(<span class="hljs-built_in">Boolean</span>.prototype.valueOf.call(target));<br>            <span class="hljs-keyword">case</span> numberTag:<br>                <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Object</span>(<span class="hljs-built_in">Number</span>.prototype.valueOf.call(target));<br>            <span class="hljs-keyword">case</span> stringTag:<br>                <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Object</span>(<span class="hljs-built_in">String</span>.prototype.valueOf.call(target));<br>            <span class="hljs-keyword">case</span> symbolTag:<br>                <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Object</span>(<span class="hljs-built_in">Symbol</span>.prototype.valueOf.call(target));<br>            <span class="hljs-keyword">case</span> errorTag:<br>            <span class="hljs-keyword">case</span> dateTag:<br>                <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Ctor(target);<br>            <span class="hljs-keyword">case</span> regexpTag:<br>                <span class="hljs-keyword">return</span> handleRegExp(target);<br>            <span class="hljs-keyword">case</span> funcTag:<br>                <span class="hljs-keyword">return</span> handleFunc(target);<br>            <span class="hljs-keyword">default</span>:<br>                <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Ctor(target);<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">const</span> deepClone = <span class="hljs-function">(<span class="hljs-params">target, map = <span class="hljs-keyword">new</span> <span class="hljs-built_in">WeakMap</span>()</span>) =&gt;</span> &#123;<br>        <span class="hljs-keyword">if</span> (!isObject(target))<br>            <span class="hljs-keyword">return</span> target;<br>        <span class="hljs-keyword">let</span> type = getType(target);<br>        <span class="hljs-keyword">let</span> cloneTarget;<br>        <span class="hljs-keyword">if</span> (!canTraverse[type]) &#123;<br>            <span class="hljs-comment">// å¤„ç†ä¸èƒ½éå†çš„å¯¹è±¡</span><br>            <span class="hljs-keyword">return</span> handleNotTraverse(target, type);<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-comment">// è¿™æ³¢æ“ä½œç›¸å½“å…³é”®ï¼Œå¯ä»¥ä¿è¯å¯¹è±¡çš„åŸå‹ä¸ä¸¢å¤±ï¼</span><br>            <span class="hljs-keyword">let</span> ctor = target.constructor;<br>            cloneTarget = <span class="hljs-keyword">new</span> ctor();<br>        &#125;<br><br>        <span class="hljs-keyword">if</span> (map.get(target))<br>            <span class="hljs-keyword">return</span> target;<br>        map.set(target, <span class="hljs-literal">true</span>);<br><br>        <span class="hljs-keyword">if</span> (type === mapTag) &#123;<br>            <span class="hljs-comment">//å¤„ç†Map</span><br>            target.forEach(<span class="hljs-function">(<span class="hljs-params">item, key</span>) =&gt;</span> &#123;<br>                cloneTarget.set(deepClone(key, map), deepClone(item, map));<br>            &#125;)<br>        &#125;<br><br>        <span class="hljs-keyword">if</span> (type === setTag) &#123;<br>            <span class="hljs-comment">//å¤„ç†Set</span><br>            target.forEach(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> &#123;<br>                cloneTarget.add(deepClone(item, map));<br>            &#125;)<br>        &#125;<br><br>        <span class="hljs-comment">// å¤„ç†æ•°ç»„å’Œå¯¹è±¡</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> prop <span class="hljs-keyword">in</span> target) &#123;<br>            <span class="hljs-keyword">if</span> (target.hasOwnProperty(prop)) &#123;<br>                cloneTarget[prop] = deepClone(target[prop], map);<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> cloneTarget;<br>    &#125;<br>    <span class="hljs-keyword">let</span> newObj = deepClone(obj)<br>    <span class="hljs-built_in">console</span>.log(newObj)<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>é¢è¯•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>JavaScript</tag>
      
      <tag>ES6</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>é—­åŒ…ï¼ˆäºŒï¼‰</title>
    <link href="/dylan/2021/11/22/closure2/"/>
    <url>/dylan/2021/11/22/closure2/</url>
    
    <content type="html"><![CDATA[<h2 id="é˜²æŠ–"><a href="#é˜²æŠ–" class="headerlink" title="é˜²æŠ–"></a>é˜²æŠ–</h2><p>å®šä¹‰ï¼šåœ¨ä¸€å®šæ—¶é—´é—´éš”å†…ï¼Œå°†å¤šæ¬¡è§¦å‘å˜ä¸ºä¸€æ¬¡è§¦å‘ï¼Œç±»ä¼¼æŠ€èƒ½æ‰“æ–­æ–½æ³•é‡æ–°è¯»æ¡ğŸ¤­</p><p>ä¾‹å­ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;ipt&quot;</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> ipt = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&#x27;ipt&#x27;</span>)<br>ipt.addEventListener(<span class="hljs-string">&#x27;input&#x27;</span>,debounce(<span class="hljs-function">()=&gt;</span>&#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-number">1</span>)<br>&#125;,<span class="hljs-number">2000</span>))<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">debounce</span>(<span class="hljs-params">fn,delay</span>)</span>&#123;<br>    <span class="hljs-keyword">let</span> timer = <span class="hljs-literal">null</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;<br>        <span class="hljs-keyword">if</span>(timer)&#123;<br>            <span class="hljs-built_in">clearTimeout</span>(timer)<br>        &#125;<br>        timer = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">()=&gt;</span>&#123;<br>            fn()<br>        &#125;,delay)<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="èŠ‚æµ"><a href="#èŠ‚æµ" class="headerlink" title="èŠ‚æµ"></a>èŠ‚æµ</h2><p>å®šä¹‰ï¼šä¸€æ®µæ—¶é—´é—´éš”å†…åªæ‰§è¡Œä¸€æ¬¡ï¼Œç±»ä¼¼æŠ€èƒ½å†·å´ğŸ¤­</p><p>ä¾‹å­ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> ipt = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&#x27;ipt&#x27;</span>)<br>ipt.addEventListener(<span class="hljs-string">&#x27;input&#x27;</span>, throttle(<span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-number">1</span>)<br>&#125;, <span class="hljs-number">2000</span>))<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">throttle</span>(<span class="hljs-params">fn, delay</span>) </span>&#123;<br>    <span class="hljs-keyword">let</span> timer = <span class="hljs-literal">null</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>        <span class="hljs-keyword">if</span> (timer) &#123;<br>            <span class="hljs-keyword">return</span><br>        &#125;<br>        timer = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>            fn()<br>            timer = <span class="hljs-literal">null</span><br>        &#125;, delay)<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="ä½¿ç”¨åœºæ™¯"><a href="#ä½¿ç”¨åœºæ™¯" class="headerlink" title="ä½¿ç”¨åœºæ™¯"></a>ä½¿ç”¨åœºæ™¯</h2><ol><li>é˜²æŠ–(debounce)<br>ï¼ˆ1ï¼‰searchæœç´¢è”æƒ³ï¼Œç”¨æˆ·åœ¨ä¸æ–­è¾“å…¥å€¼æ—¶ï¼Œç”¨é˜²æŠ–æ¥èŠ‚çº¦è¯·æ±‚èµ„æºã€‚<br>ï¼ˆ2ï¼‰windowè§¦å‘resizeçš„æ—¶å€™ï¼Œä¸æ–­çš„è°ƒæ•´æµè§ˆå™¨çª—å£å¤§å°ä¼šä¸æ–­çš„è§¦å‘è¿™ä¸ªäº‹ä»¶ï¼Œç”¨é˜²æŠ–æ¥è®©å…¶åªè§¦å‘ä¸€æ¬¡ã€‚</li><li>èŠ‚æµ(throttle)<br>ï¼ˆ1ï¼‰é¼ æ ‡ä¸æ–­ç‚¹å‡»è§¦å‘ï¼Œmousedown(å•ä½æ—¶é—´å†…åªè§¦å‘ä¸€æ¬¡)ã€‚<br>ï¼ˆ2ï¼‰ç›‘å¬æ»šåŠ¨äº‹ä»¶ï¼Œæ¯”å¦‚æ˜¯å¦æ»‘åˆ°åº•éƒ¨è‡ªåŠ¨åŠ è½½æ›´å¤šï¼Œç”¨throttleæ¥åˆ¤æ–­ã€‚</li></ol>]]></content>
    
    
    <categories>
      
      <category>é¢è¯•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>JavaScript</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>é—­åŒ…ï¼ˆä¸€ï¼‰</title>
    <link href="/dylan/2021/11/21/closure1/"/>
    <url>/dylan/2021/11/21/closure1/</url>
    
    <content type="html"><![CDATA[<h2 id="é—­åŒ…æ˜¯ä»€ä¹ˆ"><a href="#é—­åŒ…æ˜¯ä»€ä¹ˆ" class="headerlink" title="é—­åŒ…æ˜¯ä»€ä¹ˆ"></a>é—­åŒ…æ˜¯ä»€ä¹ˆ</h2><p>çŠ€ç‰›ä¹¦ï¼šå‡½æ•°å¯¹è±¡å¯ä»¥é€šè¿‡ä½œç”¨åŸŸé“¾ç›¸äº’å…³è”èµ·æ¥ï¼Œå‡½æ•°ä½“å†…éƒ¨çš„å˜é‡å¯ä»¥ä¿å­˜åœ¨å‡½æ•°ä½œç”¨åŸŸå†…ï¼Œè¿™ç§ç‰¹æ€§åœ¨è®¡ç®—æœºç§‘å­¦æ–‡çŒ®ä¸­ç§°ä¸ºâ€œé—­åŒ…â€ã€‚</p><p>çº¢å®ä¹¦ï¼šé—­åŒ…æ˜¯æŒ‡æœ‰æƒè®¿é—®å¦ä¸€ä¸ªå‡½æ•°ä½œç”¨åŸŸä¸­çš„å˜é‡çš„å‡½æ•°ã€‚</p><p>ä½ ä¸çŸ¥é“çš„ JavaScriptï¼šå½“å‡½æ•°å¯ä»¥è®°ä½å¹¶è®¿é—®æ‰€åœ¨çš„è¯æ³•ä½œç”¨åŸŸæ—¶ï¼Œå°±äº§ç”Ÿäº†é—­åŒ…ï¼Œå³ä½¿å‡½æ•°æ˜¯åœ¨å½“å‰è¯æ³•ä½œç”¨åŸŸä¹‹å¤–æ‰§è¡Œã€‚</p><p>MDNï¼šä¸€ä¸ªå‡½æ•°å’Œå¯¹å…¶å‘¨å›´çŠ¶æ€ï¼ˆè¯æ³•ç¯å¢ƒï¼‰çš„å¼•ç”¨æ†ç»‘åœ¨ä¸€èµ·ï¼ˆæˆ–è€…è¯´å‡½æ•°è¢«å¼•ç”¨åŒ…å›´ï¼‰ï¼Œè¿™æ ·çš„ç»„åˆå°±æ˜¯é—­åŒ…ã€‚</p><p>ä¸ªäººç†è§£ï¼šå‡½æ•°çš„æ‰§è¡Œï¼Œå¯¼è‡´å‡½æ•°è¢«å®šä¹‰ï¼Œå¹¶æŠ›å‡ºå‡½æ•°ï¼ˆæ¯æœ¬ä¹¦ç†è§£ä¸ä¸€è‡´ï¼‰ã€‚</p><h2 id="é—­åŒ…çš„å¸¸è§å½¢å¼"><a href="#é—­åŒ…çš„å¸¸è§å½¢å¼" class="headerlink" title="é—­åŒ…çš„å¸¸è§å½¢å¼"></a>é—­åŒ…çš„å¸¸è§å½¢å¼</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">closure1</span>(<span class="hljs-params"></span>)</span>&#123;<br>       <span class="hljs-keyword">var</span> n = <span class="hljs-number">0</span><br>       <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;<span class="hljs-built_in">console</span>.log(n)&#125;<br>   &#125;<br>   closure1()()  <span class="hljs-comment">//0</span><br><br>   <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">closure2</span>(<span class="hljs-params"></span>)</span>&#123;<br>       <span class="hljs-keyword">var</span> n = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;<span class="hljs-built_in">console</span>.log(<span class="hljs-number">0</span>)&#125;<br>       <span class="hljs-keyword">return</span> n<br>   &#125;<br>   closure2()()  <span class="hljs-comment">//0</span><br><br>   <span class="hljs-keyword">var</span> a<br>   <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">closure3</span>(<span class="hljs-params"></span>)</span>&#123;<br>       <span class="hljs-keyword">var</span> b = <span class="hljs-number">0</span><br>       a = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;<br>           <span class="hljs-built_in">console</span>.log(b)<br>       &#125;<br>   &#125;<br>   closure3()  <span class="hljs-comment">//0</span><br>   a()<br><br>   <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">closure4</span>(<span class="hljs-params"></span>)</span>&#123;<br>       <span class="hljs-keyword">var</span> b = <span class="hljs-number">0</span><br>       <span class="hljs-keyword">var</span> n = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;<br>           <span class="hljs-keyword">return</span> b<br>       &#125;<br>       a(n)<br>   &#125;<br>   closure4()  <span class="hljs-comment">//0</span><br><br>   <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">closure5</span>(<span class="hljs-params"></span>) </span>&#123;<br>       <span class="hljs-keyword">var</span> arr = []<br>       <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) &#123;<br>           arr[i] = (<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">j</span>) </span>&#123;<br>               <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>                   <span class="hljs-built_in">console</span>.log(j)<br>               &#125;<br>           &#125;)(i)<br>       &#125;<br>       <span class="hljs-keyword">return</span> arr<br>   &#125;<br>   <span class="hljs-keyword">var</span> doClosure5 = closure5()<br>   <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> j = <span class="hljs-number">0</span>; j &lt; <span class="hljs-number">10</span>; j++) &#123;<br>       doClosure5[j]() <br>   &#125;<span class="hljs-comment">//0,1,2,3,4,5,6,7,8,9</span><br><br>   <span class="hljs-keyword">var</span> doClosure6 = (<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;<br>       <span class="hljs-keyword">var</span> count = <span class="hljs-number">0</span><br>       <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;<br>           <span class="hljs-keyword">return</span> ++count<br>       &#125;<br>   &#125;)()<br>   <span class="hljs-built_in">console</span>.log(doClosure6())  <span class="hljs-comment">//1</span><br>   <span class="hljs-built_in">console</span>.log(doClosure6())  <span class="hljs-comment">//2</span><br>   <span class="hljs-built_in">console</span>.log(doClosure6())  <span class="hljs-comment">//3</span><br></code></pre></td></tr></table></figure><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>é—­åŒ…ä¼šäº§ç”Ÿå†…å­˜æ³„æ¼ï¼Œä½¿ç”¨é—­åŒ…äº§ç”Ÿçš„å˜é‡ä¼šä¸€ç›´å­˜åœ¨å†…å­˜å½“ä¸­ï¼Œä¸ä¼šè¢«åƒåœ¾å›æ”¶æœºåˆ¶å›æ”¶ï¼Œä¸åº”å½“å¤§é‡ä½¿ç”¨é—­åŒ…ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>é¢è¯•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>JavaScript</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å›¾ç‰‡æ‡’åŠ è½½</title>
    <link href="/dylan/2021/11/20/lazyImg/"/>
    <url>/dylan/2021/11/20/lazyImg/</url>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><ol><li>offsetTop<br>å…ƒç´ åˆ°é¡¶éƒ¨åˆ° offsetParent é¡¶éƒ¨çš„è·ç¦»</li><li>offsetParent<br>è·ç¦»å…ƒç´ æœ€è¿‘çš„ä¸€ä¸ªå…·æœ‰å®šä½çš„çˆ¶çº§å…ƒç´ ï¼Œè‹¥çˆ¶çº§å…ƒç´ éƒ½ä¸ç¬¦åˆæ¡ä»¶ï¼Œåˆ™ offsetParent ä¸º body</li><li>clientHeight<br>å…ƒç´ å®½é«˜ï¼ˆheight+paddingï¼‰</li><li>scrollTop<br>Yè½´çš„æ»šåŠ¨æ¡</li></ol><p>å¯ä»¥å¾—å‡ºå½“ scrollTop + clientHeight &gt; offsetTopï¼ˆè·ç¦»bodyé¡¶éƒ¨ï¼‰æ—¶ï¼Œè§†å½“å‰å…ƒç´ åœ¨å¯è§†åŒºåŸŸï¼Œè€Œæ­¤æ—¶å†ä¸º img çš„ src å±æ€§èµ‹å€¼ï¼Œè¯·æ±‚æ‰ä¼šå‘å‡ºï¼Œä»è€Œè¾¾åˆ°å›¾ç‰‡æ‡’åŠ è½½çš„æ•ˆæœã€‚</p><h2 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h2><p>html:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;img&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">data-src</span>=<span class="hljs-string">&quot;./img/1.png&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">data-src</span>=<span class="hljs-string">&quot;./img/2.png&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">data-src</span>=<span class="hljs-string">&quot;./img/3.png&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">data-src</span>=<span class="hljs-string">&quot;./img/4.png&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">data-src</span>=<span class="hljs-string">&quot;./img/5.png&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">data-src</span>=<span class="hljs-string">&quot;./img/6.png&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">data-src</span>=<span class="hljs-string">&quot;./img/7.png&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">data-src</span>=<span class="hljs-string">&quot;./img/8.png&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">data-src</span>=<span class="hljs-string">&quot;./img/9.png&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure><p>css:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.img</span> <span class="hljs-selector-tag">img</span> &#123;<br>        <span class="hljs-attribute">width</span>: <span class="hljs-number">500px</span>;<br>        <span class="hljs-attribute">height</span>: <span class="hljs-number">600px</span>;<br>        <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#eeeeee</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>js:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> imgs = <span class="hljs-built_in">document</span>.querySelectorAll(<span class="hljs-string">&#x27;img&#x27;</span>)<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getTop</span>(<span class="hljs-params">e</span>) </span>&#123;<br>     <span class="hljs-keyword">var</span> H = e.offsetTop<br>           <span class="hljs-keyword">while</span> (e = e.offsetParent) &#123;<br>                H += e.offsetTop<br>           &#125;<br>           <span class="hljs-keyword">return</span> H<br>      &#125;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">lazyImg</span>(<span class="hljs-params"></span>) </span>&#123;<br>      <span class="hljs-keyword">var</span> H = <span class="hljs-built_in">document</span>.documentElement.clientHeight <br>      <span class="hljs-keyword">var</span> S = <span class="hljs-built_in">document</span>.documentElement.scrollTop || <span class="hljs-built_in">document</span>.body.scrollTop<br>      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; imgs.length; i++) &#123;<br>           <span class="hljs-keyword">if</span> (H + S &gt; getTop(imgs[i])&amp;&amp;!imgs[i].src) &#123;<br>                 imgs[i].src = imgs[i].getAttribute(<span class="hljs-string">&#x27;data-src&#x27;</span>)<br>           &#125;<br>      &#125;<br>&#125;<br>        <br><span class="hljs-built_in">window</span>.onload = <span class="hljs-built_in">window</span>.onscroll = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>      lazyImg(imgs)<br>&#125;<br></code></pre></td></tr></table></figure><p>ä»£ç æ¯”è¾ƒç®€å•ï¼Œå¯ä»¥ä¼˜åŒ–ï¼Œæ¯”å¦‚ onload æ—¶è®¾ç½® scrollTop ä¸º 0ï¼Œç»™ lazyImg æ·»åŠ é˜²æŠ–å‡½æ•°ï¼Œä½†å…¶æ ¸å¿ƒæ€æƒ³åœ¨äºåªæœ‰å›¾ç‰‡å…ƒç´ è¿›å…¥è§†å£æ—¶æ‰è¿›è¡ŒåŠ è½½ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>é¢è¯•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>JavaScript</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>è¶…çº§å¥½çœ‹çš„ css æ ·å¼</title>
    <link href="/dylan/2021/11/18/button/"/>
    <url>/dylan/2021/11/18/button/</url>
    
    <content type="html"><![CDATA[<h2 id="å€’å½±æ•ˆæœ"><a href="#å€’å½±æ•ˆæœ" class="headerlink" title="å€’å½±æ•ˆæœ"></a>å€’å½±æ•ˆæœ</h2><p><img src="/dylan/imgs/button/1.gif"></p><p>HTML:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;div <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">&quot;btn_family btn_family1&quot;</span>&gt;<br>        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;btn btn1&quot;</span>&gt;</span>æŒ‰é’®1<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;btn btn2&quot;</span>&gt;</span>æŒ‰é’®2<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;btn btn3&quot;</span>&gt;</span>æŒ‰é’®3<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;btn btn4&quot;</span>&gt;</span>æŒ‰é’®4<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;btn btn5&quot;</span>&gt;</span>æŒ‰é’®5<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/div&gt;<br></code></pre></td></tr></table></figure><p>CSS:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br></pre></td><td class="code"><pre><code class="hljs javascript">body &#123;<br>       background-color: black;<br>   &#125;<br><br>   .btn_family &#123;<br>       <span class="hljs-attr">display</span>: flex;<br>       justify-content: space-between;<br>       padding: 50px;<br>   &#125;<br><br>   .btn &#123;<br>       line-height: 100px;<br>       text-align: center;<br>       color: white;<br>       width: 200px;<br>       height: 100px;<br>       border-radius: 10px;<br>       background-color: black;<br>       -webkit-box-reflect: below 16px -webkit-linear-gradient(transparent, transparent <span class="hljs-number">30</span>%, rgba(<span class="hljs-number">255</span>, <span class="hljs-number">255</span>, <span class="hljs-number">255</span>, <span class="hljs-number">0.6</span>));<br>   &#125;<br>   .btn1&#123;<br>       <span class="hljs-attr">color</span>: #d71345;<br>   &#125;<br>   .btn2&#123;<br>       <span class="hljs-attr">color</span>: #f36c21;<br>   &#125;<br>   .btn3&#123;<br>       <span class="hljs-attr">color</span>: #ffd400;<br>   &#125;<br>   .btn4&#123;<br>       <span class="hljs-attr">color</span>: #65c294;<br>   &#125;<br>   .btn5&#123;<br>       <span class="hljs-attr">color</span>: #33a3dc;<br>   &#125;<br>   .btn:hover&#123;<br>       <span class="hljs-attr">color</span>: white;<br>   &#125;<br>   .btn1:hover &#123;<br>       background-color: #d71345;<br>       box-shadow: 0px 0px 10px 3px #d71345;<br>   &#125;<br><br>   .btn2:hover &#123;<br>       background-color: #f36c21;<br>       box-shadow: 0px 0px 10px 3px #f36c21;<br>   &#125;<br><br>   .btn3:hover &#123;<br>       background-color: #ffd400;<br>       box-shadow: 0px 0px 10px 3px #ffd400;<br>   &#125;<br><br>   .btn4:hover &#123;<br>       background-color: #65c294;<br>       box-shadow: 0px 0px 10px 3px #65c294;<br>   &#125;<br><br>   .btn5:hover &#123;<br>       background-color: #33a3dc;<br>       box-shadow: 0px 0px 10px 3px #33a3dc;<br>   &#125;<br><br>   div &#123;<br>       <span class="hljs-attr">position</span>: relative;<br>   &#125;<br><br>   .btn1::before &#123;<br>       <span class="hljs-attr">content</span>: <span class="hljs-string">&quot;&quot;</span>;<br>       position: absolute;<br>       top: <span class="hljs-number">0</span>;<br>       left: <span class="hljs-number">0</span>;<br>       right: <span class="hljs-number">0</span>;<br>       bottom: <span class="hljs-number">0</span>;<br>       border: 2px solid #d71345;<br>       animation: clippath 2s infinite linear;<br>       border-radius: 10px;<br>   &#125;<br>   .btn2::before &#123;<br>       <span class="hljs-attr">content</span>: <span class="hljs-string">&quot;&quot;</span>;<br>       position: absolute;<br>       top: <span class="hljs-number">0</span>;<br>       left: <span class="hljs-number">0</span>;<br>       right: <span class="hljs-number">0</span>;<br>       bottom: <span class="hljs-number">0</span>;<br>       border: 2px solid #f36c21;<br>       animation: clippath 2s infinite linear;<br>       border-radius: 10px;<br>   &#125;<br>   .btn3::before &#123;<br>       <span class="hljs-attr">content</span>: <span class="hljs-string">&quot;&quot;</span>;<br>       position: absolute;<br>       top: <span class="hljs-number">0</span>;<br>       left: <span class="hljs-number">0</span>;<br>       right: <span class="hljs-number">0</span>;<br>       bottom: <span class="hljs-number">0</span>;<br>       border: 2px solid #ffd400;<br>       animation: clippath 2s infinite linear;<br>       border-radius: 10px;<br>   &#125;<br>   .btn4::before &#123;<br>       <span class="hljs-attr">content</span>: <span class="hljs-string">&quot;&quot;</span>;<br>       position: absolute;<br>       top: <span class="hljs-number">0</span>;<br>       left: <span class="hljs-number">0</span>;<br>       right: <span class="hljs-number">0</span>;<br>       bottom: <span class="hljs-number">0</span>;<br>       border: 2px solid #65c294;<br>       animation: clippath 2s infinite linear;<br>       border-radius: 10px;<br>   &#125;<br>   .btn5::before &#123;<br>       <span class="hljs-attr">content</span>: <span class="hljs-string">&quot;&quot;</span>;<br>       position: absolute;<br>       top: <span class="hljs-number">0</span>;<br>       left: <span class="hljs-number">0</span>;<br>       right: <span class="hljs-number">0</span>;<br>       bottom: <span class="hljs-number">0</span>;<br>       border: 2px solid #33a3dc;<br>       animation: clippath 2s infinite linear;<br>       border-radius: 10px;<br>   &#125;<br>   @keyframes clippath &#123;<br><br>       <span class="hljs-number">0</span>%,<br>       <span class="hljs-number">100</span>% &#123;<br>           clip-path: inset(<span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">95</span>% <span class="hljs-number">0</span>);<br>       &#125;<br><br>       <span class="hljs-number">25</span>% &#123;<br>           clip-path: inset(<span class="hljs-number">0</span> <span class="hljs-number">95</span>% <span class="hljs-number">0</span> <span class="hljs-number">0</span>);<br>       &#125;<br><br>       <span class="hljs-number">50</span>% &#123;<br>           clip-path: inset(<span class="hljs-number">95</span>% <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">0</span>);<br>       &#125;<br><br>       <span class="hljs-number">75</span>% &#123;<br>           clip-path: inset(<span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">95</span>%);<br>       &#125;<br>   &#125;<br></code></pre></td></tr></table></figure><h2 id="æ‹Ÿæ€"><a href="#æ‹Ÿæ€" class="headerlink" title="æ‹Ÿæ€"></a>æ‹Ÿæ€</h2><p><img src="/dylan/imgs/button/2.png"></p><p>HTMLï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;div <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">&quot;btn&quot;</span>&gt;Hello world&lt;/div&gt;<br></code></pre></td></tr></table></figure><p>CSSï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs javascript">body &#123;<br>       <span class="hljs-attr">margin</span>: <span class="hljs-number">0</span>;<br>       width: 100vw;<br>       height: 100vh;<br>       background-color: #55b9f3;<br>       display: flex;<br>       align-items: center;<br>       justify-content: center;<br>   &#125;<br><br>   .btn &#123;<br>       <span class="hljs-attr">width</span>: 200px;<br>       height: 200px;<br>       line-height: 200px;<br>       text-align: center;<br>       color: white;<br>       border-radius: 50px;<br>       background: #55b9f3;<br>       box-shadow: 20px 20px 60px #489dcf,<br>           -20px -20px 60px #62d5ff;<br>   &#125;<br></code></pre></td></tr></table></figure><h2 id="æ¯›ç»ç’ƒ"><a href="#æ¯›ç»ç’ƒ" class="headerlink" title="æ¯›ç»ç’ƒ"></a>æ¯›ç»ç’ƒ</h2><p><img src="/dylan/imgs/button/3.png"></p><p>HTML:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;div <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">&quot;btn&quot;</span>&gt;Hello world&lt;/div&gt;<br></code></pre></td></tr></table></figure><p>CSSï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs javascript">body &#123;<br>       <span class="hljs-attr">margin</span>: <span class="hljs-number">0</span>;<br>       width: 100vw;<br>       height: 100vh;<br>       background: url(<span class="hljs-string">&#x27;./4.png&#x27;</span>);<br>       background-repeat: no-repeat;<br>       background-size: 100vw 100vh;<br>       background-position: center center;<br>       display: flex;<br>       align-items: center;<br>       justify-content: center;<br>   &#125;<br><br>   .btn &#123;<br>       <span class="hljs-attr">padding</span>: 40px 30px;<br>       font-size: 24px;<br>       border-radius: 12px;<br>       background-color: rgba(<span class="hljs-number">255</span>, <span class="hljs-number">255</span>, <span class="hljs-number">255</span>, <span class="hljs-number">.2</span>);<br>       backdrop-filter: blur(15px);<br>       box-shadow: <span class="hljs-number">0</span> <span class="hljs-number">0</span> 10px #<span class="hljs-number">333</span>;<br>   &#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>å®ç”¨æŠ€å·§</category>
      
    </categories>
    
    
    <tags>
      
      <tag>CSS</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>setTimeoutã€setInterval(äºŒ)</title>
    <link href="/dylan/2021/11/17/settimeout2/"/>
    <url>/dylan/2021/11/17/settimeout2/</url>
    
    <content type="html"><![CDATA[<h2 id="ä½¿ç”¨setIntervalå®ç°setTimeout"><a href="#ä½¿ç”¨setIntervalå®ç°setTimeout" class="headerlink" title="ä½¿ç”¨setIntervalå®ç°setTimeout"></a>ä½¿ç”¨setIntervalå®ç°setTimeout</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mySetInterval</span>(<span class="hljs-params">fn, delay</span>) </span>&#123;<br>    <span class="hljs-keyword">const</span> timer = <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>        fn()<br>        <span class="hljs-built_in">clearInterval</span>(timer)<br>    &#125;, delay)<br>&#125;<br><br><span class="hljs-comment">// æµ‹è¯•</span><br>mySetInterval(<span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">console</span>.log(<span class="hljs-number">888</span>), <span class="hljs-number">1000</span>)<br></code></pre></td></tr></table></figure><h2 id="ä½¿ç”¨setTimeoutå®ç°setInterval"><a href="#ä½¿ç”¨setTimeoutå®ç°setInterval" class="headerlink" title="ä½¿ç”¨setTimeoutå®ç°setInterval"></a>ä½¿ç”¨setTimeoutå®ç°setInterval</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mySetTimout</span>(<span class="hljs-params">fn, delay</span>) </span>&#123;<br>    <span class="hljs-keyword">let</span> timer = <span class="hljs-literal">null</span><br>    <span class="hljs-keyword">const</span> interval = <span class="hljs-function">() =&gt;</span> &#123;<br>        fn()<br>        timer = <span class="hljs-built_in">setTimeout</span>(interval, delay)<br>    &#125;<br>    <span class="hljs-built_in">setTimeout</span>(interval, delay)<br>    <span class="hljs-keyword">return</span> &#123;<br>        <span class="hljs-attr">cancel</span>: <span class="hljs-function">() =&gt;</span> &#123;<br>            <span class="hljs-built_in">clearTimeout</span>(timer)<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">// æµ‹è¯•</span><br><span class="hljs-keyword">const</span> &#123; cancel &#125; = mySetTimout(<span class="hljs-function">() =&gt;</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-number">888</span>), <span class="hljs-number">1000</span>)<br><span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>        cancel()<br>&#125;, <span class="hljs-number">4000</span>)<br></code></pre></td></tr></table></figure><h2 id="requestAnimationFrameä½¿ç”¨"><a href="#requestAnimationFrameä½¿ç”¨" class="headerlink" title="requestAnimationFrameä½¿ç”¨"></a>requestAnimationFrameä½¿ç”¨</h2><p>requestAnimationFrame æ˜¯æµè§ˆå™¨ç”¨äºå®šæ—¶å¾ªç¯æ“ä½œçš„ä¸€ä¸ªæ¥å£ï¼Œæ˜¯æŒ‰å¸§å¯¹é¡µé¢è¿›è¡Œé‡ç»˜ï¼Œæ•ˆæœä¼šæ¯” setInterval å¥½ï¼Œå› ä¸º setInterval æ˜¯å¼‚æ­¥ä»»åŠ¡ï¼Œå½“åŒæ­¥ä»»åŠ¡æ‰§è¡Œæ—¶é—´å¤§äº setInterval çš„æ—¶é—´é—´éš”æ—¶ï¼ŒsetInterval ä¾¿ä¸ä¼šæŒ‰ç…§æ—¶é—´é—´éš”æ‰§è¡Œï¼ŒsetInterval çš„æ‰§è¡Œæ˜¯æ—¶é—´é—´éš”ä¸€åˆ°ä¾¿æ”¾åœ¨æ‰§è¡Œæ ˆä¸Šæ‰§è¡Œï¼Œjs æ˜¯å•çº¿ç¨‹ï¼Œå½“æ‰§è¡Œæ ˆä¸Šè¿˜æœ‰ä»»åŠ¡æ—¶ï¼ŒsetInterval çš„å›è°ƒå‡½æ•°ä¼šç­‰å¾…æ‰§è¡Œï¼Œè€Œ requestAnimationFrame æ˜¯æ ¹æ®ç³»ç»Ÿçš„æ—¶é—´é—´éš”æ‰§è¡Œï¼Œä¹Ÿå°±æ˜¯å¸§ã€‚</p><p>ä¸‹é¢åˆ†åˆ«ä½¿ç”¨ setTimeout ã€setInterval ã€requestAnimationFrame å®ç°è¿›åº¦æ¡ä¾‹å­</p><p>htmlï¼š</p><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs applescript">&lt;<span class="hljs-keyword">div</span> <span class="hljs-built_in">id</span>=<span class="hljs-string">&quot;time&quot;</span> style=<span class="hljs-string">&quot;width: 0px;height: 20px;line-height: 20px;background-color: red;&quot;</span>&gt;<span class="hljs-number">0</span>%&lt;/<span class="hljs-keyword">div</span>&gt;<br></code></pre></td></tr></table></figure><p>setIntervalç‰ˆï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs javascript">time.onclick = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;<br>    <span class="hljs-keyword">var</span> timer = <span class="hljs-built_in">setInterval</span>(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;<br>        <span class="hljs-keyword">if</span>(<span class="hljs-built_in">parseInt</span>(time.style.width)&lt;<span class="hljs-number">300</span>)&#123;<br>            time.style.width = <span class="hljs-built_in">parseInt</span>(time.style.width) + <span class="hljs-number">3</span> + <span class="hljs-string">&quot;px&quot;</span><br>            time.innerHTML = <span class="hljs-built_in">parseInt</span>(time.style.width)/<span class="hljs-number">3</span> + <span class="hljs-string">&quot;%&quot;</span><br>        &#125;<span class="hljs-keyword">else</span>&#123;<br>            <span class="hljs-built_in">clearInterval</span>(timer)<br>        &#125;<br>    &#125;,<span class="hljs-number">16</span>)<br>&#125;<br></code></pre></td></tr></table></figure><p>setTimeoutç‰ˆï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs javascript">time.onclick = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;<br>    <span class="hljs-keyword">var</span> timer = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fn</span>(<span class="hljs-params"></span>)</span>&#123;<br>        <span class="hljs-keyword">if</span>(<span class="hljs-built_in">parseInt</span>(time.style.width)&lt;<span class="hljs-number">300</span>)&#123;<br>            time.style.width = <span class="hljs-built_in">parseInt</span>(time.style.width) + <span class="hljs-number">3</span> + <span class="hljs-string">&quot;px&quot;</span><br>            time.innerHTML = <span class="hljs-built_in">parseInt</span>(time.style.width)/<span class="hljs-number">3</span> + <span class="hljs-string">&quot;%&quot;</span><br>            timer = <span class="hljs-built_in">setTimeout</span>(fn, <span class="hljs-number">16</span>);<br>        &#125;<span class="hljs-keyword">else</span>&#123;<br>            <span class="hljs-built_in">clearInterval</span>(timer)<br>        &#125;<br>    &#125;,<span class="hljs-number">16</span>)<br>&#125;<br></code></pre></td></tr></table></figure><p>requestAnimationFrameç‰ˆï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs javascript">time.onclick = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;<br>    <span class="hljs-keyword">var</span> timer = requestAnimationFrame(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fn</span>(<span class="hljs-params"></span>)</span>&#123;<br>        <span class="hljs-keyword">if</span>(<span class="hljs-built_in">parseInt</span>(time.style.width)&lt;<span class="hljs-number">300</span>)&#123;<br>            time.style.width = <span class="hljs-built_in">parseInt</span>(time.style.width) + <span class="hljs-number">3</span> + <span class="hljs-string">&quot;px&quot;</span><br>            time.innerHTML = <span class="hljs-built_in">parseInt</span>(time.style.width)/<span class="hljs-number">3</span> + <span class="hljs-string">&quot;%&quot;</span><br>            timer = requestAnimationFrame(fn);<br>        &#125;<span class="hljs-keyword">else</span>&#123;<br>            cancelAnimationFrame(timer)<br>        &#125;<br>    &#125;)<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>å­¦ä¹ ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>JavaScript</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>setTimeoutã€setInterval(ä¸€)</title>
    <link href="/dylan/2021/11/16/settimeout1/"/>
    <url>/dylan/2021/11/16/settimeout1/</url>
    
    <content type="html"><![CDATA[<h2 id="setTimeout"><a href="#setTimeout" class="headerlink" title="setTimeout"></a>setTimeout</h2><p>ç‰¹æ€§ï¼š</p><ol><li>å‡ æ¯«ç§’åæ‰§è¡Œä¸€æ¬¡</li><li>æœ€å°æ—¶é—´é—´éš”4ms</li><li>è¿”å›æ•°å­—æ ‡è¯†</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> timer = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;<br><span class="hljs-built_in">console</span>.log(<span class="hljs-number">1</span>) <span class="hljs-comment">//1såæ‰“å°1</span><br>&#125;,<span class="hljs-number">1000</span>)<br></code></pre></td></tr></table></figure><p>å›è°ƒå‡½æ•°ä¹Ÿå¯ä»¥æ¢æˆå­—ç¬¦ä¸²ï¼ŒåŸç†æ˜¯æµè§ˆå™¨è§£æäº†ä¸¤æ¬¡ï¼ˆä¸å»ºè®®ä½¿ç”¨ï¼‰</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> timer = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-string">&quot;console.log(1)&quot;</span>,<span class="hljs-number">1000</span>) <span class="hljs-comment">//1såæ‰“å°1</span><br></code></pre></td></tr></table></figure><p>è™½ç„¶æœ€å°æ—¶é—´é—´éš”ä¸º4msï¼Œä½†æµè§ˆå™¨è¿˜æ˜¯ä¼šæ ¹æ®æ—¶é—´å¤§å°æ‰“å°ï¼Œå°äº1msåˆ™ä¼šæŒ‰1msæ‰§è¡Œã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> timer1 = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;<br><span class="hljs-built_in">console</span>.log(<span class="hljs-number">1</span>)<br>&#125;,<span class="hljs-number">1</span>)<br><span class="hljs-keyword">var</span> timer2 = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;<br><span class="hljs-built_in">console</span>.log(<span class="hljs-number">2</span>)<br>&#125;,<span class="hljs-number">2</span>)<br><span class="hljs-keyword">var</span> timer3 = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;<br><span class="hljs-built_in">console</span>.log(<span class="hljs-number">3</span>) <br>&#125;,<span class="hljs-number">3</span>)<br><span class="hljs-keyword">var</span> timer4 = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;<br><span class="hljs-built_in">console</span>.log(<span class="hljs-number">4</span>) <span class="hljs-comment">//</span><br>&#125;,<span class="hljs-number">0.1</span>)<br><span class="hljs-keyword">var</span> timer5 = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;<br><span class="hljs-built_in">console</span>.log(<span class="hljs-number">5</span>)<br>&#125;,<span class="hljs-number">0.2</span>)<br><span class="hljs-keyword">var</span> timer6 = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;<br><span class="hljs-built_in">console</span>.log(<span class="hljs-number">6</span>)<br>&#125;,<span class="hljs-number">0.3</span>)<br></code></pre></td></tr></table></figure><blockquote><p>æ‰“å°é¡ºåºä¸ºï¼š1 4 5 6 2 3</p></blockquote><h2 id="setInterval"><a href="#setInterval" class="headerlink" title="setInterval"></a>setInterval</h2><p>ç‰¹æ€§ï¼š</p><ol><li>é—´éš”å‡ æ¯«ç§’æŒç»­æ‰§è¡Œ</li><li>æœ€å°æ—¶é—´é—´éš”ä¸º10ms</li><li>è¿”å›æ•°å­—æ ‡è¯†</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> timer = <span class="hljs-built_in">setInterval</span>(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;<br><span class="hljs-built_in">console</span>.log(<span class="hljs-number">1</span>) <span class="hljs-comment">//æ¯éš”1sæ‰§è¡Œä¸€æ¬¡</span><br>&#125;,<span class="hljs-number">1000</span>)<br></code></pre></td></tr></table></figure><p>å…¶ä»–ç‰¹æ€§ä¸ <code>setTimeout</code> ç±»ä¼¼</p><h2 id="å°æŠ€å·§"><a href="#å°æŠ€å·§" class="headerlink" title="å°æŠ€å·§"></a>å°æŠ€å·§</h2><ol><li><code>clearTimeout()</code> æ–¹æ³•å¯ä»¥æ¸…é™¤ Intervalï¼ŒåŒç†ï¼Œ<code>clearInterval()</code>æ–¹æ³•ä¹Ÿå¯ä»¥æ¸…é™¤ Timeoutï¼ˆä¸å»ºè®®ï¼Œä¼šé€ æˆè¯­ä¹‰æ­§ä¹‰ï¼‰</li><li>æµè§ˆå™¨çš„åˆ·æ–°é¢‘ç‡æ˜¯ <code>60HZ</code> ï¼Œæ¯ç§’å±å¹•çš„åˆ·æ–°æ¬¡æ•°ä¸º <code>1000/60 â‰ˆ 16.67</code>ï¼Œå³å»ºè®®åœ¨ä½¿ç”¨ setInterval å®ç°åŠ¨ç”»çš„æ—¶å€™ï¼Œæœ€å°æ—¶é—´é—´éš”ä¸º16msæˆ–17msï¼Œè¿™æ ·ä¼šä½¿åŠ¨ç”»çœ‹ä¸Šå»æ›´ä¸æ»‘ã€‚</li><li>setTimeout ä¸ setInterval å›è°ƒå‡½æ•°é‡Œçš„ this éƒ½æ˜¯æŒ‡å‘windowï¼Œæ”¹å˜ this æŒ‡å‘å¯ä»¥ä½¿ç”¨ apply ã€call ã€bind</li></ol>]]></content>
    
    
    <categories>
      
      <category>å­¦ä¹ ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>JavaScript</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å‰ç«¯ä¸‰å¤§ç™»é™†æ–¹å¼</title>
    <link href="/dylan/2021/11/14/login/"/>
    <url>/dylan/2021/11/14/login/</url>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>HTTP æ˜¯æ— çŠ¶æ€åè®®ï¼Œæ¯æ¬¡å’Œåç«¯é‡æ–°å»ºç«‹è¿æ¥çš„è¯ï¼Œåç«¯æ— æ³•åˆ¤æ–­è¯·æ±‚æ˜¯å¦æ¯æ¬¡æ¥è‡ªäºåŒä¸€ä¸ªç”¨æˆ·ï¼Œæ‰€ä»¥è¯ç”Ÿäº† cookieï¼Œä¼šéš HTTP è¯·æ±‚ä¸€èµ·å‘é€</p><p>cookie æºå¸¦äº†ç”¨æˆ·ä¿¡æ¯ï¼Œä½†åç«¯è¿˜éœ€è¦éªŒè¯ï¼Œå¾—é€šè¿‡ session å¯¹è±¡ã€‚è€Œ session å­˜å‚¨äº†ä¸€äº›ç”¨æˆ·ä¿¡æ¯ï¼Œå­˜åœ¨åç«¯æ˜¯é¿å…å‰ç«¯å­˜å‚¨æ•æ„Ÿæ•°æ®ã€‚é€šå¸¸å­˜åœ¨ç¼“å­˜é‡Œï¼Œæ¯”å¦‚ jvm æœ¬åœ°ç¼“å­˜ã€redis åˆ†å¸ƒå¼ç¼“å­˜</p><h2 id="Session"><a href="#Session" class="headerlink" title="Session"></a>Session</h2><ul><li>é¦–æ¬¡ç™»å½•ï¼šç”¨æˆ·è¾“å…¥è´¦å·å¯†ç ï¼Œå‰ç«¯å‘ HTTP è¯·æ±‚ï¼Œåç«¯éªŒè¯æ—¶ä¼šåˆ›å»º sessionIdï¼Œå¹¶ä¿å­˜ sessionId å’Œ session çš„æ˜ å°„å…³ç³»ï¼Œç„¶åé€šè¿‡ Set-Cookie å¤´å°† sessionId ç§åˆ° Cookie ä¸­ï¼Œå­˜åˆ°å‰ç«¯</li><li>åç»­ç™»å½•ï¼šè¯·æ±‚æºå¸¦åŒ…å«äº† sessionId çš„ cookie åˆ°åç«¯ï¼Œåç«¯æ¯”è¾ƒ sessionId å³å¯åˆ¤æ–­æ˜¯å“ªä¸ªç”¨æˆ·å‘çš„è¯·æ±‚</li></ul><p>ç¼ºç‚¹ï¼šæœåŠ¡ç«¯å­˜å‚¨äº†å¤§é‡ sessionï¼Œè®¿é—®é‡å¢å¤§æ—¶ï¼ŒæœåŠ¡å™¨å‹åŠ›å¤§ï¼Œç»´æŠ¤æˆæœ¬é«˜ã€‚</p><h2 id="Token"><a href="#Token" class="headerlink" title="Token"></a>Token</h2><blockquote><p>token è§£å†³äº† session å­˜åœ¨çš„é—®é¢˜ï¼Œå› ä¸º token ä¿å­˜åœ¨å‰ç«¯</p></blockquote><p>token æ˜¯åç«¯ç”Ÿæˆçš„ä¸€ä¸²å­—ç¬¦ä¸²ï¼Œç¬¬ä¸€æ¬¡è®¿é—®æ—¶åç«¯ç”Ÿæˆ tokenï¼Œåç»­æ¯æ¬¡è®¿é—®éƒ½è¦è¿™ä¸ª token è¿›è¡ŒéªŒè¯ã€‚</p><p>JWTï¼ˆJSON Web Tokenï¼‰ï¼šç”±ä¸‰éƒ¨åˆ†ç»„æˆï¼šHeaderï¼ˆå¤´éƒ¨ï¼‰Payloadï¼ˆè´Ÿè½½ï¼‰Signatureï¼ˆç­¾åï¼‰</p><p>token å¯ä»¥å­˜æ”¾åœ¨ cookie é‡Œé¢ï¼Œæœ€å¥½çš„æ–¹å¼æ˜¯æ”¾åœ¨ Authorizatoin ä¸­</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">Authorization: Bearer &lt;token&gt; <br></code></pre></td></tr></table></figure><p>ä¼˜ç‚¹ï¼š<br>é¿å¼€åŒæºç­–ç•¥ã€é¿å… CSRF æ”»å‡»ã€token æ— çŠ¶æ€ï¼Œå¤šä¸ªæœåŠ¡å™¨å¯å…±äº«</p><p>ç¼ºç‚¹ï¼š<br>åç«¯æ— æ³•ä½œåºŸ token ï¼Œåªèƒ½ç­‰ token è‡ªåŠ¨ä½œåºŸ</p><h2 id="SSOï¼ˆæµ…æï¼‰"><a href="#SSOï¼ˆæµ…æï¼‰" class="headerlink" title="SSOï¼ˆæµ…æï¼‰"></a>SSOï¼ˆæµ…æï¼‰</h2><p>é¦–æ¬¡ç™»å½•ï¼š<br>ç”¨æˆ·é¦–æ¬¡è®¿é—®ç½‘ç«™ a.com é¡µé¢ï¼Œæœªç™»å½•åˆ™æºå¸¦åœ°å€å‚æ•°é‡å®šå‘åˆ° sso è®¤è¯ä¸­å¿ƒï¼Œç”¨æˆ·è¾“å…¥è´¦å·å¯†ç éªŒè¯æˆåŠŸï¼Œåˆ™è®¤è¯ä¸­å¿ƒç”Ÿæˆä»¤ç‰Œ token é€šè¿‡ Set-Cookie ç§å…¥ cookieï¼Œè¿”å› a.com<br>a.com æ”¶åˆ° token åä¼šå†å»è®¤è¯ä¸­å¿ƒç¡®è®¤ä¸€æ¬¡æ˜¯å¦ä¸ºçœŸï¼ˆé˜²ç¯¡æ”¹ï¼‰ï¼Œä¸ºçœŸåˆ™ç™»å½•æˆåŠŸï¼ŒåŒæ—¶åç«¯ä¼šå°†ç™»é™†ä¿¡æ¯å†™å…¥ cookie è¿”å›ç»™å‰ç«¯ï¼Œæ­¤æ—¶å‰ç«¯ä¿å­˜äº† a.com å’Œ sso çš„ç™»å½•æ€</p><p>åç»­ç™»é™†ï¼š<br>è‹¥ç”¨æˆ·è®¿æ–‡ a.com ä¸‹çš„é¡µé¢ï¼Œåˆ™ä¼šç›´æ¥ç™»å½•æˆåŠŸ<br>è‹¥ç”¨æˆ·è®¿é—® b.comï¼Œcookie è¢«æºå¸¦è·³è½¬åˆ°è®¤è¯ä¸­å¿ƒï¼Œä¼šæ£€æµ‹å‡ºå·²ç™»å½•çŠ¶æ€ï¼Œåˆ™ç›´æ¥ä¸‹å‘ token å¹¶è¿”å› b.comï¼Œå®ç°ç™»å½•</p>]]></content>
    
    
    <categories>
      
      <category>é¢è¯•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>å‰ç«¯</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>cookie-Storage ç¬”è®°</title>
    <link href="/dylan/2021/11/12/cookie-storage/"/>
    <url>/dylan/2021/11/12/cookie-storage/</url>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p><code>cookie</code>ã€<code>sessionStorage</code>ã€<code>localStorage</code> éƒ½æ˜¯æµè§ˆå™¨æ•°æ®å‚¨å­˜çš„æ–¹æ¡ˆï¼ŒindexedDBã€Web SQï¼ˆä»æ¥æ²¡ç”¨è¿‡ã€å‰ç«¯æ•°æ®åº“ï¼Ÿï¼‰</p><h2 id="cookie"><a href="#cookie" class="headerlink" title="cookie"></a>cookie</h2><p><code>cookie</code> æ˜¯æµè§ˆå™¨ä¿å­˜åˆ°ç”¨æˆ·ç”µè„‘ä¸Šçš„ä¸€ä¸ªæ–‡æœ¬ï¼Œç”¨æˆ·é€šè¿‡ http è¯·æ±‚æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨å°†ä¸€äº›å­—å…¸çš„å‡å€¼å¯¹è¿”å›ç»™å®¢æˆ·ç«¯æµè§ˆå™¨ï¼Œå¹¶åŠ ä¸Šä¸€äº›é™åˆ¶æ¡ä»¶ï¼Œåœ¨æ¡ä»¶ç¬¦åˆæ—¶ç”¨æˆ·å†æ¬¡è®¿é—®æœåŠ¡å™¨æ—¶ï¼Œ<code>cookie</code> é€šè¿‡è¯·æ±‚å¤´å®Œæ•´çš„å¸¦å›ç»™æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨æ ¹æ® <code>cookie</code> ä¿¡æ¯åˆ¤æ–­ä¸åŒçš„ç”¨æˆ·ï¼Œè¿™é‡Œæ¶‰åŠåˆ° <code>cookie</code> ä¸ <code>session</code> ï¼Œ<code>session</code> æ˜¯å‚¨å­˜åœ¨æœåŠ¡å™¨æ•°æ®åº“çš„ï¼Œä¸åšå¤ªå¤šå™è¿°ï¼Œå¤§è‡´åŸç†æ˜¯æœåŠ¡å™¨é€šè¿‡ <code>cookie</code> æ‰¾åˆ°å¯¹åº”çš„ <code>session</code> ç”¨æ¥ä¿å­˜ç”¨æˆ·çŠ¶æ€ã€‚</p><p>cookie åˆ†ç±»</p><p>ä¼šè¯çº§åˆ«ï¼šå°±æ˜¯åœ¨æµè§ˆå™¨å…³é—­ä¹‹å <code>cookie</code> å°±ä¼šå¤±æ•ˆã€‚<br>æŒä¹…çº§åˆ«ï¼šä¿å­˜åœ¨ç¡¬ç›˜ï¼Œåªè¦è®¾ç½®äº†è¿‡æœŸæ—¶é—´å°±æ˜¯ã€‚</p><p>cookie å±æ€§</p><p>Name=Value é”®å€¼å¯¹ï¼šNameä¸èƒ½å’Œå…¶ä»–å±æ€§ç›¸åŒ<br>Expires è¿‡æœŸæ—¶é—´<br>Max-Age æœ‰æ•ˆæœŸï¼Œä¼˜å…ˆçº§å¤§äº Expires<br>Domain ç”Ÿæˆ <code>cookie</code> çš„åŸŸåç©ºé—´<br>Path è¿™ä¸ª <code>cookie</code> æ˜¯åœ¨ç³»ç»Ÿå“ªä¸ªæ–‡ä»¶è·¯å¾„ä¸‹ç”Ÿæˆçš„<br>Secure åŠ å¯†è®¾ç½®ï¼Œè®¾ç½®ä¹‹ååªèƒ½åœ¨ SSH è¿æ¥ç¯å¢ƒä¸‹æ‰èƒ½å›ä¼ è¿™ä¸ªcookie å±æ€§</p><p>cookie åˆ›å»º</p><p>Set-Cookie:value [;expires=expires] [;domain=domain] [;path=path] [;secure]</p><h2 id="sessionStorageä¸localStorage"><a href="#sessionStorageä¸localStorage" class="headerlink" title="sessionStorageä¸localStorage"></a>sessionStorageä¸localStorage</h2><p><code>sessionStorage</code>ï¼šå°†æ•°æ®ä¿å­˜åœ¨sessionå¯¹è±¡ä¸­ã€‚æ‰€è°“ sessionï¼Œæ˜¯æŒ‡ç”¨æˆ·åœ¨æµè§ˆæŸä¸ªç½‘ç«™æ—¶ï¼Œä»è¿›å…¥ç½‘ç«™åˆ°æµè§ˆå™¨å…³é—­æ‰€ç»è¿‡çš„è¿™æ®µæ—¶é—´ï¼Œä¹Ÿå°±æ˜¯ç”¨æˆ·æµè§ˆè¿™ä¸ªç½‘ç«™æ‰€èŠ±è´¹çš„æ—¶é—´ã€‚session å¯¹è±¡å¯ä»¥ç”¨æ¥ä¿å­˜åœ¨è¿™æ®µæ—¶é—´å†…æ‰€è¦æ±‚ä¿å­˜çš„ä»»ä½•æ•°æ®ã€‚</p><p><code>localStorage</code>ï¼šå°†æ•°æ®ä¿å­˜åœ¨å®¢æˆ·ç«¯æœ¬åœ°çš„ç¡¬ä»¶è®¾å¤‡(é€šå¸¸æŒ‡ç¡¬ç›˜ï¼Œä¹Ÿå¯ä»¥æ˜¯å…¶ä»–ç¡¬ä»¶è®¾å¤‡)ä¸­ï¼Œå³ä½¿æµè§ˆå™¨è¢«å…³é—­äº†ï¼Œè¯¥æ•°æ®ä»ç„¶å­˜åœ¨ï¼Œä¸‹æ¬¡æ‰“å¼€æµè§ˆå™¨è®¿é—®ç½‘ç«™æ—¶ä»ç„¶å¯ä»¥ç»§ç»­ä½¿ç”¨ã€‚</p><p>è¿™ä¸¤è€…çš„åŒºåˆ«åœ¨äºï¼Œ<code>sessionStorage</code> ä¸ºä¸´æ—¶ä¿å­˜ï¼Œè€Œ <code>localStorage</code> ä¸ºæ°¸ä¹…ä¿å­˜ã€‚</p><p>ä½¿ç”¨ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs javascript">sessionStorage.setItem(<span class="hljs-string">&#x27;name&#x27;</span>,data) <span class="hljs-comment">//åˆ›å»º</span><br>sessionStorage.getItem(<span class="hljs-string">&#x27;name&#x27;</span>) <span class="hljs-comment">//è·å–</span><br>sessionStorage.removeItem(<span class="hljs-string">&#x27;name&#x27;</span>) <span class="hljs-comment">//åˆ é™¤</span><br>sessionStorage.clear() <span class="hljs-comment">//æ¸…ç©ºæ‰€æœ‰</span><br><span class="hljs-built_in">localStorage</span>.setItem(<span class="hljs-string">&#x27;name&#x27;</span>,data) <span class="hljs-comment">//åˆ›å»º</span><br><span class="hljs-built_in">localStorage</span>.getItem(<span class="hljs-string">&#x27;name&#x27;</span>) <span class="hljs-comment">//è·å–</span><br><span class="hljs-built_in">localStorage</span>.removeItem(<span class="hljs-string">&#x27;name&#x27;</span>) <span class="hljs-comment">//åˆ é™¤</span><br><span class="hljs-built_in">localStorage</span>.clear() <span class="hljs-comment">//æ¸…ç©ºæ‰€æœ‰</span><br></code></pre></td></tr></table></figure><h2 id="cookieã€WebStorageåŒºåˆ«"><a href="#cookieã€WebStorageåŒºåˆ«" class="headerlink" title="cookieã€WebStorageåŒºåˆ«"></a>cookieã€WebStorageåŒºåˆ«</h2><ol><li>å‚¨å­˜ç©ºé—´ï¼š<code>cookie</code> ä¸º4kï¼Œ<code>WebStorage</code> ä¸º5M</li><li>ç”Ÿå‘½å‘¨æœŸï¼š<code>cookie</code> æŒ‡å®šè¿‡æœŸæ—¶é—´ï¼Œ<code>sessionStorage</code> é¡µé¢ä¼šè¯æœŸé—´å¯ç”¨ï¼Œ<code>localStorage</code> æ°¸ä¹…æœ‰æ•ˆï¼Œé™¤éæ‰‹åŠ¨åˆ é™¤ã€‚</li><li>é€šä¿¡ï¼š<code>cookie</code> æ¯æ¬¡è¯·æ±‚éƒ½ä¼šæºå¸¦ï¼Œ<code>WebStorage</code> ä¸ä¼šã€‚</li><li>æ˜“ç”¨æ€§ï¼š<code>cookie</code> éœ€è¦è‡ªå·±å°è£… setCookieã€getCookieï¼Œ<code>WebStorage</code> æœ‰åŸç”Ÿ APIï¼Œå¯ä»¥é€šè¿‡ stringify å’Œ parse å‚¨å­˜æ•°ç»„ä¸å¯¹è±¡ã€‚</li></ol>]]></content>
    
    
    <categories>
      
      <category>é¢è¯•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>å‰ç«¯</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å®ç° new ç¬”è®°</title>
    <link href="/dylan/2021/11/10/new/"/>
    <url>/dylan/2021/11/10/new/</url>
    
    <content type="html"><![CDATA[<h2 id="newçš„è¿‡ç¨‹"><a href="#newçš„è¿‡ç¨‹" class="headerlink" title="newçš„è¿‡ç¨‹"></a>newçš„è¿‡ç¨‹</h2><ol><li>åˆ›å»ºä¸€ä¸ªç©ºå¯¹è±¡</li><li>å°†ç©ºå¯¹è±¡çš„åŸå‹æŒ‡å‘æ„é€ å‡½æ•°çš„åŸå‹</li><li>å°†è¿™ä¸ªç©ºå¯¹è±¡çš„ this æŒ‡å‘ä¸ºæ„é€ å‡½æ•°</li></ol><h2 id="å®ç°new"><a href="#å®ç°new" class="headerlink" title="å®ç°new"></a>å®ç°new</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">myNew</span>(<span class="hljs-params"></span>)</span>&#123;<br><span class="hljs-keyword">let</span> args = <span class="hljs-built_in">Array</span>.prototype.slice.call(<span class="hljs-built_in">arguments</span>,<span class="hljs-number">0</span>)  <br><span class="hljs-keyword">let</span> <span class="hljs-title">constructor</span> = <span class="hljs-title">args</span>.<span class="hljs-title">shift</span>(<span class="hljs-params"></span>)                    <br><span class="hljs-title">let</span> <span class="hljs-title">content</span> = &#123;&#125;                                    <br>content.__proto__ = <span class="hljs-title">constructor</span>.<span class="hljs-title">prototype</span>           <br><span class="hljs-title">constructor</span>.<span class="hljs-title">apply</span>(<span class="hljs-params">content,args</span>)                  <br><span class="hljs-title">return</span> <span class="hljs-title">content</span><br>&#125;<br></code></pre></td></tr></table></figure><h2 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h2><p><code>let args = Array.prototype.slice.call(arguments,0)</code>   arguments æ˜¯ä¸€ä¸ªä¼ªæ•°ç»„ï¼Œæ²¡æœ‰æ•°ç»„çš„ä¸€äº›åŸå‹æ–¹æ³•ï¼Œè¿™æ®µä»£ç çš„æ„æ€æ˜¯è®© arguments å€Ÿè°ƒ Array çš„åŸå‹æ–¹æ³• slice è¿”å›åŸæ•°ç»„ï¼Œä½¿ arguments æˆä¸ºäº†ä¸€ä¸ªçœŸæ•°ç»„</p><p><code>let constructor = args.shift()</code> ç°åœ¨çš„ constructor å®é™…ä¸Šå°±æ˜¯ä¼ å…¥çš„æ„é€ å‡½æ•°ï¼Œæ³¨æ„ shift æ–¹æ³•ä¼šæ”¹å˜åŸæ•°ç»„ï¼Œæ‰€ä»¥å‰©ä¸‹çš„ args é‡Œé¢éƒ½æ˜¯å‚æ•°</p><p><code>content.__proto__ = constructor.prototype</code> å°†ç©ºå¯¹è±¡çš„åŸå‹æŒ‡å‘æ„é€ å‡½æ•°çš„åŸå‹</p><p><code>constructor.apply(content,args)</code> æ”¹å˜ç©ºå¯¹è±¡çš„ this æŒ‡å‘ä¸ºæ„é€ å‡½æ•°</p><h2 id="ç»“æœ"><a href="#ç»“æœ" class="headerlink" title="ç»“æœ"></a>ç»“æœ</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">myNew</span>(<span class="hljs-params"></span>)</span>&#123;<br>    <span class="hljs-keyword">let</span> args = <span class="hljs-built_in">Array</span>.prototype.slice.call(<span class="hljs-built_in">arguments</span>,<span class="hljs-number">0</span>)  <br>    <span class="hljs-keyword">let</span> <span class="hljs-title">constructor</span> = <span class="hljs-title">args</span>.<span class="hljs-title">shift</span>(<span class="hljs-params"></span>)                    <br>    <span class="hljs-title">let</span> <span class="hljs-title">content</span> = &#123;&#125;                                    <br>    content.__proto__ = <span class="hljs-title">constructor</span>.<span class="hljs-title">prototype</span>         <br>    <span class="hljs-title">constructor</span>.<span class="hljs-title">apply</span>(<span class="hljs-params">content,args</span>)                    <br><span class="hljs-title">return</span> <span class="hljs-title">content</span><br>&#125;<br><span class="hljs-title">function</span> <span class="hljs-title">Person</span>(<span class="hljs-params">name,age</span>)&#123;<br><span class="hljs-built_in">this</span>.name = name<br>    <span class="hljs-built_in">this</span>.age = age<br>&#125;<br><span class="hljs-keyword">let</span> a = <span class="hljs-keyword">new</span> Person(<span class="hljs-string">&#x27;å¼ ä¸‰&#x27;</span>,<span class="hljs-number">1</span>)<br><span class="hljs-keyword">let</span> b = myNew(Person,<span class="hljs-string">&quot;æå››&quot;</span>,<span class="hljs-number">2</span>)<br><span class="hljs-built_in">console</span>.log(a)<br><span class="hljs-built_in">console</span>.log(b)<br></code></pre></td></tr></table></figure><p><img src="/dylan/imgs/new/1.png" alt="å›¾1"></p>]]></content>
    
    
    <categories>
      
      <category>å­¦ä¹ ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>JavaScript</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ‰‹å†™applyã€callã€bind ç¬”è®°</title>
    <link href="/dylan/2021/11/10/apply-call-bind/"/>
    <url>/dylan/2021/11/10/apply-call-bind/</url>
    
    <content type="html"><![CDATA[<h2 id="call"><a href="#call" class="headerlink" title="call"></a>call</h2><p>call æ–¹æ³•ä½¿ç”¨ä¸€ä¸ªæŒ‡å®šçš„ this å€¼å’Œå•ç‹¬ç»™å‡ºçš„ä¸€ä¸ªæˆ–å¤šä¸ªå‚æ•°æ¥è°ƒç”¨ä¸€ä¸ªå‡½æ•°</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> value=<span class="hljs-number">1</span>;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">foo</span>(<span class="hljs-params">x,y</span>) </span>&#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">this</span>.value)<br>&#125;<br><span class="hljs-keyword">var</span> obj=&#123;<br>    <span class="hljs-attr">value</span>: <span class="hljs-number">2</span><br>&#125;<br>foo(); <span class="hljs-comment">// 1 </span><br>foo.call(obj,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>);  <span class="hljs-comment">// 2</span><br></code></pre></td></tr></table></figure><p>ç»™ foo å‡½æ•°ç»‘å®š call æ–¹æ³•ï¼Œå°† foo å‡½æ•°é‡Œçš„ this æŒ‡å‘ obj ï¼Œæ‰€ä»¥<code>foo.call(obj,3,4)</code>è¾“å‡ºç»“æœä¸º2</p><p>ç‰¹ç‚¹ï¼š</p><p>1.å‚æ•°ä¼ é€’ä»¥é€—å·éš”å¼€</p><p>2.ç«‹å³æ‰§è¡Œ</p><h2 id="apply"><a href="#apply" class="headerlink" title="apply"></a>apply</h2><p>apply æ–¹æ³•ä¸ call ç±»ä¼¼</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> value=<span class="hljs-number">1</span>;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">foo</span>(<span class="hljs-params">x,y</span>) </span>&#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">this</span>.value)<br>&#125;<br><span class="hljs-keyword">var</span> obj=&#123;<br>    <span class="hljs-attr">value</span>: <span class="hljs-number">2</span><br>&#125;<br>foo(); <span class="hljs-comment">// 1 </span><br>foo.apply(obj,[<span class="hljs-number">3</span>,<span class="hljs-number">4</span>]);  <span class="hljs-comment">// 2</span><br></code></pre></td></tr></table></figure><p>ç‰¹ç‚¹ï¼š</p><p>1.å‚æ•°ä¼ é€’ä»¥æ•°ç»„çš„å½¢å¼</p><p>2.ç«‹å³æ‰§è¡Œ</p><h2 id="bind"><a href="#bind" class="headerlink" title="bind"></a>bind</h2><p>bind æ–¹æ³•åˆ›å»ºä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œä¹Ÿå¯ä»¥è¯´æ˜¯å½“å‰è°ƒç”¨bindæ–¹æ³•çš„å‡½æ•°çš„ä¸€ä¸ªå¼•ç”¨ï¼Œè¿™ä¸ªå‡½æ•°çš„ this è¢«ç»‘å®šä¸º bind æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œå…¶ä½™å‚æ•°ä¸ºè¿™ä¸ªæ–°å‡½æ•°çš„å®å‚ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> value=<span class="hljs-number">1</span>;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">foo</span>(<span class="hljs-params">x,y</span>) </span>&#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">this</span>.value)<br>&#125;<br><span class="hljs-keyword">var</span> obj=&#123;<br>    <span class="hljs-attr">value</span>: <span class="hljs-number">2</span><br>&#125;<br><span class="hljs-keyword">var</span> bar=foo.bind(obj,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>);<br>bar(); <span class="hljs-comment">// 2</span><br></code></pre></td></tr></table></figure><p>å½“æˆ‘ä»¬ä½¿ç”¨ bind æ–¹æ³•åˆ›å»ºä¸€ä¸ªæ–°å‡½æ•°ï¼Œè¿™ä¸ªæ–°å‡½æ•°å†ä½¿ç”¨ call æˆ–è€… apply æ¥æ›´æ”¹ this ç»‘å®šæ—¶ï¼Œè¿˜æ˜¯ä»¥ bind ç»‘å®šçš„ this ä¸ºå‡†ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> value=<span class="hljs-number">1</span>;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">foo</span>(<span class="hljs-params">x,y</span>) </span>&#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">this</span>.value)<br>&#125;<br><span class="hljs-keyword">var</span> obj=&#123;<br>    <span class="hljs-attr">value</span>: <span class="hljs-number">2</span><br>&#125;<br><span class="hljs-keyword">var</span> o=&#123;<br>    <span class="hljs-attr">value</span>: <span class="hljs-number">3</span><br>&#125;<br><span class="hljs-keyword">var</span> bar=foo.bind(obj,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>);<br>bar.call(o); <span class="hljs-comment">// 2</span><br></code></pre></td></tr></table></figure><h2 id="åŒºåˆ«"><a href="#åŒºåˆ«" class="headerlink" title="åŒºåˆ«"></a>åŒºåˆ«</h2><p>ç›¸åŒç‚¹ï¼š</p><ol><li>éƒ½ä¼šæ›´æ”¹thisçš„ç»‘å®š</li></ol><p>ä¸åŒç‚¹ï¼š</p><ol><li>call å’Œ apply ä¼šç«‹å³æ‰§è¡Œå‡½æ•°ï¼Œbind ä¸ä¼šã€‚</li><li>apply æ–¹æ³•çš„ä¼ å‚æ ¼å¼ä¸ºæ•°ç»„ï¼Œcall å’Œ bind ä¸æ˜¯ã€‚</li></ol><h2 id="æ‰‹å†™å®ç°"><a href="#æ‰‹å†™å®ç°" class="headerlink" title="æ‰‹å†™å®ç°"></a>æ‰‹å†™å®ç°</h2><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs actionscript"><span class="hljs-keyword">var</span> name = <span class="hljs-number">1</span><br>    Function.prototype.myCall = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(ctx, <span class="hljs-rest_arg">...args</span>)</span> </span>&#123;<br>        let fn = Symbol(<span class="hljs-number">1</span>)<br>        ctx[fn] = <span class="hljs-keyword">this</span><br>        ctx[fn](...args)<br>        <span class="hljs-keyword">delete</span> ctx[fn]<br>    &#125;<br>    Function.prototype.myApply = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(ctx, args = [])</span> </span>&#123;<br>        let fn = Symbol(<span class="hljs-number">1</span>)<br>        <span class="hljs-keyword">if</span>(args&amp;&amp;!(args <span class="hljs-keyword">instanceof</span> Array))&#123;<br>            <span class="hljs-keyword">throw</span>(<span class="hljs-string">&#x27;å‚æ•°ä¸æ˜¯æ•°ç»„&#x27;</span>)<br>        &#125;<br>        ctx[fn] = <span class="hljs-keyword">this</span><br>        ctx[fn](...args)<br>        <span class="hljs-keyword">delete</span> ctx[fn]<br>    &#125;<br>    Function.prototype.myBind = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(ctx, <span class="hljs-rest_arg">...args1</span>)</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> (...args2)=&gt;&#123;<br>            let fn = Symbol(<span class="hljs-number">1</span>)<br>            ctx[fn] = <span class="hljs-keyword">this</span><br>            ctx[fn](...args1.concat(args2))<br>            <span class="hljs-keyword">delete</span> ctx[fn]<br>        &#125;<br>    &#125;<br>    obj2 = &#123;<br>        name: <span class="hljs-number">2</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">show</span><span class="hljs-params">(<span class="hljs-rest_arg">...args</span>)</span> </span>&#123;<br>        console.log(<span class="hljs-keyword">this</span>.name, ...args)<br>    &#125;<br>    show(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>)<span class="hljs-comment">// 1 1 2 3</span><br>    show.myCall(obj2, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>)<span class="hljs-comment">// 2 1 2 3</span><br>    show.myApply(obj2, [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>])<span class="hljs-comment">// 2 1 2 3</span><br>    show.myBind(obj2, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>)()<span class="hljs-comment">// 2 1 2 3</span><br></code></pre></td></tr></table></figure><p><code>let fn = Symbol(1)</code> çš„ä½œç”¨æ˜¯ä¸ºäº†é¿å…è¦†ç›–ï¼Œä¿è¯ fn å±æ€§çš„å”¯ä¸€æ€§ï¼ŒmyApply éœ€è¦åˆ¤æ–­ä¼ å…¥çš„å‚æ•°æ˜¯å¦ä¸ºæ•°ç»„å½¢å¼ï¼ŒmyBind éœ€è¦è¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œå› ä¸º bind ä¸æ˜¯ç«‹å³æ‰§è¡Œçš„ï¼Œæœ€åéœ€è¦ <code>delete ctx[fn]</code> </p>]]></content>
    
    
    <categories>
      
      <category>å­¦ä¹ ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>JavaScript</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>BFC ç¬”è®°</title>
    <link href="/dylan/2021/11/08/BFC/"/>
    <url>/dylan/2021/11/08/BFC/</url>
    
    <content type="html"><![CDATA[<h2 id="ä¸€ã€BFCæ¦‚å¿µ"><a href="#ä¸€ã€BFCæ¦‚å¿µ" class="headerlink" title="ä¸€ã€BFCæ¦‚å¿µ"></a>ä¸€ã€BFCæ¦‚å¿µ</h2><p>BFC  å³  Block Formatting Contexts (å—çº§æ ¼å¼åŒ–ä¸Šä¸‹æ–‡)ï¼Œ<strong>å…·æœ‰ BFC ç‰¹æ€§çš„å…ƒç´ å¯ä»¥çœ‹ä½œæ˜¯éš”ç¦»äº†çš„ç‹¬ç«‹å®¹å™¨ï¼Œå®¹å™¨é‡Œé¢çš„å…ƒç´ ä¸ä¼šåœ¨å¸ƒå±€ä¸Šå½±å“åˆ°å¤–é¢çš„å…ƒç´ ï¼Œå¹¶ä¸” BFC å…·æœ‰æ™®é€šå®¹å™¨æ‰€æ²¡æœ‰çš„ä¸€äº›ç‰¹æ€§ã€‚</strong>é€šä¿—ä¸€ç‚¹æ¥è®²ï¼Œå¯ä»¥æŠŠ BFC ç†è§£ä¸ºä¸€ä¸ªå°é—­çš„å¤§ç®±å­ï¼Œç®±å­å†…éƒ¨çš„å…ƒç´ æ— è®ºå¦‚ä½•ç¿»æ±Ÿå€’æµ·ï¼Œéƒ½ä¸ä¼šå½±å“åˆ°å¤–éƒ¨ï¼ˆBFCçš„å­å…ƒç´ ä¸ä¼šå½±å“BFCå¤–éƒ¨çš„å…ƒç´ ï¼‰ã€‚</p><h2 id="äºŒã€è§¦å‘BFCæ¡ä»¶"><a href="#äºŒã€è§¦å‘BFCæ¡ä»¶" class="headerlink" title="äºŒã€è§¦å‘BFCæ¡ä»¶"></a>äºŒã€è§¦å‘BFCæ¡ä»¶</h2><ul><li><p>body æ ¹å…ƒç´ </p></li><li><p>æµ®åŠ¨å…ƒç´ ï¼šfloat é™¤ none ä»¥å¤–çš„å€¼</p><p><code>float:left;</code> å·¦æµ®åŠ¨ </p><p><code>float:right;</code>  å³æµ®åŠ¨</p><p><code>float:inherit;</code>  ç»§æ‰¿çˆ¶å…ƒç´ floatå±æ€§</p></li><li><p>ç»å¯¹å®šä½å…ƒç´ ï¼šposition (absoluteã€fixed)</p><p><code>position:absolute;</code> ç»å¯¹å®šä½ç›¸å¯¹äºstaticä»¥å¤–çš„ç¬¬ä¸€ä¸ªçˆ¶å…ƒç´  </p><p><code>position:fixed;</code>  ç›¸å¯¹æµè§ˆå™¨å®šä½</p></li><li><p>display ä¸º inline-blockã€table-cellsã€flex</p><p><code>dispaly:inline-block;</code> è¡Œå†…å—å…ƒç´  </p><p><code>display:table-cell;</code> æ­¤å…ƒç´ ä¼šä½œä¸ºä¸€ä¸ªè¡¨æ ¼å•å…ƒæ ¼æ˜¾ç¤º</p><p><code>display:flex;</code>  å¼¹æ€§å¸ƒå±€  </p></li><li><p>overflow é™¤äº† visible ä»¥å¤–çš„å€¼ (hiddenã€autoã€scroll)</p><p><code>overflow:hidden;</code> å†…å®¹ä¼šè¢«ä¿®å‰ªï¼Œå¹¶ä¸”å…¶ä½™å†…å®¹æ˜¯ä¸å¯è§çš„</p><p><code>overflow:scroll;</code> å†…å®¹ä¼šè¢«ä¿®å‰ªï¼Œä½†æ˜¯æµè§ˆå™¨ä¼šæ˜¾ç¤ºæ»šåŠ¨æ¡ä»¥ä¾¿æŸ¥çœ‹å…¶ä½™çš„å†…å®¹ã€‚</p><p><code>overflow:auto;</code> å¦‚æœå†…å®¹è¢«ä¿®å‰ªï¼Œåˆ™æµè§ˆå™¨ä¼šæ˜¾ç¤ºæ»šåŠ¨æ¡ä»¥ä¾¿æŸ¥çœ‹å…¶ä½™çš„å†…å®¹ã€‚</p><p><code>overflow:inherit;</code> è§„å®šåº”è¯¥ä»çˆ¶å…ƒç´ ç»§æ‰¿ overflow å±æ€§çš„å€¼ã€‚</p></li></ul><h2 id="ä¸‰ã€BFCè§£å†³çš„é—®é¢˜"><a href="#ä¸‰ã€BFCè§£å†³çš„é—®é¢˜" class="headerlink" title="ä¸‰ã€BFCè§£å†³çš„é—®é¢˜"></a>ä¸‰ã€BFCè§£å†³çš„é—®é¢˜</h2><h4 id="1-marginé‡åˆ"><a href="#1-marginé‡åˆ" class="headerlink" title="1.marginé‡åˆ"></a>1.marginé‡åˆ</h4><p>ä»£ç å¦‚ä¸‹:</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css"></span><br><span class="css">    <span class="hljs-selector-class">.box1</span> &#123;</span><br><span class="css">        <span class="hljs-attribute">width</span>: <span class="hljs-number">100px</span>;</span><br><span class="css">        <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;</span><br><span class="css">        <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">20px</span>;</span><br><span class="css">        <span class="hljs-attribute">background-color</span>: brown;</span><br><span class="css">    &#125;</span><br><span class="css">    <span class="hljs-selector-class">.box2</span> &#123;</span><br><span class="css">        <span class="hljs-attribute">width</span>: <span class="hljs-number">100px</span>;</span><br><span class="css">        <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;</span><br><span class="css">        <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">20px</span>;</span><br><span class="css">        <span class="hljs-attribute">background-color</span>: aqua;</span><br><span class="css">    &#125;</span><br><span class="css">    <span class="hljs-selector-class">.father</span>&#123;</span><br><span class="css">        <span class="hljs-comment">/* overflow: hidden; */</span></span><br><span class="css">    &#125;</span><br><span class="css"></span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;father&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;box1&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;father&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;box2&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br></code></pre></td></tr></table></figure><p>box1 ä¸ box2 ä¸­é—´å¹¶ä¸ä¼šé—´è· 40pxï¼Œè€Œæ˜¯20pxï¼ŒåŠ å…¥ BFC ä¹‹å box1 ä¸ box2 æ˜æ˜¾é—´éš” 40pxã€‚</p><p>å›¾1åŠ å…¥BFCä¹‹å‰ï¼Œå›¾2åŠ å…¥BFCä¹‹å</p><p><img src="/dylan/imgs/BFC/1.png" alt="å›¾1"><img src="/dylan/imgs/BFC/2.png" alt="å›¾2"></p><h4 id="2-marginå¡Œé™·"><a href="#2-marginå¡Œé™·" class="headerlink" title="2.marginå¡Œé™·"></a>2.marginå¡Œé™·</h4><p>ä»£ç å¦‚ä¸‹:</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css"></span><br><span class="css">    <span class="hljs-selector-class">.box1</span> &#123;</span><br><span class="css">        <span class="hljs-attribute">width</span>: <span class="hljs-number">50px</span>;</span><br><span class="css">        <span class="hljs-attribute">height</span>: <span class="hljs-number">50px</span>;</span><br><span class="css">        <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">50px</span>;</span><br><span class="css">        <span class="hljs-attribute">background-color</span>: brown;</span><br><span class="css">    &#125;</span><br><span class="css">    <span class="hljs-selector-class">.father</span>&#123;</span><br><span class="css">        <span class="hljs-attribute">width</span>: <span class="hljs-number">100px</span>;</span><br><span class="css">        <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;</span><br><span class="css">        <span class="hljs-attribute">background-color</span>: coral;</span><br><span class="css">        <span class="hljs-comment">/* overflow: hidden; */</span></span><br><span class="css">    &#125;</span><br><span class="css"></span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;father&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;box1&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br></code></pre></td></tr></table></figure><p>ç»™çš„æ˜¯box1 <code>margin-top:50px</code> è€Œ father å—åˆ°äº†box1 <code>margin-top:50px</code> çš„å½±å“ï¼Œä¹Ÿå‘ä¸‹åç§»ï¼Œç»™fatheræ’¤é”€ overflow æ³¨é‡Šåï¼Œfather ä½ç½®ä¸å˜ï¼Œbox1 å‘ä¸‹ç§»50pxã€‚</p><p>å›¾3åŠ å…¥BFCä¹‹å‰ï¼Œå›¾4åŠ å…¥BFCä¹‹å</p><p><img src="/dylan/imgs/BFC/3.png" alt="å›¾3"><img src="/dylan/imgs/BFC/4.png" alt="å›¾4"></p><h4 id="3-é«˜åº¦åå¡Œ"><a href="#3-é«˜åº¦åå¡Œ" class="headerlink" title="3.é«˜åº¦åå¡Œ"></a>3.é«˜åº¦åå¡Œ</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css"></span><br><span class="css">    <span class="hljs-selector-class">.box1</span> &#123;</span><br><span class="css">        <span class="hljs-attribute">width</span>: <span class="hljs-number">100px</span>;</span><br><span class="css">        <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;</span><br><span class="css">        <span class="hljs-comment">/* background-color: brown; */</span></span><br><span class="css">        <span class="hljs-attribute">float</span>: left;</span><br><span class="css">    &#125;</span><br><span class="css">    <span class="hljs-selector-class">.father</span>&#123;</span><br><span class="css">        <span class="hljs-attribute">width</span>: <span class="hljs-number">100px</span>;</span><br><span class="css">        <span class="hljs-attribute">background-color</span>: coral;</span><br><span class="css">        <span class="hljs-comment">/* overflow: hidden; */</span></span><br><span class="css">        <span class="hljs-attribute">border</span>: <span class="hljs-number">2px</span> solid black;</span><br><span class="css">    &#125;</span><br><span class="css"></span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;father&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;box1&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br></code></pre></td></tr></table></figure><p>çˆ¶å…ƒç´ æ²¡æœ‰è®¾ç½®é«˜åº¦ï¼Œè€Œ box1 ä¾æ—§å­˜åœ¨ä¸ father æ ‡ç­¾é‡Œé¢ï¼Œå¯çœ‹ä¸è§çˆ¶å…ƒç´ çš„èƒŒæ™¯è‰²ï¼Œè¯´æ˜çˆ¶å…ƒç´ çš„é«˜åº¦å—å­å…ƒç´ çš„å½±å“ã€‚</p><p>å›¾5åŠ å…¥ BFC ä¹‹å‰ï¼Œå›¾6åŠ å…¥ BFC ä¹‹å</p><p><img src="/dylan/imgs/BFC/5.png" alt="å›¾5"><img src="/dylan/imgs/BFC/6.png" alt="å›¾6"></p>]]></content>
    
    
    <categories>
      
      <category>å­¦ä¹ ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>CSS</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hexo-Fluidåšå®¢æ­å»º</title>
    <link href="/dylan/2021/11/03/createBlog/"/>
    <url>/dylan/2021/11/03/createBlog/</url>
    
    <content type="html"><![CDATA[<p class="note note-info">å¤§å­¦è¿˜æ²¡æ¯•ä¸šå°±å¾ˆå–œæ¬¢ Hexo çš„ Fluid ä¸»é¢˜ï¼Œé‚£æ—¶å€™å®ä¹ å…¬å¸é¡¹ç›®ç”¨çš„ React+TSï¼Œæƒ³ç€ç”¨ React å†™ä¸€ä¸ªï¼Œä¸ºäº†æ­åšå®¢è‡ªå·±è¿˜å»å­¦äº† express ï¼ˆå½“æ—¶èœçš„ä¸€æ‰¹ï¼Œå•¥éƒ½å­˜æ•°æ®åº“ï¼‰ï¼Œç…§ç€ Fluid çš„ UI å†™äº†ä¸ªåšå®¢ç³»ç»Ÿï¼Œåæ¥æœåŠ¡å™¨è¿‡æœŸäº†ï¼Œè¿™å‡ å¤©æƒ³ç€ç”¨ github éƒ¨ç½²ä¸‹ï¼Œç°åœ¨æ–‡ç« ç”¨ markdown å†™äº†ã€‚</p><p>è¿™é‡Œè®°å½•ä¸‹æˆ‘æ­åšå®¢çš„è¿‡ç¨‹ã€‚</p><p>å‡†å¤‡å·¥ä½œï¼š</p><p>ï¼ˆ1ï¼‰github ä»“åº“ï¼Œï¼ˆ2ï¼‰node ç¯å¢ƒï¼Œï¼ˆ3ï¼‰ hexo å®‰è£…</p><p>github ä»“åº“å’Œ node ç¯å¢ƒä¸åšä»‹ç»</p><p>hexo å®‰è£…å‘½ä»¤ä¸ºï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">npm install -g hexo-cli<br></code></pre></td></tr></table></figure><p>hexo åˆå§‹åŒ–å‘½ä»¤ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">hexo init myblog<br></code></pre></td></tr></table></figure><p>åšå®¢åˆå§‹åŒ–ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs javascript">cd myblog<span class="hljs-comment">//è¿›å…¥myblogæ–‡ä»¶å¤¹</span><br>npm i<br></code></pre></td></tr></table></figure><h2 id="ä¸€ã€åšå®¢æ­å»º"><a href="#ä¸€ã€åšå®¢æ­å»º" class="headerlink" title="ä¸€ã€åšå®¢æ­å»º"></a>ä¸€ã€åšå®¢æ­å»º</h2><h3 id="1-é€‰æ‹©ä¸»é¢˜"><a href="#1-é€‰æ‹©ä¸»é¢˜" class="headerlink" title="1.é€‰æ‹©ä¸»é¢˜"></a>1.é€‰æ‹©ä¸»é¢˜</h3><p>hexo å®˜ç½‘æœ‰å¾ˆå¤šä¸»é¢˜ï¼Œæˆ‘ä¸»è¦ä»¥ Fluid ä¸ºä¾‹ï¼Œæ¯ä¸ªä¸»é¢˜ github ä¸Šéƒ½æœ‰æè¿°æ–‡æ¡£ï¼Œå»ºè®®ç¿»å¢™è¿› github ï¼ˆå®˜ç½‘è€å´©ï¼‰ï¼ŒFluid ï¼š<a href="https://github.com/fluid-dev/hexo-theme-fluid">https://github.com/fluid-dev/hexo-theme-fluid</a></p><p>ç…§ç€æè¿°æ–‡æ¡£ä¸€æ­¥ä¸€æ­¥é…ç½®ä¸»é¢˜ï¼Œæˆ‘æ˜¯ä¸‹è½½çš„æ–‡ä»¶å¯¼å…¥ï¼ˆå®˜ç½‘å»ºè®®npmç›´æ¥å®‰è£…ï¼‰ï¼Œé‡ç‚¹äºä½ çš„ themes æ–‡ä»¶å¤¹ä¸‹éœ€è¦æœ‰ fluid æ–‡ä»¶å¤¹</p><p><img src="/dylan/imgs/createBlog/2021-11-3-1.png"></p><p>åœ¨æ ¹ç›®å½•æ–‡ä»¶ä¸‹<code>_config.yml</code>ï¼Œä¸æ˜¯ fluid æ–‡ä»¶å¤¹é‡Œçš„ï¼Œä¿®æ”¹ä¸»é¢˜é…ç½®ï¼š</p><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs avrasm"><span class="hljs-symbol">theme:</span> fluid  <span class="hljs-meta"># æŒ‡å®šä¸»é¢˜</span><br></code></pre></td></tr></table></figure><p>ä¹‹åä½¿ç”¨ hexo å‘½ä»¤ç”Ÿæˆé™æ€æ–‡ä»¶ï¼Œå¯åŠ¨</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-attribute">hexo</span> g<span class="hljs-comment"># ç”Ÿæˆé™æ€æ–‡ä»¶ï¼Œä½ å‘ç°æ–‡ä»¶å¤¹å¤šäº†publicæ–‡ä»¶</span><br>hexo s<span class="hljs-comment"># ä¸å‡ºæ„å¤– localhost:4000 å¯ä»¥æµè§ˆä½ çš„åšå®¢äº†</span><br></code></pre></td></tr></table></figure><h3 id="2-ä¸»é¢˜é…ç½®"><a href="#2-ä¸»é¢˜é…ç½®" class="headerlink" title="2.ä¸»é¢˜é…ç½®"></a>2.ä¸»é¢˜é…ç½®</h3><p>è¿™æ—¶ä½ å°±éœ€è¦è¿›å…¥ fluid æ–‡ä»¶å¤¹é‡Œçš„ <code>_config.yml</code> äº†ï¼Œä½ ä¼šå‘ç°é‡Œé¢ä¸€å¤§å †æ³¨é‡Šæ•™ä½ æ€ä¹ˆé…ç½®ä¸»é¢˜ï¼Œä¸»è¦æ˜¯ç•™è¨€æ¿å’Œæµè§ˆé‡é…ç½®æ¯”è¾ƒç»•ï¼Œè¿™ç•™è¨€æ¿æˆ‘é€‰çš„æ˜¯ <a href="https://valine.js.org/">valine</a> ï¼Œæµè§ˆé‡æ˜¯ <a href="https://console.leancloud.cn/apps">leancloud</a> ï¼Œä¸¤ä¸ªéƒ½æ˜¯fluidå†…ç½®çš„ã€‚</p><p>(1)ç•™è¨€æ¿ï¼š</p><p>å¼€å¯è¯„è®ºæ’ä»¶ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">comments:</span><br><span class="hljs-attr">enable:</span> <span class="hljs-literal">true</span><br><span class="hljs-attr">type:</span> <span class="hljs-string">valine</span><br></code></pre></td></tr></table></figure><p>valineé…ç½®ï¼š</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs dts"><span class="hljs-symbol">valine:</span><br><span class="hljs-symbol">appId:</span><span class="hljs-meta"># ä½ leancloudæ³¨å†Œå®Œï¼Œåœ¨è®¾ç½®-&gt;åº”ç”¨å‡­è¯</span><br><span class="hljs-symbol">appKey:</span><span class="hljs-meta"># åŒä¸Š</span><br></code></pre></td></tr></table></figure><p><img src="/dylan/imgs/createBlog/2021-11-3-2.png"></p><p>å¼€å¯æµè§ˆé‡ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">statistics:<br><span class="hljs-built_in">enable</span>: <span class="hljs-literal">true</span><br><span class="hljs-built_in">source</span>: <span class="hljs-string">&quot;leancloud&quot;</span><br></code></pre></td></tr></table></figure><p>leancloudé…ç½®:</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs dts"><span class="hljs-symbol">leancloud:</span><br><span class="hljs-symbol">    app_id:</span> <span class="hljs-comment">//åŒä¸Š</span><br><span class="hljs-symbol">    app_key:</span> <span class="hljs-comment">//åŒä¸Š</span><br></code></pre></td></tr></table></figure><p>å‰©ä¸‹çš„å›¾ç‰‡ï¼Œæ–‡å­—é…ç½®éƒ½å¾ˆç®€å•</p><h2 id="äºŒã€åšå®¢éƒ¨ç½²"><a href="#äºŒã€åšå®¢éƒ¨ç½²" class="headerlink" title="äºŒã€åšå®¢éƒ¨ç½²"></a>äºŒã€åšå®¢éƒ¨ç½²</h2><h3 id="1-github-PagesåŸŸå"><a href="#1-github-PagesåŸŸå" class="headerlink" title="1.github PagesåŸŸå"></a>1.github PagesåŸŸå</h3><p>github ä»“åº“çš„åˆ›å»ºç½‘ä¸Šä¸€å¤§æ¨ï¼Œé¡ºä¾¿ç»™ä¸ª <a href="https://wiki.jikexueyuan.com/project/github-basics/creat-new-repo.html">https://wiki.jikexueyuan.com/project/github-basics/creat-new-repo.html</a></p><p>ä½ å¯ä»¥åˆ›å»ºå¥½ä»“åº“ä¸ç”¨å…³è”ä½ çš„æœ¬åœ°æ–‡ä»¶ï¼Œä¸è¿‡ <a href="https://blog.csdn.net/qq_36667170/article/details/79094257">SSH</a> éœ€è¦é…ç½®å¥½</p><p>è¿›å…¥ä½ çš„ github ä»“åº“ -&gt; settings  -&gt; GitHub Pages </p><p><img src="/dylan/imgs/createBlog/2021-11-3-3.png"></p><p>ä¸€å¼€å§‹æˆ‘ä»¥ä¸ºåªèƒ½éƒ¨ç½²ä¸€ä¸ªé¡¹ç›®ï¼Œå› ä¸ºæ¯ä¸ªäººçš„ github è´¦å·çš„çš„æ ¹ç›®å½•éƒ½æ˜¯: xxx.github.ioï¼Œåæ¥æˆ‘å‘ç°åªéœ€è¦åœ¨åŸŸååè¾¹åŠ ä¸€ä¸ªè·¯ç”±å°±è¡Œï¼Œæ¯”å¦‚æˆ‘çš„ï¼šxxx.github.io/dylan </p><h3 id="2-éƒ¨ç½²"><a href="#2-éƒ¨ç½²" class="headerlink" title="2.éƒ¨ç½²"></a>2.éƒ¨ç½²</h3><p>è¿›å…¥æ ¹ç›®å½•æ–‡ä»¶ä¸‹çš„ <code>_config.yml</code> ï¼Œå†æé†’ä¸€æ¬¡ï¼Œä¸æ˜¯ fluid ï¼Œæ˜¯æ ¹ç›®å½•ï¼</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs dts"><span class="hljs-symbol">deploy:</span><br><span class="hljs-symbol">  type:</span> git<br><span class="hljs-symbol">  repo:</span> https:<span class="hljs-comment">//github.com/sansui-d/dylan.git</span><br><span class="hljs-symbol">  branch:</span> master<br></code></pre></td></tr></table></figure><p>åˆ«å¿˜è®°äº† <code>.git</code> ï¼Œä¹‹åå®‰è£…éƒ¨ç½²å‘½ä»¤ deploy-git </p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ada">npm install hexo-deployer-git <span class="hljs-comment">--save</span><br></code></pre></td></tr></table></figure><p>ç„¶å</p><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs verilog">hexo clean<br>hexo <span class="hljs-keyword">generate</span><span class="hljs-comment">//ç®€å†™ hexo g</span><br>hexo deploy<span class="hljs-comment">//ç®€å†™ hexo d</span><br></code></pre></td></tr></table></figure><p>å®Œæˆä¹‹åï¼Œä½ çš„åšå®¢å°±å¯ä»¥ç”¨ github Pages æ‰“å¼€äº†</p><h2 id="ä¸‰ã€æœ€å"><a href="#ä¸‰ã€æœ€å" class="headerlink" title="ä¸‰ã€æœ€å"></a>ä¸‰ã€æœ€å</h2><p>åšå®¢æ­å¥½äº†å½“ç„¶å°±è¯¥å†™åšå®¢å•¦</p><figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs excel">hexo <span class="hljs-built_in">n</span> <span class="hljs-string">&quot;æˆ‘çš„ç¬¬ä¸€ä¸ªåšå®¢&quot;</span><br></code></pre></td></tr></table></figure><p>æ‰¾åˆ°ä½ çš„ <code>æˆ‘çš„ç¬¬ä¸€ä¸ªåšå®¢.md</code> æ–‡ä»¶å¼€å§‹å·å§ï¼Œæ¨èä¸€æ¬¾ markdown ç¼–å†™å·¥å…· <a href="https://www.typora.io/">Typora</a></p>]]></content>
    
    
    <categories>
      
      <category>å®ç”¨æŠ€å·§</category>
      
    </categories>
    
    
    <tags>
      
      <tag>éƒ¨ç½²</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
