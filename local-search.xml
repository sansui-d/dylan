<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>httpå¸¸ç”¨çŠ¶æ€ç </title>
    <link href="/dylan/2021/12/10/http/"/>
    <url>/dylan/2021/12/10/http/</url>
    
    <content type="html"><![CDATA[<h2 id="ç±»åˆ«"><a href="#ç±»åˆ«" class="headerlink" title="ç±»åˆ«"></a>ç±»åˆ«</h2><p>1xxï¼Œä¿¡æ¯æ€§çŠ¶æ€ç ï¼Œæ¥å—çš„è¯·æ±‚æ­£åœ¨å¤„ç†ã€‚</p><p>2xxï¼ŒæˆåŠŸçŠ¶æ€ç ï¼Œè¯·æ±‚æ­£å¸¸å¤„ç†å®Œæ¯•ã€‚</p><p>3xxï¼Œé‡å®šå‘ï¼Œéœ€è¦è¿›è¡Œé™„åŠ æ“ä½œä»¥å®Œæˆè¯·æ±‚ã€‚</p><p>4xxï¼Œå®¢æˆ·ç«¯é”™è¯¯ï¼Œå®¢æˆ·ç«¯è¯·æ±‚å‡ºé”™ï¼ŒæœåŠ¡å™¨æ— æ³•å¤„ç†è¯·æ±‚ã€‚</p><p>5xxï¼ŒæœåŠ¡å™¨é”™è¯¯ï¼ŒæœåŠ¡å™¨å¤„ç†è¯·æ±‚å‡ºé”™ã€‚</p><h2 id="2xx"><a href="#2xx" class="headerlink" title="2xx"></a>2xx</h2><p>200ï¼šè¯·æ±‚æˆåŠŸï¼Œè¡¨æ˜æœåŠ¡å™¨æˆåŠŸå¤„ç†äº†è¯·æ±‚ã€‚</p><p>201ï¼šä½œä¸º http post è¯·æ±‚çš„ç»“æœï¼Œå·²åœ¨æœåŠ¡å™¨ä¸ŠæˆåŠŸåˆ›å»ºäº†ä¸€ä¸ªæˆ–å¤šä¸ªæ–°èµ„æºã€‚</p><p>202ï¼šæœåŠ¡å™¨å·²æ¥æ”¶è¯·æ±‚ï¼Œä½†å°šæœªå¤„ç†ã€‚é€šå¸¸ç”¨äºè¿˜æœ‰å¼‚æ­¥ä»»åŠ¡éœ€è¦æ‰§è¡Œçš„æƒ…å†µï¼Œå…ˆè¿”å›202ã€‚</p><p>204ï¼šæœåŠ¡å™¨æˆåŠŸå¤„ç†äº†è¯·æ±‚ï¼Œä½†æ²¡æœ‰è¿”å›ä»»ä½•å†…å®¹ã€‚</p><p>206ï¼šè¡¨ç¤ºå®¢æˆ·ç«¯è¿›è¡Œäº†èŒƒå›´è¯·æ±‚ï¼Œå¹¶ä¸”æœåŠ¡å™¨æˆåŠŸæ‰§è¡Œäº†è¿™éƒ¨åˆ†çš„getè¯·æ±‚ã€‚</p><h2 id="3xx"><a href="#3xx" class="headerlink" title="3xx"></a>3xx</h2><p>300ï¼šé’ˆå¯¹è¯·æ±‚ï¼ŒæœåŠ¡å™¨å¯æ‰§è¡Œå¤šç§æ“ä½œã€‚</p><p>301ï¼šæ°¸ä¹…é‡å®šå‘ã€‚</p><p>302ï¼šä¸´æ—¶é‡å®šå‘ã€‚</p><p>303:303ä¸302çŠ¶æ€ç æœ‰ç€ç›¸åŒçš„åŠŸèƒ½ï¼Œä½†303çŠ¶æ€ç æ˜ç¡®è¡¨ç¤ºå®¢æˆ·ç«¯åº”å½“é‡‡ç”¨getæ–¹æ³•è·å–èµ„æºã€‚å¸¸ç”¨äºå°†postè¯·æ±‚é‡å®šå‘åˆ°getè¯·æ±‚ï¼Œæ¯”å¦‚ä½ ä¸Šä¼ äº†ä¸€ä»½ä¸ªäººä¿¡æ¯ï¼ŒæœåŠ¡å™¨å›å‘ä¸€ä¸ª303å“åº”ï¼Œå°†ä½ å¯¼å‘ä¸€ä¸ªâ€œä¸Šä¼ æˆåŠŸâ€é¡µé¢ã€‚</p><h2 id="301å’Œ302çš„åŒºåˆ«"><a href="#301å’Œ302çš„åŒºåˆ«" class="headerlink" title="301å’Œ302çš„åŒºåˆ«"></a>301å’Œ302çš„åŒºåˆ«</h2><p>301æ¯”è¾ƒå¸¸ç”¨çš„åœºæ™¯æ˜¯ä½¿ç”¨åŸŸåè·³è½¬ã€‚æ¯”å¦‚ï¼Œè®¿é—® <a href="http://www.baidu.com/">http://www.baidu.com</a> ä¼šè·³è½¬åˆ° <a href="https://www.baidu.com./">https://www.baidu.comã€‚</a></p><p>302ç”¨æ¥åšä¸´æ—¶è·³ï¼Œæ¯”å¦‚æœªç™»å½•çš„ç”¨æˆ·è®¿é—®ç”¨æˆ·ä¸­å¿ƒé‡å®šå‘åˆ°ç™»å½•é¡µé¢ã€‚</p><h2 id="302å’Œ307çš„åŒºåˆ«"><a href="#302å’Œ307çš„åŒºåˆ«" class="headerlink" title="302å’Œ307çš„åŒºåˆ«"></a>302å’Œ307çš„åŒºåˆ«</h2><p>ç”±äºå†å²çš„åŸå› ï¼Œç”¨æˆ·ä»£ç†å¯èƒ½ä¼šåœ¨é‡å®šå‘åçš„è¯·æ±‚ä¸­æŠŠpostæ–¹æ³•æ”¹ä¸ºgetæ–¹æ³•ï¼Œå¦‚æœä¸æƒ³è¿™æ ·ï¼Œåº”è¯¥ä½¿ç”¨307çŠ¶æ€ç ã€‚</p><h2 id="301å’Œ308çš„åŒºåˆ«"><a href="#301å’Œ308çš„åŒºåˆ«" class="headerlink" title="301å’Œ308çš„åŒºåˆ«"></a>301å’Œ308çš„åŒºåˆ«</h2><p>308çŠ¶æ€ç ä¸å…è®¸æµè§ˆå™¨å°†åŸæœ¬ä¸ºpostçš„è¯·æ±‚é‡å®šå‘åˆ°getè¯·æ±‚ä¸Šã€‚</p><h2 id="4xx"><a href="#4xx" class="headerlink" title="4xx"></a>4xx</h2><p>400ï¼šè¯¥çŠ¶æ€ç è¡¨ç¤ºè¯·æ±‚æ–‡ä¸­å­˜åœ¨é”™è¯¯ã€‚ä½†æµè§ˆå™¨ä¼šåƒ200ä¸€æ ·å¯¹å¾…è¯¥çŠ¶æ€ç ã€‚</p><p>401ï¼šè¡¨ç¤ºå‘é€çš„è¯·æ±‚éœ€è¦æœ‰é€šè¿‡HTTPè®¤è¯çš„è®¤è¯ä¿¡æ¯ï¼Œæ¯”å¦‚tokenå¤±æ•ˆå°±ä¼šå‡ºç°è¿™ä¸ªé—®é¢˜ã€‚</p><p>403ï¼šè¢«æ‹’ç»ï¼Œè¡¨æ˜å¯¹è¯·æ±‚èµ„æºçš„è®¿é—®è¢«æœåŠ¡å™¨æ‹’ç»äº†ã€‚æ²¡æœ‰æƒé™çš„é—®é¢˜ã€‚</p><p>404ï¼šæ‰¾ä¸åˆ°ï¼Œè¡¨æ˜æœåŠ¡å™¨ä¸Šæ— æ³•æ‰¾åˆ°è¯·æ±‚çš„èµ„æºï¼Œä¹Ÿå¯èƒ½æ˜¯æ‹’ç»è¯·æ±‚ä½†ä¸æƒ³è¯´æ˜åŸå› ã€‚</p><p>409ï¼šè¡¨ç¤ºå› ä¸ºè¯·æ±‚å­˜åœ¨å†²çªæ— æ³•å¤„ç†è¯¥è¯·æ±‚ï¼Œä¾‹å¦‚å¤šä¸ªåŒæ­¥æ›´æ–°ä¹‹é—´çš„ç¼–è¾‘å†²çªã€‚</p><p>415ï¼šè¯·æ±‚èµ„æºç±»å‹ content-type ä¸æ”¯æŒã€‚</p><p>418ï¼šåœ¨é¡¹ç›®ä¸­ç”¨ä½œå½©è›‹ã€‚</p><p>422ï¼šè¯­æ³•æ­£ç¡®ï¼Œæœ‰è¯­ä¹‰é”™è¯¯ã€‚ç”¨æˆ·åå¯†ç é”™è¯¯ï¼ŒéªŒè¯ç é”™è¯¯ç­‰ã€‚</p><p>429ï¼šç”¨æˆ·åœ¨ç»™å®šçš„æ—¶é—´å†…å‘é€äº†å¤ªå¤šçš„è¯·æ±‚ã€‚çš†åœ¨ç”¨äºç½‘ç»œé™é€Ÿã€‚</p><h2 id="5xx"><a href="#5xx" class="headerlink" title="5xx"></a>5xx</h2><p>500ï¼šæœåŠ¡å™¨æœ¬èº«å‘ç”Ÿé”™è¯¯ï¼Œå¯èƒ½æ˜¯webåº”ç”¨å­˜åœ¨çš„bugæˆ–æŸäº›ä¸´æ—¶çš„æ•…éšœã€‚</p><p>502ï¼šé€šå¸¸æ„å‘³ç€ä¸€ä¸¤ä¸ªæœºå™¨å·²ç»ä¸æ­£ç¡®ï¼Œç®€å•ç‚¹è¯´ï¼Œå°±æ˜¯æœºå™¨æŒ‚æ‰äº†ã€‚æ‰§è¡Œè¯·æ±‚çš„æ—¶å€™ï¼Œå´æ”¶åˆ°äº†ä¸Šæ¸¸æœåŠ¡å™¨çš„æ— æ•ˆç›¸åº”ã€‚</p><p>503ï¼šæœåŠ¡å™¨ç›®å‰æ— æ³•ä½¿ç”¨ï¼Œä¸´æ—¶æ€§çš„æœåŠ¡å™¨ç»´æŠ¤/è¿‡è½½ã€‚é€šå¸¸åˆ·æ–°å®¢æˆ·ç«¯ä¾¿å¥½ã€‚</p><p>504ï¼šè¯·æ±‚è¶…æ—¶ã€‚</p><h2 id="502å’Œ504çš„åŒºåˆ«"><a href="#502å’Œ504çš„åŒºåˆ«" class="headerlink" title="502å’Œ504çš„åŒºåˆ«"></a>502å’Œ504çš„åŒºåˆ«</h2><p>503è¡¨ç¤ºç½‘å…³å¯ç”¨ï¼Œä½†æ˜¯è¯·æ±‚è¶…æ—¶ã€‚</p><p>502è¡¨ç¤ºæ²¡æœ‰å¯ç”¨çš„ç½‘å…³ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>å­¦ä¹ ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>HTTP</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>äº‹ä»¶æµã€äº‹ä»¶æ•è·ã€äº‹ä»¶å†’æ³¡ã€äº‹ä»¶å§”æ‰˜æˆ–äº‹ä»¶ä»£ç†</title>
    <link href="/dylan/2021/12/03/event/"/>
    <url>/dylan/2021/12/03/event/</url>
    
    <content type="html"><![CDATA[<h2 id="äº‹ä»¶æµ"><a href="#äº‹ä»¶æµ" class="headerlink" title="äº‹ä»¶æµ"></a>äº‹ä»¶æµ</h2><p>äº‹ä»¶æµåˆ†ä¸ºä¸‰ä¸ªé˜¶æ®µï¼šæ•è·é˜¶æ®µã€ç›®æ ‡é˜¶æ®µã€å†’æ³¡é˜¶æ®µ</p><p>æ•è·é˜¶æ®µï¼šä»æœ€å¤–å±‚ä¸€å±‚ä¸€å±‚åˆ°ç›®æ ‡</p><p>ç›®æ ‡é˜¶æ®µï¼šæ‰§è¡Œç›®æ ‡çš„äº‹ä»¶</p><p>å†’æ³¡é˜¶æ®µï¼šä»ç›®æ ‡ä¸€å±‚ä¸€å±‚åˆ°æœ€å¤–å±‚</p><p>äº‹ä»¶å‡½æ•°çš„æ‰§è¡Œé»˜è®¤éƒ½æ˜¯åœ¨å†’æ³¡é˜¶æ®µæ‰§è¡Œ</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;style&gt;<br>    #a &#123;<br>        <span class="hljs-attr">width</span>: 300px;<br>        height: 300px;<br>        background-color: black;<br>    &#125;<br><br>    #b &#123;<br>        <span class="hljs-attr">width</span>: 200px;<br>        height: 200px;<br>        background-color: blue;<br>    &#125;<br><br>    #c &#123;<br>        <span class="hljs-attr">width</span>: 100px;<br>        height: 100px;<br>        background-color: red;<br>    &#125;<br>&lt;/style&gt;<br><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span></span><br><span class="xml">    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;a&quot;</span>&gt;</span></span><br><span class="xml">        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;b&quot;</span>&gt;</span></span><br><span class="xml">            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;c&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="javascript"><span class="xml">a.addEventListener(<span class="hljs-string">&#x27;click&#x27;</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;</span></span><br><span class="javascript"><span class="xml">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;a&#x27;</span>)</span></span><br><span class="javascript"><span class="xml">&#125;)</span></span><br><span class="javascript"><span class="xml">b.addEventListener(<span class="hljs-string">&#x27;click&#x27;</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;</span></span><br><span class="javascript"><span class="xml">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;b&#x27;</span>)</span></span><br><span class="javascript"><span class="xml">&#125;)</span></span><br><span class="javascript"><span class="xml">c.addEventListener(<span class="hljs-string">&#x27;click&#x27;</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;</span></span><br><span class="javascript"><span class="xml">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;c&#x27;</span>)</span></span><br><span class="javascript"><span class="xml">&#125;)</span></span><br><span class="javascript"><span class="xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></code></pre></td></tr></table></figure><blockquote><p>ç‚¹å‡»çº¢è‰²æ–¹å—(cå…ƒç´ )ï¼Œæ‰“å°é¡ºåºä¸º cba</p></blockquote><p>è¯´æ˜äº‹ä»¶å‡½æ•°çš„æ‰§è¡Œæ˜¯åœ¨å†’æ³¡é˜¶æ®µæ‰§è¡Œï¼Œç»™ addEventListener ç¬¬ä¸‰ä¸ªå‚æ•°è®¾ä¸º true æ—¶ã€‚</p><blockquote><p>ç‚¹å‡»çº¢è‰²æ–¹å—(cå…ƒç´ )ï¼Œæ‰“å°é¡ºåºä¸ºabc</p></blockquote><p>è¯´æ˜äº‹ä»¶å‡½æ•°çš„æ‰§è¡Œåœ¨æ•è·é˜¶æ®µã€‚</p><h2 id="äº‹ä»¶å§”æ‰˜"><a href="#äº‹ä»¶å§”æ‰˜" class="headerlink" title="äº‹ä»¶å§”æ‰˜"></a>äº‹ä»¶å§”æ‰˜</h2><p>é¡¾åæ€ä¹‰ï¼Œå°†å­çº§çš„äº‹ä»¶å§”æ‰˜ç»™çˆ¶çº§å®Œæˆï¼Œé€šè¿‡ e.target å®ç°</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript">a.addEventListener(<span class="hljs-string">&#x27;click&#x27;</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>&#123;<br>    <span class="hljs-keyword">let</span> e = e || event<br>    <span class="hljs-keyword">let</span> target = e.target || e.srcElement<br>    <span class="hljs-built_in">console</span>.log(target)<br>&#125;)<br></code></pre></td></tr></table></figure><blockquote><p>ç‚¹å‡»çº¢è‰²æ–¹å—(cå…ƒç´ )ï¼Œæ‰“å°ç»“æœæ˜¯ c çš„ dom å¯¹è±¡</p></blockquote><p>ä»£ç ä¸­å¹¶æœªç»™å…ƒç´ cç»‘å®šäº‹ä»¶å‡½æ•°ï¼Œè€Œæ‰“å°å‡ºäº† c çš„ dom å¯¹è±¡ï¼Œè¯´æ˜ c çš„äº‹ä»¶å§”æ‰˜ç»™äº† a </p><h2 id="å–æ¶ˆå†’æ³¡"><a href="#å–æ¶ˆå†’æ³¡" class="headerlink" title="å–æ¶ˆå†’æ³¡"></a>å–æ¶ˆå†’æ³¡</h2><p>bubblesï¼ševent çš„å†’æ³¡å±æ€§ï¼Œé»˜è®¤ä¸º trueã€‚</p><p>stopPropagationï¼šå–æ¶ˆäº‹ä»¶å†’æ³¡å’Œå§”æ‰˜å‡½æ•°çš„æ‰§è¡Œã€‚</p><p>stopImmediatePropagationï¼šå–æ¶ˆäº‹ä»¶å†’æ³¡å’Œå§”æ‰˜å‡½æ•°çš„æ‰§è¡Œï¼Œå¹¶ä¸­æ–­åŒä¸€äº‹ä»¶å‡½æ•°çš„æ‰§è¡Œï¼ˆæ¯”å¦‚åœ¨ a å…ƒç´ çš„ç¬¬ä¸€ä¸ªç‚¹å‡»äº‹ä»¶æ‰§è¡Œ e.stopImmediatePropagation() ï¼Œåˆ™ a å…ƒç´ çš„ç¬¬äºŒä¸ªç‚¹å‡»äº‹ä»¶ä¸ä¼šæ‰§è¡Œï¼‰</p><p>cancelBubble: e.cancelBubble = true å–æ¶ˆäº‹ä»¶å†’æ³¡</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs javascript">a.addEventListener(<span class="hljs-string">&#x27;click&#x27;</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>&#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;a&#x27;</span>)<br>&#125;)<br>b.addEventListener(<span class="hljs-string">&#x27;click&#x27;</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>&#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;b&#x27;</span>)<br>&#125;)<br>c.addEventListener(<span class="hljs-string">&#x27;click&#x27;</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>&#123;<br>    <span class="hljs-built_in">console</span>.log(e.bubbles)<br>    e.stopPropagation() <span class="hljs-comment">//æˆ–è€… e.cancelbubbles = true</span><br> e.stopImmediatePropagation()<br>&#125;)<br>c.addEventListener(<span class="hljs-string">&#x27;click&#x27;</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>&#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;c&#x27;</span>)<br>&#125;)<br></code></pre></td></tr></table></figure><blockquote><p>ç‚¹å‡»çº¢è‰²æ–¹å—(cå…ƒç´ )ï¼Œåªä¼šè¾“å‡º true</p></blockquote>]]></content>
    
    
    <categories>
      
      <category>å­¦ä¹ ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>JavaScript</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä½¿ç”¨Object.prototype.toStringå®ç°myTypeof</title>
    <link href="/dylan/2021/11/26/typeof/"/>
    <url>/dylan/2021/11/26/typeof/</url>
    
    <content type="html"><![CDATA[<h2 id="toString-NaN"><a href="#toString-NaN" class="headerlink" title="toString"></a>toString</h2><p>é™¤äº† nullã€undefined ä¸èƒ½ä½¿ç”¨ toString æ–¹æ³•å¤–ï¼Œå…¶ä»–æ•°æ®ç±»å‹éƒ½å¯ä»¥ä½¿ç”¨ toString æ–¹æ³•ï¼Œå®é™…ä¸Šï¼Œè¿™ä¸ª toString æ–¹æ³•æ˜¯å½“å‰å¼•ç”¨å¯¹è±¡çš„æ–¹æ³•ï¼Œå°†ä¼ å…¥ toString çš„å‚æ•°è½¬ä¸º string ç±»å‹å¹¶è¿”å›</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;123&#x27;</span>.toString())   <span class="hljs-comment">//123</span><br><span class="hljs-built_in">console</span>.log((<span class="hljs-number">123</span>).toString())   <span class="hljs-comment">//123 ä¸åŠ æ‹¬å·æŠ¥é”™ï¼ŒåŠ æ‹¬å·æ˜¯ä¸ºäº†æ±‚å€¼ï¼Ÿ</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>().toString())  <span class="hljs-comment">//å½“å‰æ—¶é—´</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>().toString())    <span class="hljs-comment">///(?:)/</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;&#125;.toString())    <span class="hljs-comment">//function()&#123;&#125;</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-literal">false</span>.toString())   <span class="hljs-comment">//false</span><br><span class="hljs-built_in">console</span>.log(&#123;<span class="hljs-number">1</span>:<span class="hljs-number">1</span>&#125;.toString())   <span class="hljs-comment">//[object Object]</span><br></code></pre></td></tr></table></figure><p>æˆ‘çš„ç†è§£ï¼šæ ¹æ®æœ€åä¸€æ¡è¾“å‡ºç»“æœåˆ¤å®šï¼ŒtoString æ–¹æ³•æ¥è‡ª Object åŸå‹</p><h2 id="Object-prototype-toString"><a href="#Object-prototype-toString" class="headerlink" title="Object.prototype.toString"></a>Object.prototype.toString</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">Object</span>.prototype.toString.call(<span class="hljs-string">&#x27;123&#x27;</span>))   <span class="hljs-comment">//[object String]</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">Object</span>.prototype.toString.call(<span class="hljs-number">123</span>))    <span class="hljs-comment">//[object Number]</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">Object</span>.prototype.toString.call(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;&#125;))   <span class="hljs-comment">//[object Function]</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">Object</span>.prototype.toString.call(<span class="hljs-literal">false</span>))  <span class="hljs-comment">//[object Boolean]</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">Object</span>.prototype.toString.call(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>())) <span class="hljs-comment">//[object Date]</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">Object</span>.prototype.toString.call(<span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>)) <span class="hljs-comment">//[object RegExp]</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">Object</span>.prototype.toString.call(&#123;&#125;)) <span class="hljs-comment">//[object Object]</span><br></code></pre></td></tr></table></figure><p>å¯ä»¥åˆ©ç”¨ Object.prototype.toString å†™ä¸€ä¸ª myTypeof</p><h2 id="æ‰©å±•typeof"><a href="#æ‰©å±•typeof" class="headerlink" title="æ‰©å±•typeof"></a>æ‰©å±•typeof</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">myTypeof</span>(<span class="hljs-params">val</span>)</span>&#123;<br>    <span class="hljs-keyword">let</span> res = <span class="hljs-keyword">typeof</span> val<br>    <span class="hljs-keyword">let</span> temp = &#123;<br>        <span class="hljs-string">&quot;[object Function]&quot;</span>:<span class="hljs-string">&quot;Function&quot;</span>,<br>        <span class="hljs-string">&quot;[object Date]&quot;</span>:<span class="hljs-string">&quot;Date&quot;</span>,<br>        <span class="hljs-string">&quot;[object RegExp]&quot;</span>:<span class="hljs-string">&quot;RegExp&quot;</span>,<br>        <span class="hljs-string">&quot;[object Array]&quot;</span>:<span class="hljs-string">&quot;Array&quot;</span>,<br>        <span class="hljs-string">&quot;[object Object]&quot;</span>:<span class="hljs-string">&quot;Object&quot;</span><br>        <span class="hljs-comment">//...</span><br>    &#125;<br>    <span class="hljs-keyword">if</span>(val===<span class="hljs-literal">null</span>)&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;null&quot;</span><br>    &#125;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(val===<span class="hljs-literal">undefined</span>)&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;undefined&quot;</span><br>    &#125;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(res === <span class="hljs-string">&quot;object&quot;</span>)&#123;<br>        <span class="hljs-keyword">let</span> str = <span class="hljs-built_in">Object</span>.prototype.toString.call(val)<br>        <span class="hljs-keyword">return</span> (temp[str])<br>    &#125;<span class="hljs-keyword">else</span>&#123;<br>        <span class="hljs-keyword">return</span> res<br>    &#125;<br>&#125;<br><span class="hljs-built_in">console</span>.log(myTypeof(<span class="hljs-literal">undefined</span>))    <span class="hljs-comment">//undefined</span><br><span class="hljs-built_in">console</span>.log(myTypeof(<span class="hljs-literal">null</span>)) <span class="hljs-comment">//null</span><br><span class="hljs-built_in">console</span>.log(myTypeof(<span class="hljs-number">123</span>))  <span class="hljs-comment">//number</span><br><span class="hljs-built_in">console</span>.log(myTypeof(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>()))   <span class="hljs-comment">//Date</span><br><span class="hljs-built_in">console</span>.log(myTypeof([<span class="hljs-number">1</span>,<span class="hljs-number">2</span>]))    <span class="hljs-comment">//Array</span><br><span class="hljs-built_in">console</span>.log(myTypeof(&#123;<span class="hljs-number">1</span>:<span class="hljs-number">2</span>&#125;))    <span class="hljs-comment">//Object</span><br></code></pre></td></tr></table></figure><p>ç±»å‹æ²¡å†™å®Œï¼Œæ€è·¯å°±è¿™æ ·ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>å­¦ä¹ ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>JavaScript</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æµ…æ‹·è´ä¸æ·±æ‹·è´</title>
    <link href="/dylan/2021/11/23/clone/"/>
    <url>/dylan/2021/11/23/clone/</url>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>å¯¹è±¡åœ¨å†…å­˜ä¸­çš„å­˜å‚¨æ–¹å¼ä¸åŸºæœ¬ç±»å‹ä¸ä¸€æ ·ï¼Œå‚¨å­˜å¯¹è±¡å†…å­˜ä¼šå•ç‹¬å¼€è¾Ÿå‡ºä¸€ä¸ªå †ï¼Œå¯¹è±¡åæŒ‡å‘è¿™ä¸ªå †çš„åœ°å€ï¼Œåˆ°è¾¾ä¸€ç§å¼•ç”¨çš„æ•ˆæœï¼Œè€Œä¼ ç»Ÿçš„<code>a = b</code> å¦‚æœæ˜¯å¯¹è±¡çš„è¯ï¼Œåªä¼šæ‹·è´å¯¹è±¡çš„åœ°å€ï¼Œa å’Œ b æŒ‡å‘çš„æ˜¯åŒä¸€ä¸ªåœ°å€ï¼Œä»è€Œæ”¹å˜å¯¹è±¡ a çš„å€¼ï¼Œb çš„å€¼ä¹Ÿä¼šå‘ç”Ÿæ”¹å˜ï¼Œèµ·ä¸äº†æ‹·è´ä½œç”¨ã€‚</p><h2 id="æµ…æ‹·è´ï¼ˆå¯¹è±¡åªæœ‰ä¸€å±‚ï¼‰"><a href="#æµ…æ‹·è´ï¼ˆå¯¹è±¡åªæœ‰ä¸€å±‚ï¼‰" class="headerlink" title="æµ…æ‹·è´ï¼ˆå¯¹è±¡åªæœ‰ä¸€å±‚ï¼‰"></a>æµ…æ‹·è´ï¼ˆå¯¹è±¡åªæœ‰ä¸€å±‚ï¼‰</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> obj = &#123;<br>       <span class="hljs-attr">a</span>:<span class="hljs-number">1</span>,<br>       <span class="hljs-attr">b</span>:<span class="hljs-number">2</span><br>   &#125;<br>   <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">simpleClone</span>(<span class="hljs-params">obj</span>)</span>&#123;<br>       <span class="hljs-keyword">let</span> cloneObj = &#123;&#125;<br>       <span class="hljs-comment">//es3</span><br>       <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i <span class="hljs-keyword">in</span> obj)&#123;<br>           cloneObj[i] = obj[i]<br>       &#125;<br>       <span class="hljs-comment">//es6</span><br>       <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> [key,value] <span class="hljs-keyword">of</span> <span class="hljs-built_in">Object</span>.entries(obj))&#123;<br>           cloneObj[key] = value<br>       &#125;<br>       <span class="hljs-comment">//es5</span><br>       <span class="hljs-built_in">Object</span>.getOwnPropertyNames(obj).forEach(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">key</span>)</span>&#123;<br>           <span class="hljs-comment">// cloneObj[key] = obj[key]</span><br>           <span class="hljs-keyword">var</span> des = <span class="hljs-built_in">Object</span>.getOwnPropertyDescriptor(obj,key) <span class="hljs-comment">//å±æ€§æè¿°ç¬¦</span><br>           <span class="hljs-built_in">Object</span>.defineProperty(cloneObj,key,des) <span class="hljs-comment">//å®šä¹‰å¯¹è±¡å±æ€§</span><br>       &#125;)<br>       <span class="hljs-keyword">return</span> cloneObj<br>   &#125;<br>   <span class="hljs-keyword">let</span> newObj = simpleClone(obj)<br>   obj.a = <span class="hljs-number">3</span><br>   <span class="hljs-built_in">console</span>.log(newObj)<span class="hljs-comment">//ç»“æœä¸º&#123;a:1,b:2&#125;</span><br></code></pre></td></tr></table></figure><h2 id="æ·±æ‹·è´ï¼ˆå¯¹è±¡æœ‰å¤šå±‚ï¼‰"><a href="#æ·±æ‹·è´ï¼ˆå¯¹è±¡æœ‰å¤šå±‚ï¼‰" class="headerlink" title="æ·±æ‹·è´ï¼ˆå¯¹è±¡æœ‰å¤šå±‚ï¼‰"></a>æ·±æ‹·è´ï¼ˆå¯¹è±¡æœ‰å¤šå±‚ï¼‰</h2><p>ç®€æ˜“ç‰ˆï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> obj = &#123;<br>    <span class="hljs-attr">a</span>:<span class="hljs-number">1</span>,<br>    <span class="hljs-attr">b</span>:&#123;<br>        <span class="hljs-attr">c</span>:<span class="hljs-number">3</span>,<br>        <span class="hljs-attr">d</span>:&#123;<br>            <span class="hljs-attr">e</span>:<span class="hljs-number">4</span><br>        &#125;,<br>    &#125;,<br>    <span class="hljs-attr">f</span>:<span class="hljs-number">8</span><br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">deepClone</span>(<span class="hljs-params">obj</span>)</span>&#123;<br>    <span class="hljs-keyword">let</span> cloneObj = &#123;&#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i <span class="hljs-keyword">in</span> obj)&#123;<br>        <span class="hljs-keyword">if</span>(<span class="hljs-keyword">typeof</span> obj[i] === <span class="hljs-string">&#x27;object&#x27;</span> &amp;&amp; obj[i]!==<span class="hljs-literal">null</span>)&#123;<br>            cloneObj[i] = deepClone(obj[i])<br>        &#125;<span class="hljs-keyword">else</span>&#123;<br>            cloneObj[i] = obj[i]<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> cloneObj<br>&#125;<br><span class="hljs-keyword">let</span> newObj = deepClone(obj)<br>obj.b.c = <span class="hljs-number">7</span><br><span class="hljs-built_in">console</span>.log(newObj)<br></code></pre></td></tr></table></figure><p>å®Œæ•´ç‰ˆï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> obj = &#123;<br>        <span class="hljs-attr">a</span>: <span class="hljs-literal">undefined</span>,<br>        <span class="hljs-attr">b</span>: &#123;<br>            <span class="hljs-attr">c</span>: <span class="hljs-literal">null</span>,<br>            <span class="hljs-attr">d</span>: &#123;<br>                <span class="hljs-attr">e</span>: [<span class="hljs-number">1</span>, <span class="hljs-string">&#x27;2&#x27;</span>, <span class="hljs-built_in">Symbol</span>(<span class="hljs-number">3</span>)]<br>            &#125;,<br>        &#125;,<br>        <span class="hljs-attr">f</span>: <span class="hljs-number">4</span><br>    &#125;<br>    <span class="hljs-keyword">const</span> getType = <span class="hljs-function"><span class="hljs-params">obj</span> =&gt;</span> <span class="hljs-built_in">Object</span>.prototype.toString.call(obj);<br><br>    <span class="hljs-keyword">const</span> isObject = <span class="hljs-function">(<span class="hljs-params">target</span>) =&gt;</span> (<span class="hljs-keyword">typeof</span> target === <span class="hljs-string">&#x27;object&#x27;</span> || <span class="hljs-keyword">typeof</span> target === <span class="hljs-string">&#x27;function&#x27;</span>) &amp;&amp; target !== <span class="hljs-literal">null</span>;<br><br>    <span class="hljs-keyword">const</span> canTraverse = &#123;<br>        <span class="hljs-string">&#x27;[object Map]&#x27;</span>: <span class="hljs-literal">true</span>,<br>        <span class="hljs-string">&#x27;[object Set]&#x27;</span>: <span class="hljs-literal">true</span>,<br>        <span class="hljs-string">&#x27;[object Array]&#x27;</span>: <span class="hljs-literal">true</span>,<br>        <span class="hljs-string">&#x27;[object Object]&#x27;</span>: <span class="hljs-literal">true</span>,<br>        <span class="hljs-string">&#x27;[object Arguments]&#x27;</span>: <span class="hljs-literal">true</span>,<br>    &#125;;<br>    <span class="hljs-keyword">const</span> mapTag = <span class="hljs-string">&#x27;[object Map]&#x27;</span>;<br>    <span class="hljs-keyword">const</span> setTag = <span class="hljs-string">&#x27;[object Set]&#x27;</span>;<br>    <span class="hljs-keyword">const</span> boolTag = <span class="hljs-string">&#x27;[object Boolean]&#x27;</span>;<br>    <span class="hljs-keyword">const</span> numberTag = <span class="hljs-string">&#x27;[object Number]&#x27;</span>;<br>    <span class="hljs-keyword">const</span> stringTag = <span class="hljs-string">&#x27;[object String]&#x27;</span>;<br>    <span class="hljs-keyword">const</span> symbolTag = <span class="hljs-string">&#x27;[object Symbol]&#x27;</span>;<br>    <span class="hljs-keyword">const</span> dateTag = <span class="hljs-string">&#x27;[object Date]&#x27;</span>;<br>    <span class="hljs-keyword">const</span> errorTag = <span class="hljs-string">&#x27;[object Error]&#x27;</span>;<br>    <span class="hljs-keyword">const</span> regexpTag = <span class="hljs-string">&#x27;[object RegExp]&#x27;</span>;<br>    <span class="hljs-keyword">const</span> funcTag = <span class="hljs-string">&#x27;[object Function]&#x27;</span>;<br><br>    <span class="hljs-keyword">const</span> handleRegExp = <span class="hljs-function">(<span class="hljs-params">target</span>) =&gt;</span> &#123;<br>        <span class="hljs-keyword">const</span> &#123; source, flags &#125; = target;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> target.constructor(source, flags);<br>    &#125;<br><br>    <span class="hljs-keyword">const</span> handleFunc = <span class="hljs-function">(<span class="hljs-params">func</span>) =&gt;</span> &#123;<br>        <span class="hljs-comment">// ç®­å¤´å‡½æ•°ç›´æ¥è¿”å›è‡ªèº«</span><br>        <span class="hljs-keyword">if</span> (!func.prototype) <span class="hljs-keyword">return</span> func;<br>        <span class="hljs-keyword">const</span> bodyReg = <span class="hljs-regexp">/(?&lt;=&#123;)(.|\n)+(?=&#125;)/m</span>;<br>        <span class="hljs-keyword">const</span> paramReg = <span class="hljs-regexp">/(?&lt;=\().+(?=\)\s+&#123;)/</span>;<br>        <span class="hljs-keyword">const</span> funcString = func.toString();<br>        <span class="hljs-comment">// åˆ†åˆ«åŒ¹é… å‡½æ•°å‚æ•° å’Œ å‡½æ•°ä½“</span><br>        <span class="hljs-keyword">const</span> param = paramReg.exec(funcString);<br>        <span class="hljs-keyword">const</span> body = bodyReg.exec(funcString);<br>        <span class="hljs-keyword">if</span> (!body) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<br>        <span class="hljs-keyword">if</span> (param) &#123;<br>            <span class="hljs-keyword">const</span> paramArr = param[<span class="hljs-number">0</span>].split(<span class="hljs-string">&#x27;,&#x27;</span>);<br>            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Function</span>(...paramArr, body[<span class="hljs-number">0</span>]);<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Function</span>(body[<span class="hljs-number">0</span>]);<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">const</span> handleNotTraverse = <span class="hljs-function">(<span class="hljs-params">target, tag</span>) =&gt;</span> &#123;<br>        <span class="hljs-keyword">const</span> Ctor = target.constructor;<br>        <span class="hljs-keyword">switch</span> (tag) &#123;<br>            <span class="hljs-keyword">case</span> boolTag:<br>                <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Object</span>(<span class="hljs-built_in">Boolean</span>.prototype.valueOf.call(target));<br>            <span class="hljs-keyword">case</span> numberTag:<br>                <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Object</span>(<span class="hljs-built_in">Number</span>.prototype.valueOf.call(target));<br>            <span class="hljs-keyword">case</span> stringTag:<br>                <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Object</span>(<span class="hljs-built_in">String</span>.prototype.valueOf.call(target));<br>            <span class="hljs-keyword">case</span> symbolTag:<br>                <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Object</span>(<span class="hljs-built_in">Symbol</span>.prototype.valueOf.call(target));<br>            <span class="hljs-keyword">case</span> errorTag:<br>            <span class="hljs-keyword">case</span> dateTag:<br>                <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Ctor(target);<br>            <span class="hljs-keyword">case</span> regexpTag:<br>                <span class="hljs-keyword">return</span> handleRegExp(target);<br>            <span class="hljs-keyword">case</span> funcTag:<br>                <span class="hljs-keyword">return</span> handleFunc(target);<br>            <span class="hljs-keyword">default</span>:<br>                <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Ctor(target);<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">const</span> deepClone = <span class="hljs-function">(<span class="hljs-params">target, map = <span class="hljs-keyword">new</span> <span class="hljs-built_in">WeakMap</span>()</span>) =&gt;</span> &#123;<br>        <span class="hljs-keyword">if</span> (!isObject(target))<br>            <span class="hljs-keyword">return</span> target;<br>        <span class="hljs-keyword">let</span> type = getType(target);<br>        <span class="hljs-keyword">let</span> cloneTarget;<br>        <span class="hljs-keyword">if</span> (!canTraverse[type]) &#123;<br>            <span class="hljs-comment">// å¤„ç†ä¸èƒ½éå†çš„å¯¹è±¡</span><br>            <span class="hljs-keyword">return</span> handleNotTraverse(target, type);<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-comment">// è¿™æ³¢æ“ä½œç›¸å½“å…³é”®ï¼Œå¯ä»¥ä¿è¯å¯¹è±¡çš„åŸå‹ä¸ä¸¢å¤±ï¼</span><br>            <span class="hljs-keyword">let</span> ctor = target.constructor;<br>            cloneTarget = <span class="hljs-keyword">new</span> ctor();<br>        &#125;<br><br>        <span class="hljs-keyword">if</span> (map.get(target))<br>            <span class="hljs-keyword">return</span> target;<br>        map.set(target, <span class="hljs-literal">true</span>);<br><br>        <span class="hljs-keyword">if</span> (type === mapTag) &#123;<br>            <span class="hljs-comment">//å¤„ç†Map</span><br>            target.forEach(<span class="hljs-function">(<span class="hljs-params">item, key</span>) =&gt;</span> &#123;<br>                cloneTarget.set(deepClone(key, map), deepClone(item, map));<br>            &#125;)<br>        &#125;<br><br>        <span class="hljs-keyword">if</span> (type === setTag) &#123;<br>            <span class="hljs-comment">//å¤„ç†Set</span><br>            target.forEach(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> &#123;<br>                cloneTarget.add(deepClone(item, map));<br>            &#125;)<br>        &#125;<br><br>        <span class="hljs-comment">// å¤„ç†æ•°ç»„å’Œå¯¹è±¡</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> prop <span class="hljs-keyword">in</span> target) &#123;<br>            <span class="hljs-keyword">if</span> (target.hasOwnProperty(prop)) &#123;<br>                cloneTarget[prop] = deepClone(target[prop], map);<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> cloneTarget;<br>    &#125;<br>    <span class="hljs-keyword">let</span> newObj = deepClone(obj)<br>    <span class="hljs-built_in">console</span>.log(newObj)<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>é¢è¯•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>JavaScript</tag>
      
      <tag>ES6</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>é—­åŒ…ï¼ˆäºŒï¼‰</title>
    <link href="/dylan/2021/11/22/closure2/"/>
    <url>/dylan/2021/11/22/closure2/</url>
    
    <content type="html"><![CDATA[<h2 id="é˜²æŠ–"><a href="#é˜²æŠ–" class="headerlink" title="é˜²æŠ–"></a>é˜²æŠ–</h2><p>å®šä¹‰ï¼šåœ¨ä¸€å®šæ—¶é—´é—´éš”å†…ï¼Œå°†å¤šæ¬¡è§¦å‘å˜ä¸ºä¸€æ¬¡è§¦å‘ï¼Œç±»ä¼¼æŠ€èƒ½æ‰“æ–­æ–½æ³•é‡æ–°è¯»æ¡ğŸ¤­</p><p>ä¾‹å­ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;ipt&quot;</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> ipt = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&#x27;ipt&#x27;</span>)<br>ipt.addEventListener(<span class="hljs-string">&#x27;input&#x27;</span>,debounce(<span class="hljs-function">()=&gt;</span>&#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-number">1</span>)<br>&#125;,<span class="hljs-number">2000</span>))<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">debounce</span>(<span class="hljs-params">fn,delay</span>)</span>&#123;<br>    <span class="hljs-keyword">let</span> timer = <span class="hljs-literal">null</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;<br>        <span class="hljs-keyword">if</span>(timer)&#123;<br>            <span class="hljs-built_in">clearTimeout</span>(timer)<br>        &#125;<br>        timer = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">()=&gt;</span>&#123;<br>            fn()<br>        &#125;,delay)<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="èŠ‚æµ"><a href="#èŠ‚æµ" class="headerlink" title="èŠ‚æµ"></a>èŠ‚æµ</h2><p>å®šä¹‰ï¼šä¸€æ®µæ—¶é—´é—´éš”å†…åªæ‰§è¡Œä¸€æ¬¡ï¼Œç±»ä¼¼æŠ€èƒ½å†·å´ğŸ¤­</p><p>ä¾‹å­ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> ipt = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&#x27;ipt&#x27;</span>)<br>ipt.addEventListener(<span class="hljs-string">&#x27;input&#x27;</span>, throttle(<span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-number">1</span>)<br>&#125;, <span class="hljs-number">2000</span>))<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">throttle</span>(<span class="hljs-params">fn, delay</span>) </span>&#123;<br>    <span class="hljs-keyword">let</span> timer = <span class="hljs-literal">null</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>        <span class="hljs-keyword">if</span> (timer) &#123;<br>            <span class="hljs-keyword">return</span><br>        &#125;<br>        timer = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>            fn()<br>            timer = <span class="hljs-literal">null</span><br>        &#125;, delay)<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="ä½¿ç”¨åœºæ™¯"><a href="#ä½¿ç”¨åœºæ™¯" class="headerlink" title="ä½¿ç”¨åœºæ™¯"></a>ä½¿ç”¨åœºæ™¯</h2><ol><li>é˜²æŠ–(debounce)<br>ï¼ˆ1ï¼‰searchæœç´¢è”æƒ³ï¼Œç”¨æˆ·åœ¨ä¸æ–­è¾“å…¥å€¼æ—¶ï¼Œç”¨é˜²æŠ–æ¥èŠ‚çº¦è¯·æ±‚èµ„æºã€‚<br>ï¼ˆ2ï¼‰windowè§¦å‘resizeçš„æ—¶å€™ï¼Œä¸æ–­çš„è°ƒæ•´æµè§ˆå™¨çª—å£å¤§å°ä¼šä¸æ–­çš„è§¦å‘è¿™ä¸ªäº‹ä»¶ï¼Œç”¨é˜²æŠ–æ¥è®©å…¶åªè§¦å‘ä¸€æ¬¡ã€‚</li><li>èŠ‚æµ(throttle)<br>ï¼ˆ1ï¼‰é¼ æ ‡ä¸æ–­ç‚¹å‡»è§¦å‘ï¼Œmousedown(å•ä½æ—¶é—´å†…åªè§¦å‘ä¸€æ¬¡)ã€‚<br>ï¼ˆ2ï¼‰ç›‘å¬æ»šåŠ¨äº‹ä»¶ï¼Œæ¯”å¦‚æ˜¯å¦æ»‘åˆ°åº•éƒ¨è‡ªåŠ¨åŠ è½½æ›´å¤šï¼Œç”¨throttleæ¥åˆ¤æ–­ã€‚</li></ol>]]></content>
    
    
    <categories>
      
      <category>é¢è¯•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>JavaScript</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>é—­åŒ…ï¼ˆä¸€ï¼‰</title>
    <link href="/dylan/2021/11/21/closure1/"/>
    <url>/dylan/2021/11/21/closure1/</url>
    
    <content type="html"><![CDATA[<h2 id="é—­åŒ…æ˜¯ä»€ä¹ˆ"><a href="#é—­åŒ…æ˜¯ä»€ä¹ˆ" class="headerlink" title="é—­åŒ…æ˜¯ä»€ä¹ˆ"></a>é—­åŒ…æ˜¯ä»€ä¹ˆ</h2><p>çŠ€ç‰›ä¹¦ï¼šå‡½æ•°å¯¹è±¡å¯ä»¥é€šè¿‡ä½œç”¨åŸŸé“¾ç›¸äº’å…³è”èµ·æ¥ï¼Œå‡½æ•°ä½“å†…éƒ¨çš„å˜é‡å¯ä»¥ä¿å­˜åœ¨å‡½æ•°ä½œç”¨åŸŸå†…ï¼Œè¿™ç§ç‰¹æ€§åœ¨è®¡ç®—æœºç§‘å­¦æ–‡çŒ®ä¸­ç§°ä¸ºâ€œé—­åŒ…â€ã€‚</p><p>çº¢å®ä¹¦ï¼šé—­åŒ…æ˜¯æŒ‡æœ‰æƒè®¿é—®å¦ä¸€ä¸ªå‡½æ•°ä½œç”¨åŸŸä¸­çš„å˜é‡çš„å‡½æ•°ã€‚</p><p>ä½ ä¸çŸ¥é“çš„ JavaScriptï¼šå½“å‡½æ•°å¯ä»¥è®°ä½å¹¶è®¿é—®æ‰€åœ¨çš„è¯æ³•ä½œç”¨åŸŸæ—¶ï¼Œå°±äº§ç”Ÿäº†é—­åŒ…ï¼Œå³ä½¿å‡½æ•°æ˜¯åœ¨å½“å‰è¯æ³•ä½œç”¨åŸŸä¹‹å¤–æ‰§è¡Œã€‚</p><p>MDNï¼šä¸€ä¸ªå‡½æ•°å’Œå¯¹å…¶å‘¨å›´çŠ¶æ€ï¼ˆè¯æ³•ç¯å¢ƒï¼‰çš„å¼•ç”¨æ†ç»‘åœ¨ä¸€èµ·ï¼ˆæˆ–è€…è¯´å‡½æ•°è¢«å¼•ç”¨åŒ…å›´ï¼‰ï¼Œè¿™æ ·çš„ç»„åˆå°±æ˜¯é—­åŒ…ã€‚</p><p>ä¸ªäººç†è§£ï¼šå‡½æ•°çš„æ‰§è¡Œï¼Œå¯¼è‡´å‡½æ•°è¢«å®šä¹‰ï¼Œå¹¶æŠ›å‡ºå‡½æ•°ï¼ˆæ¯æœ¬ä¹¦ç†è§£ä¸ä¸€è‡´ï¼‰ã€‚</p><h2 id="é—­åŒ…çš„å¸¸è§å½¢å¼"><a href="#é—­åŒ…çš„å¸¸è§å½¢å¼" class="headerlink" title="é—­åŒ…çš„å¸¸è§å½¢å¼"></a>é—­åŒ…çš„å¸¸è§å½¢å¼</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">closure1</span>(<span class="hljs-params"></span>)</span>&#123;<br>       <span class="hljs-keyword">var</span> n = <span class="hljs-number">0</span><br>       <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;<span class="hljs-built_in">console</span>.log(n)&#125;<br>   &#125;<br>   closure1()()  <span class="hljs-comment">//0</span><br><br>   <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">closure2</span>(<span class="hljs-params"></span>)</span>&#123;<br>       <span class="hljs-keyword">var</span> n = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;<span class="hljs-built_in">console</span>.log(<span class="hljs-number">0</span>)&#125;<br>       <span class="hljs-keyword">return</span> n<br>   &#125;<br>   closure2()()  <span class="hljs-comment">//0</span><br><br>   <span class="hljs-keyword">var</span> a<br>   <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">closure3</span>(<span class="hljs-params"></span>)</span>&#123;<br>       <span class="hljs-keyword">var</span> b = <span class="hljs-number">0</span><br>       a = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;<br>           <span class="hljs-built_in">console</span>.log(b)<br>       &#125;<br>   &#125;<br>   closure3()  <span class="hljs-comment">//0</span><br>   a()<br><br>   <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">closure4</span>(<span class="hljs-params"></span>)</span>&#123;<br>       <span class="hljs-keyword">var</span> b = <span class="hljs-number">0</span><br>       <span class="hljs-keyword">var</span> n = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;<br>           <span class="hljs-keyword">return</span> b<br>       &#125;<br>       a(n)<br>   &#125;<br>   closure4()  <span class="hljs-comment">//0</span><br><br>   <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">closure5</span>(<span class="hljs-params"></span>) </span>&#123;<br>       <span class="hljs-keyword">var</span> arr = []<br>       <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) &#123;<br>           arr[i] = (<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">j</span>) </span>&#123;<br>               <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>                   <span class="hljs-built_in">console</span>.log(j)<br>               &#125;<br>           &#125;)(i)<br>       &#125;<br>       <span class="hljs-keyword">return</span> arr<br>   &#125;<br>   <span class="hljs-keyword">var</span> doClosure5 = closure5()<br>   <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> j = <span class="hljs-number">0</span>; j &lt; <span class="hljs-number">10</span>; j++) &#123;<br>       doClosure5[j]() <br>   &#125;<span class="hljs-comment">//0,1,2,3,4,5,6,7,8,9</span><br><br>   <span class="hljs-keyword">var</span> doClosure6 = (<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;<br>       <span class="hljs-keyword">var</span> count = <span class="hljs-number">0</span><br>       <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;<br>           <span class="hljs-keyword">return</span> ++count<br>       &#125;<br>   &#125;)()<br>   <span class="hljs-built_in">console</span>.log(doClosure6())  <span class="hljs-comment">//1</span><br>   <span class="hljs-built_in">console</span>.log(doClosure6())  <span class="hljs-comment">//2</span><br>   <span class="hljs-built_in">console</span>.log(doClosure6())  <span class="hljs-comment">//3</span><br></code></pre></td></tr></table></figure><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>é—­åŒ…ä¼šäº§ç”Ÿå†…å­˜æ³„æ¼ï¼Œä½¿ç”¨é—­åŒ…äº§ç”Ÿçš„å˜é‡ä¼šä¸€ç›´å­˜åœ¨å†…å­˜å½“ä¸­ï¼Œä¸ä¼šè¢«åƒåœ¾å›æ”¶æœºåˆ¶å›æ”¶ï¼Œä¸åº”å½“å¤§é‡ä½¿ç”¨é—­åŒ…ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>é¢è¯•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>JavaScript</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å›¾ç‰‡æ‡’åŠ è½½</title>
    <link href="/dylan/2021/11/20/lazyImg/"/>
    <url>/dylan/2021/11/20/lazyImg/</url>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><ol><li>offsetTop<br>å…ƒç´ åˆ°é¡¶éƒ¨åˆ° offsetParent é¡¶éƒ¨çš„è·ç¦»</li><li>offsetParent<br>è·ç¦»å…ƒç´ æœ€è¿‘çš„ä¸€ä¸ªå…·æœ‰å®šä½çš„çˆ¶çº§å…ƒç´ ï¼Œè‹¥çˆ¶çº§å…ƒç´ éƒ½ä¸ç¬¦åˆæ¡ä»¶ï¼Œåˆ™ offsetParent ä¸º body</li><li>clientHeight<br>å…ƒç´ å®½é«˜ï¼ˆheight+paddingï¼‰</li><li>scrollTop<br>Yè½´çš„æ»šåŠ¨æ¡</li></ol><p>å¯ä»¥å¾—å‡ºå½“ scrollTop + clientHeight &gt; offsetTopï¼ˆè·ç¦»bodyé¡¶éƒ¨ï¼‰æ—¶ï¼Œè§†å½“å‰å…ƒç´ åœ¨å¯è§†åŒºåŸŸï¼Œè€Œæ­¤æ—¶å†ä¸º img çš„ src å±æ€§èµ‹å€¼ï¼Œè¯·æ±‚æ‰ä¼šå‘å‡ºï¼Œä»è€Œè¾¾åˆ°å›¾ç‰‡æ‡’åŠ è½½çš„æ•ˆæœã€‚</p><h2 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h2><p>html:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;img&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">data-src</span>=<span class="hljs-string">&quot;./img/1.png&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">data-src</span>=<span class="hljs-string">&quot;./img/2.png&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">data-src</span>=<span class="hljs-string">&quot;./img/3.png&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">data-src</span>=<span class="hljs-string">&quot;./img/4.png&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">data-src</span>=<span class="hljs-string">&quot;./img/5.png&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">data-src</span>=<span class="hljs-string">&quot;./img/6.png&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">data-src</span>=<span class="hljs-string">&quot;./img/7.png&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">data-src</span>=<span class="hljs-string">&quot;./img/8.png&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">data-src</span>=<span class="hljs-string">&quot;./img/9.png&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure><p>css:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.img</span> <span class="hljs-selector-tag">img</span> &#123;<br>        <span class="hljs-attribute">width</span>: <span class="hljs-number">500px</span>;<br>        <span class="hljs-attribute">height</span>: <span class="hljs-number">600px</span>;<br>        <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#eeeeee</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>js:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> imgs = <span class="hljs-built_in">document</span>.querySelectorAll(<span class="hljs-string">&#x27;img&#x27;</span>)<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getTop</span>(<span class="hljs-params">e</span>) </span>&#123;<br>     <span class="hljs-keyword">var</span> H = e.offsetTop<br>           <span class="hljs-keyword">while</span> (e = e.offsetParent) &#123;<br>                H += e.offsetTop<br>           &#125;<br>           <span class="hljs-keyword">return</span> H<br>      &#125;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">lazyImg</span>(<span class="hljs-params"></span>) </span>&#123;<br>      <span class="hljs-keyword">var</span> H = <span class="hljs-built_in">document</span>.documentElement.clientHeight <br>      <span class="hljs-keyword">var</span> S = <span class="hljs-built_in">document</span>.documentElement.scrollTop || <span class="hljs-built_in">document</span>.body.scrollTop<br>      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; imgs.length; i++) &#123;<br>           <span class="hljs-keyword">if</span> (H + S &gt; getTop(imgs[i])&amp;&amp;!imgs[i].src) &#123;<br>                 imgs[i].src = imgs[i].getAttribute(<span class="hljs-string">&#x27;data-src&#x27;</span>)<br>           &#125;<br>      &#125;<br>&#125;<br>        <br><span class="hljs-built_in">window</span>.onload = <span class="hljs-built_in">window</span>.onscroll = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>      lazyImg(imgs)<br>&#125;<br></code></pre></td></tr></table></figure><p>ä»£ç æ¯”è¾ƒç®€å•ï¼Œå¯ä»¥ä¼˜åŒ–ï¼Œæ¯”å¦‚ onload æ—¶è®¾ç½® scrollTop ä¸º 0ï¼Œç»™ lazyImg æ·»åŠ é˜²æŠ–å‡½æ•°ï¼Œä½†å…¶æ ¸å¿ƒæ€æƒ³åœ¨äºåªæœ‰å›¾ç‰‡å…ƒç´ è¿›å…¥è§†å£æ—¶æ‰è¿›è¡ŒåŠ è½½ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>é¢è¯•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>JavaScript</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>è¶…çº§å¥½çœ‹çš„ css æ ·å¼</title>
    <link href="/dylan/2021/11/18/button/"/>
    <url>/dylan/2021/11/18/button/</url>
    
    <content type="html"><![CDATA[<h2 id="å€’å½±æ•ˆæœ"><a href="#å€’å½±æ•ˆæœ" class="headerlink" title="å€’å½±æ•ˆæœ"></a>å€’å½±æ•ˆæœ</h2><p><img src="/dylan/imgs/button/1.gif"></p><p>HTML:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;div <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">&quot;btn_family btn_family1&quot;</span>&gt;<br>        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;btn btn1&quot;</span>&gt;</span>æŒ‰é’®1<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;btn btn2&quot;</span>&gt;</span>æŒ‰é’®2<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;btn btn3&quot;</span>&gt;</span>æŒ‰é’®3<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;btn btn4&quot;</span>&gt;</span>æŒ‰é’®4<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;btn btn5&quot;</span>&gt;</span>æŒ‰é’®5<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/div&gt;<br></code></pre></td></tr></table></figure><p>CSS:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br></pre></td><td class="code"><pre><code class="hljs javascript">body &#123;<br>       background-color: black;<br>   &#125;<br><br>   .btn_family &#123;<br>       <span class="hljs-attr">display</span>: flex;<br>       justify-content: space-between;<br>       padding: 50px;<br>   &#125;<br><br>   .btn &#123;<br>       line-height: 100px;<br>       text-align: center;<br>       color: white;<br>       width: 200px;<br>       height: 100px;<br>       border-radius: 10px;<br>       background-color: black;<br>       -webkit-box-reflect: below 16px -webkit-linear-gradient(transparent, transparent <span class="hljs-number">30</span>%, rgba(<span class="hljs-number">255</span>, <span class="hljs-number">255</span>, <span class="hljs-number">255</span>, <span class="hljs-number">0.6</span>));<br>   &#125;<br>   .btn1&#123;<br>       <span class="hljs-attr">color</span>: #d71345;<br>   &#125;<br>   .btn2&#123;<br>       <span class="hljs-attr">color</span>: #f36c21;<br>   &#125;<br>   .btn3&#123;<br>       <span class="hljs-attr">color</span>: #ffd400;<br>   &#125;<br>   .btn4&#123;<br>       <span class="hljs-attr">color</span>: #65c294;<br>   &#125;<br>   .btn5&#123;<br>       <span class="hljs-attr">color</span>: #33a3dc;<br>   &#125;<br>   .btn:hover&#123;<br>       <span class="hljs-attr">color</span>: white;<br>   &#125;<br>   .btn1:hover &#123;<br>       background-color: #d71345;<br>       box-shadow: 0px 0px 10px 3px #d71345;<br>   &#125;<br><br>   .btn2:hover &#123;<br>       background-color: #f36c21;<br>       box-shadow: 0px 0px 10px 3px #f36c21;<br>   &#125;<br><br>   .btn3:hover &#123;<br>       background-color: #ffd400;<br>       box-shadow: 0px 0px 10px 3px #ffd400;<br>   &#125;<br><br>   .btn4:hover &#123;<br>       background-color: #65c294;<br>       box-shadow: 0px 0px 10px 3px #65c294;<br>   &#125;<br><br>   .btn5:hover &#123;<br>       background-color: #33a3dc;<br>       box-shadow: 0px 0px 10px 3px #33a3dc;<br>   &#125;<br><br>   div &#123;<br>       <span class="hljs-attr">position</span>: relative;<br>   &#125;<br><br>   .btn1::before &#123;<br>       <span class="hljs-attr">content</span>: <span class="hljs-string">&quot;&quot;</span>;<br>       position: absolute;<br>       top: <span class="hljs-number">0</span>;<br>       left: <span class="hljs-number">0</span>;<br>       right: <span class="hljs-number">0</span>;<br>       bottom: <span class="hljs-number">0</span>;<br>       border: 2px solid #d71345;<br>       animation: clippath 2s infinite linear;<br>       border-radius: 10px;<br>   &#125;<br>   .btn2::before &#123;<br>       <span class="hljs-attr">content</span>: <span class="hljs-string">&quot;&quot;</span>;<br>       position: absolute;<br>       top: <span class="hljs-number">0</span>;<br>       left: <span class="hljs-number">0</span>;<br>       right: <span class="hljs-number">0</span>;<br>       bottom: <span class="hljs-number">0</span>;<br>       border: 2px solid #f36c21;<br>       animation: clippath 2s infinite linear;<br>       border-radius: 10px;<br>   &#125;<br>   .btn3::before &#123;<br>       <span class="hljs-attr">content</span>: <span class="hljs-string">&quot;&quot;</span>;<br>       position: absolute;<br>       top: <span class="hljs-number">0</span>;<br>       left: <span class="hljs-number">0</span>;<br>       right: <span class="hljs-number">0</span>;<br>       bottom: <span class="hljs-number">0</span>;<br>       border: 2px solid #ffd400;<br>       animation: clippath 2s infinite linear;<br>       border-radius: 10px;<br>   &#125;<br>   .btn4::before &#123;<br>       <span class="hljs-attr">content</span>: <span class="hljs-string">&quot;&quot;</span>;<br>       position: absolute;<br>       top: <span class="hljs-number">0</span>;<br>       left: <span class="hljs-number">0</span>;<br>       right: <span class="hljs-number">0</span>;<br>       bottom: <span class="hljs-number">0</span>;<br>       border: 2px solid #65c294;<br>       animation: clippath 2s infinite linear;<br>       border-radius: 10px;<br>   &#125;<br>   .btn5::before &#123;<br>       <span class="hljs-attr">content</span>: <span class="hljs-string">&quot;&quot;</span>;<br>       position: absolute;<br>       top: <span class="hljs-number">0</span>;<br>       left: <span class="hljs-number">0</span>;<br>       right: <span class="hljs-number">0</span>;<br>       bottom: <span class="hljs-number">0</span>;<br>       border: 2px solid #33a3dc;<br>       animation: clippath 2s infinite linear;<br>       border-radius: 10px;<br>   &#125;<br>   @keyframes clippath &#123;<br><br>       <span class="hljs-number">0</span>%,<br>       <span class="hljs-number">100</span>% &#123;<br>           clip-path: inset(<span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">95</span>% <span class="hljs-number">0</span>);<br>       &#125;<br><br>       <span class="hljs-number">25</span>% &#123;<br>           clip-path: inset(<span class="hljs-number">0</span> <span class="hljs-number">95</span>% <span class="hljs-number">0</span> <span class="hljs-number">0</span>);<br>       &#125;<br><br>       <span class="hljs-number">50</span>% &#123;<br>           clip-path: inset(<span class="hljs-number">95</span>% <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">0</span>);<br>       &#125;<br><br>       <span class="hljs-number">75</span>% &#123;<br>           clip-path: inset(<span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">95</span>%);<br>       &#125;<br>   &#125;<br></code></pre></td></tr></table></figure><h2 id="æ‹Ÿæ€"><a href="#æ‹Ÿæ€" class="headerlink" title="æ‹Ÿæ€"></a>æ‹Ÿæ€</h2><p><img src="/dylan/imgs/button/2.png"></p><p>HTMLï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;div <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">&quot;btn&quot;</span>&gt;Hello world&lt;/div&gt;<br></code></pre></td></tr></table></figure><p>CSSï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs javascript">body &#123;<br>       <span class="hljs-attr">margin</span>: <span class="hljs-number">0</span>;<br>       width: 100vw;<br>       height: 100vh;<br>       background-color: #55b9f3;<br>       display: flex;<br>       align-items: center;<br>       justify-content: center;<br>   &#125;<br><br>   .btn &#123;<br>       <span class="hljs-attr">width</span>: 200px;<br>       height: 200px;<br>       line-height: 200px;<br>       text-align: center;<br>       color: white;<br>       border-radius: 50px;<br>       background: #55b9f3;<br>       box-shadow: 20px 20px 60px #489dcf,<br>           -20px -20px 60px #62d5ff;<br>   &#125;<br></code></pre></td></tr></table></figure><h2 id="æ¯›ç»ç’ƒ"><a href="#æ¯›ç»ç’ƒ" class="headerlink" title="æ¯›ç»ç’ƒ"></a>æ¯›ç»ç’ƒ</h2><p><img src="/dylan/imgs/button/3.png"></p><p>HTML:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;div <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">&quot;btn&quot;</span>&gt;Hello world&lt;/div&gt;<br></code></pre></td></tr></table></figure><p>CSSï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs javascript">body &#123;<br>       <span class="hljs-attr">margin</span>: <span class="hljs-number">0</span>;<br>       width: 100vw;<br>       height: 100vh;<br>       background: url(<span class="hljs-string">&#x27;./4.png&#x27;</span>);<br>       background-repeat: no-repeat;<br>       background-size: 100vw 100vh;<br>       background-position: center center;<br>       display: flex;<br>       align-items: center;<br>       justify-content: center;<br>   &#125;<br><br>   .btn &#123;<br>       <span class="hljs-attr">padding</span>: 40px 30px;<br>       font-size: 24px;<br>       border-radius: 12px;<br>       background-color: rgba(<span class="hljs-number">255</span>, <span class="hljs-number">255</span>, <span class="hljs-number">255</span>, <span class="hljs-number">.2</span>);<br>       backdrop-filter: blur(15px);<br>       box-shadow: <span class="hljs-number">0</span> <span class="hljs-number">0</span> 10px #<span class="hljs-number">333</span>;<br>   &#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>å®ç”¨æŠ€å·§</category>
      
    </categories>
    
    
    <tags>
      
      <tag>CSS</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>setTimeoutã€setInterval(äºŒ)</title>
    <link href="/dylan/2021/11/17/settimeout2/"/>
    <url>/dylan/2021/11/17/settimeout2/</url>
    
    <content type="html"><![CDATA[<h2 id="ä½¿ç”¨setIntervalå®ç°setTimeout"><a href="#ä½¿ç”¨setIntervalå®ç°setTimeout" class="headerlink" title="ä½¿ç”¨setIntervalå®ç°setTimeout"></a>ä½¿ç”¨setIntervalå®ç°setTimeout</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mySetInterval</span>(<span class="hljs-params">fn, delay</span>) </span>&#123;<br>    <span class="hljs-keyword">const</span> timer = <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>        fn()<br>        <span class="hljs-built_in">clearInterval</span>(timer)<br>    &#125;, delay)<br>&#125;<br><br><span class="hljs-comment">// æµ‹è¯•</span><br>mySetInterval(<span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">console</span>.log(<span class="hljs-number">888</span>), <span class="hljs-number">1000</span>)<br></code></pre></td></tr></table></figure><h2 id="ä½¿ç”¨setTimeoutå®ç°setInterval"><a href="#ä½¿ç”¨setTimeoutå®ç°setInterval" class="headerlink" title="ä½¿ç”¨setTimeoutå®ç°setInterval"></a>ä½¿ç”¨setTimeoutå®ç°setInterval</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mySetTimout</span>(<span class="hljs-params">fn, delay</span>) </span>&#123;<br>    <span class="hljs-keyword">let</span> timer = <span class="hljs-literal">null</span><br>    <span class="hljs-keyword">const</span> interval = <span class="hljs-function">() =&gt;</span> &#123;<br>        fn()<br>        timer = <span class="hljs-built_in">setTimeout</span>(interval, delay)<br>    &#125;<br>    <span class="hljs-built_in">setTimeout</span>(interval, delay)<br>    <span class="hljs-keyword">return</span> &#123;<br>        <span class="hljs-attr">cancel</span>: <span class="hljs-function">() =&gt;</span> &#123;<br>            <span class="hljs-built_in">clearTimeout</span>(timer)<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">// æµ‹è¯•</span><br><span class="hljs-keyword">const</span> &#123; cancel &#125; = mySetTimout(<span class="hljs-function">() =&gt;</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-number">888</span>), <span class="hljs-number">1000</span>)<br><span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>        cancel()<br>&#125;, <span class="hljs-number">4000</span>)<br></code></pre></td></tr></table></figure><h2 id="requestAnimationFrameä½¿ç”¨"><a href="#requestAnimationFrameä½¿ç”¨" class="headerlink" title="requestAnimationFrameä½¿ç”¨"></a>requestAnimationFrameä½¿ç”¨</h2><p>requestAnimationFrame æ˜¯æµè§ˆå™¨ç”¨äºå®šæ—¶å¾ªç¯æ“ä½œçš„ä¸€ä¸ªæ¥å£ï¼Œæ˜¯æŒ‰å¸§å¯¹é¡µé¢è¿›è¡Œé‡ç»˜ï¼Œæ•ˆæœä¼šæ¯” setInterval å¥½ï¼Œå› ä¸º setInterval æ˜¯å¼‚æ­¥ä»»åŠ¡ï¼Œå½“åŒæ­¥ä»»åŠ¡æ‰§è¡Œæ—¶é—´å¤§äº setInterval çš„æ—¶é—´é—´éš”æ—¶ï¼ŒsetInterval ä¾¿ä¸ä¼šæŒ‰ç…§æ—¶é—´é—´éš”æ‰§è¡Œï¼ŒsetInterval çš„æ‰§è¡Œæ˜¯æ—¶é—´é—´éš”ä¸€åˆ°ä¾¿æ”¾åœ¨æ‰§è¡Œæ ˆä¸Šæ‰§è¡Œï¼Œjs æ˜¯å•çº¿ç¨‹ï¼Œå½“æ‰§è¡Œæ ˆä¸Šè¿˜æœ‰ä»»åŠ¡æ—¶ï¼ŒsetInterval çš„å›è°ƒå‡½æ•°ä¼šç­‰å¾…æ‰§è¡Œï¼Œè€Œ requestAnimationFrame æ˜¯æ ¹æ®ç³»ç»Ÿçš„æ—¶é—´é—´éš”æ‰§è¡Œï¼Œä¹Ÿå°±æ˜¯å¸§ã€‚</p><p>ä¸‹é¢åˆ†åˆ«ä½¿ç”¨ setTimeout ã€setInterval ã€requestAnimationFrame å®ç°è¿›åº¦æ¡ä¾‹å­</p><p>htmlï¼š</p><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs applescript">&lt;<span class="hljs-keyword">div</span> <span class="hljs-built_in">id</span>=<span class="hljs-string">&quot;time&quot;</span> style=<span class="hljs-string">&quot;width: 0px;height: 20px;line-height: 20px;background-color: red;&quot;</span>&gt;<span class="hljs-number">0</span>%&lt;/<span class="hljs-keyword">div</span>&gt;<br></code></pre></td></tr></table></figure><p>setIntervalç‰ˆï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs javascript">time.onclick = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;<br>    <span class="hljs-keyword">var</span> timer = <span class="hljs-built_in">setInterval</span>(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;<br>        <span class="hljs-keyword">if</span>(<span class="hljs-built_in">parseInt</span>(time.style.width)&lt;<span class="hljs-number">300</span>)&#123;<br>            time.style.width = <span class="hljs-built_in">parseInt</span>(time.style.width) + <span class="hljs-number">3</span> + <span class="hljs-string">&quot;px&quot;</span><br>            time.innerHTML = <span class="hljs-built_in">parseInt</span>(time.style.width)/<span class="hljs-number">3</span> + <span class="hljs-string">&quot;%&quot;</span><br>        &#125;<span class="hljs-keyword">else</span>&#123;<br>            <span class="hljs-built_in">clearInterval</span>(timer)<br>        &#125;<br>    &#125;,<span class="hljs-number">16</span>)<br>&#125;<br></code></pre></td></tr></table></figure><p>setTimeoutç‰ˆï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs javascript">time.onclick = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;<br>    <span class="hljs-keyword">var</span> timer = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fn</span>(<span class="hljs-params"></span>)</span>&#123;<br>        <span class="hljs-keyword">if</span>(<span class="hljs-built_in">parseInt</span>(time.style.width)&lt;<span class="hljs-number">300</span>)&#123;<br>            time.style.width = <span class="hljs-built_in">parseInt</span>(time.style.width) + <span class="hljs-number">3</span> + <span class="hljs-string">&quot;px&quot;</span><br>            time.innerHTML = <span class="hljs-built_in">parseInt</span>(time.style.width)/<span class="hljs-number">3</span> + <span class="hljs-string">&quot;%&quot;</span><br>            timer = <span class="hljs-built_in">setTimeout</span>(fn, <span class="hljs-number">16</span>);<br>        &#125;<span class="hljs-keyword">else</span>&#123;<br>            <span class="hljs-built_in">clearInterval</span>(timer)<br>        &#125;<br>    &#125;,<span class="hljs-number">16</span>)<br>&#125;<br></code></pre></td></tr></table></figure><p>requestAnimationFrameç‰ˆï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs javascript">time.onclick = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;<br>    <span class="hljs-keyword">var</span> timer = requestAnimationFrame(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fn</span>(<span class="hljs-params"></span>)</span>&#123;<br>        <span class="hljs-keyword">if</span>(<span class="hljs-built_in">parseInt</span>(time.style.width)&lt;<span class="hljs-number">300</span>)&#123;<br>            time.style.width = <span class="hljs-built_in">parseInt</span>(time.style.width) + <span class="hljs-number">3</span> + <span class="hljs-string">&quot;px&quot;</span><br>            time.innerHTML = <span class="hljs-built_in">parseInt</span>(time.style.width)/<span class="hljs-number">3</span> + <span class="hljs-string">&quot;%&quot;</span><br>            timer = requestAnimationFrame(fn);<br>        &#125;<span class="hljs-keyword">else</span>&#123;<br>            cancelAnimationFrame(timer)<br>        &#125;<br>    &#125;)<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>å­¦ä¹ ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>JavaScript</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>setTimeoutã€setInterval(ä¸€)</title>
    <link href="/dylan/2021/11/16/settimeout1/"/>
    <url>/dylan/2021/11/16/settimeout1/</url>
    
    <content type="html"><![CDATA[<h2 id="setTimeout"><a href="#setTimeout" class="headerlink" title="setTimeout"></a>setTimeout</h2><p>ç‰¹æ€§ï¼š</p><ol><li>å‡ æ¯«ç§’åæ‰§è¡Œä¸€æ¬¡</li><li>æœ€å°æ—¶é—´é—´éš”4ms</li><li>è¿”å›æ•°å­—æ ‡è¯†</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> timer = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;<br><span class="hljs-built_in">console</span>.log(<span class="hljs-number">1</span>) <span class="hljs-comment">//1såæ‰“å°1</span><br>&#125;,<span class="hljs-number">1000</span>)<br></code></pre></td></tr></table></figure><p>å›è°ƒå‡½æ•°ä¹Ÿå¯ä»¥æ¢æˆå­—ç¬¦ä¸²ï¼ŒåŸç†æ˜¯æµè§ˆå™¨è§£æäº†ä¸¤æ¬¡ï¼ˆä¸å»ºè®®ä½¿ç”¨ï¼‰</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> timer = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-string">&quot;console.log(1)&quot;</span>,<span class="hljs-number">1000</span>) <span class="hljs-comment">//1såæ‰“å°1</span><br></code></pre></td></tr></table></figure><p>è™½ç„¶æœ€å°æ—¶é—´é—´éš”ä¸º4msï¼Œä½†æµè§ˆå™¨è¿˜æ˜¯ä¼šæ ¹æ®æ—¶é—´å¤§å°æ‰“å°ï¼Œå°äº1msåˆ™ä¼šæŒ‰1msæ‰§è¡Œã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> timer1 = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;<br><span class="hljs-built_in">console</span>.log(<span class="hljs-number">1</span>)<br>&#125;,<span class="hljs-number">1</span>)<br><span class="hljs-keyword">var</span> timer2 = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;<br><span class="hljs-built_in">console</span>.log(<span class="hljs-number">2</span>)<br>&#125;,<span class="hljs-number">2</span>)<br><span class="hljs-keyword">var</span> timer3 = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;<br><span class="hljs-built_in">console</span>.log(<span class="hljs-number">3</span>) <br>&#125;,<span class="hljs-number">3</span>)<br><span class="hljs-keyword">var</span> timer4 = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;<br><span class="hljs-built_in">console</span>.log(<span class="hljs-number">4</span>) <span class="hljs-comment">//</span><br>&#125;,<span class="hljs-number">0.1</span>)<br><span class="hljs-keyword">var</span> timer5 = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;<br><span class="hljs-built_in">console</span>.log(<span class="hljs-number">5</span>)<br>&#125;,<span class="hljs-number">0.2</span>)<br><span class="hljs-keyword">var</span> timer6 = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;<br><span class="hljs-built_in">console</span>.log(<span class="hljs-number">6</span>)<br>&#125;,<span class="hljs-number">0.3</span>)<br></code></pre></td></tr></table></figure><blockquote><p>æ‰“å°é¡ºåºä¸ºï¼š1 4 5 6 2 3</p></blockquote><h2 id="setInterval"><a href="#setInterval" class="headerlink" title="setInterval"></a>setInterval</h2><p>ç‰¹æ€§ï¼š</p><ol><li>é—´éš”å‡ æ¯«ç§’æŒç»­æ‰§è¡Œ</li><li>æœ€å°æ—¶é—´é—´éš”ä¸º10ms</li><li>è¿”å›æ•°å­—æ ‡è¯†</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> timer = <span class="hljs-built_in">setInterval</span>(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;<br><span class="hljs-built_in">console</span>.log(<span class="hljs-number">1</span>) <span class="hljs-comment">//æ¯éš”1sæ‰§è¡Œä¸€æ¬¡</span><br>&#125;,<span class="hljs-number">1000</span>)<br></code></pre></td></tr></table></figure><p>å…¶ä»–ç‰¹æ€§ä¸ <code>setTimeout</code> ç±»ä¼¼</p><h2 id="å°æŠ€å·§"><a href="#å°æŠ€å·§" class="headerlink" title="å°æŠ€å·§"></a>å°æŠ€å·§</h2><ol><li><code>clearTimeout()</code> æ–¹æ³•å¯ä»¥æ¸…é™¤ Intervalï¼ŒåŒç†ï¼Œ<code>clearInterval()</code>æ–¹æ³•ä¹Ÿå¯ä»¥æ¸…é™¤ Timeoutï¼ˆä¸å»ºè®®ï¼Œä¼šé€ æˆè¯­ä¹‰æ­§ä¹‰ï¼‰</li><li>æµè§ˆå™¨çš„åˆ·æ–°é¢‘ç‡æ˜¯ <code>60HZ</code> ï¼Œæ¯ç§’å±å¹•çš„åˆ·æ–°æ¬¡æ•°ä¸º <code>1000/60 â‰ˆ 16.67</code>ï¼Œå³å»ºè®®åœ¨ä½¿ç”¨ setInterval å®ç°åŠ¨ç”»çš„æ—¶å€™ï¼Œæœ€å°æ—¶é—´é—´éš”ä¸º16msæˆ–17msï¼Œè¿™æ ·ä¼šä½¿åŠ¨ç”»çœ‹ä¸Šå»æ›´ä¸æ»‘ã€‚</li><li>setTimeout ä¸ setInterval å›è°ƒå‡½æ•°é‡Œçš„ this éƒ½æ˜¯æŒ‡å‘windowï¼Œæ”¹å˜ this æŒ‡å‘å¯ä»¥ä½¿ç”¨ apply ã€call ã€bind</li></ol>]]></content>
    
    
    <categories>
      
      <category>å­¦ä¹ ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>JavaScript</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å‰ç«¯ä¸‰å¤§ç™»é™†æ–¹å¼</title>
    <link href="/dylan/2021/11/14/login/"/>
    <url>/dylan/2021/11/14/login/</url>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>HTTP æ˜¯æ— çŠ¶æ€åè®®ï¼Œæ¯æ¬¡å’Œåç«¯é‡æ–°å»ºç«‹è¿æ¥çš„è¯ï¼Œåç«¯æ— æ³•åˆ¤æ–­è¯·æ±‚æ˜¯å¦æ¯æ¬¡æ¥è‡ªäºåŒä¸€ä¸ªç”¨æˆ·ï¼Œæ‰€ä»¥è¯ç”Ÿäº† cookieï¼Œä¼šéš HTTP è¯·æ±‚ä¸€èµ·å‘é€</p><p>cookie æºå¸¦äº†ç”¨æˆ·ä¿¡æ¯ï¼Œä½†åç«¯è¿˜éœ€è¦éªŒè¯ï¼Œå¾—é€šè¿‡ session å¯¹è±¡ã€‚è€Œ session å­˜å‚¨äº†ä¸€äº›ç”¨æˆ·ä¿¡æ¯ï¼Œå­˜åœ¨åç«¯æ˜¯é¿å…å‰ç«¯å­˜å‚¨æ•æ„Ÿæ•°æ®ã€‚é€šå¸¸å­˜åœ¨ç¼“å­˜é‡Œï¼Œæ¯”å¦‚ jvm æœ¬åœ°ç¼“å­˜ã€redis åˆ†å¸ƒå¼ç¼“å­˜</p><h2 id="Session"><a href="#Session" class="headerlink" title="Session"></a>Session</h2><ul><li>é¦–æ¬¡ç™»å½•ï¼šç”¨æˆ·è¾“å…¥è´¦å·å¯†ç ï¼Œå‰ç«¯å‘ HTTP è¯·æ±‚ï¼Œåç«¯éªŒè¯æ—¶ä¼šåˆ›å»º sessionIdï¼Œå¹¶ä¿å­˜ sessionId å’Œ session çš„æ˜ å°„å…³ç³»ï¼Œç„¶åé€šè¿‡ Set-Cookie å¤´å°† sessionId ç§åˆ° Cookie ä¸­ï¼Œå­˜åˆ°å‰ç«¯</li><li>åç»­ç™»å½•ï¼šè¯·æ±‚æºå¸¦åŒ…å«äº† sessionId çš„ cookie åˆ°åç«¯ï¼Œåç«¯æ¯”è¾ƒ sessionId å³å¯åˆ¤æ–­æ˜¯å“ªä¸ªç”¨æˆ·å‘çš„è¯·æ±‚</li></ul><p>ç¼ºç‚¹ï¼šæœåŠ¡ç«¯å­˜å‚¨äº†å¤§é‡ sessionï¼Œè®¿é—®é‡å¢å¤§æ—¶ï¼ŒæœåŠ¡å™¨å‹åŠ›å¤§ï¼Œç»´æŠ¤æˆæœ¬é«˜ã€‚</p><h2 id="Token"><a href="#Token" class="headerlink" title="Token"></a>Token</h2><blockquote><p>token è§£å†³äº† session å­˜åœ¨çš„é—®é¢˜ï¼Œå› ä¸º token ä¿å­˜åœ¨å‰ç«¯</p></blockquote><p>token æ˜¯åç«¯ç”Ÿæˆçš„ä¸€ä¸²å­—ç¬¦ä¸²ï¼Œç¬¬ä¸€æ¬¡è®¿é—®æ—¶åç«¯ç”Ÿæˆ tokenï¼Œåç»­æ¯æ¬¡è®¿é—®éƒ½è¦è¿™ä¸ª token è¿›è¡ŒéªŒè¯ã€‚</p><p>JWTï¼ˆJSON Web Tokenï¼‰ï¼šç”±ä¸‰éƒ¨åˆ†ç»„æˆï¼šHeaderï¼ˆå¤´éƒ¨ï¼‰Payloadï¼ˆè´Ÿè½½ï¼‰Signatureï¼ˆç­¾åï¼‰</p><p>token å¯ä»¥å­˜æ”¾åœ¨ cookie é‡Œé¢ï¼Œæœ€å¥½çš„æ–¹å¼æ˜¯æ”¾åœ¨ Authorizatoin ä¸­</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">Authorization: Bearer &lt;token&gt; <br></code></pre></td></tr></table></figure><p>ä¼˜ç‚¹ï¼š<br>é¿å¼€åŒæºç­–ç•¥ã€é¿å… CSRF æ”»å‡»ã€token æ— çŠ¶æ€ï¼Œå¤šä¸ªæœåŠ¡å™¨å¯å…±äº«</p><p>ç¼ºç‚¹ï¼š<br>åç«¯æ— æ³•ä½œåºŸ token ï¼Œåªèƒ½ç­‰ token è‡ªåŠ¨ä½œåºŸ</p><h2 id="SSOï¼ˆæµ…æï¼‰"><a href="#SSOï¼ˆæµ…æï¼‰" class="headerlink" title="SSOï¼ˆæµ…æï¼‰"></a>SSOï¼ˆæµ…æï¼‰</h2><p>é¦–æ¬¡ç™»å½•ï¼š<br>ç”¨æˆ·é¦–æ¬¡è®¿é—®ç½‘ç«™ a.com é¡µé¢ï¼Œæœªç™»å½•åˆ™æºå¸¦åœ°å€å‚æ•°é‡å®šå‘åˆ° sso è®¤è¯ä¸­å¿ƒï¼Œç”¨æˆ·è¾“å…¥è´¦å·å¯†ç éªŒè¯æˆåŠŸï¼Œåˆ™è®¤è¯ä¸­å¿ƒç”Ÿæˆä»¤ç‰Œ token é€šè¿‡ Set-Cookie ç§å…¥ cookieï¼Œè¿”å› a.com<br>a.com æ”¶åˆ° token åä¼šå†å»è®¤è¯ä¸­å¿ƒç¡®è®¤ä¸€æ¬¡æ˜¯å¦ä¸ºçœŸï¼ˆé˜²ç¯¡æ”¹ï¼‰ï¼Œä¸ºçœŸåˆ™ç™»å½•æˆåŠŸï¼ŒåŒæ—¶åç«¯ä¼šå°†ç™»é™†ä¿¡æ¯å†™å…¥ cookie è¿”å›ç»™å‰ç«¯ï¼Œæ­¤æ—¶å‰ç«¯ä¿å­˜äº† a.com å’Œ sso çš„ç™»å½•æ€</p><p>åç»­ç™»é™†ï¼š<br>è‹¥ç”¨æˆ·è®¿æ–‡ a.com ä¸‹çš„é¡µé¢ï¼Œåˆ™ä¼šç›´æ¥ç™»å½•æˆåŠŸ<br>è‹¥ç”¨æˆ·è®¿é—® b.comï¼Œcookie è¢«æºå¸¦è·³è½¬åˆ°è®¤è¯ä¸­å¿ƒï¼Œä¼šæ£€æµ‹å‡ºå·²ç™»å½•çŠ¶æ€ï¼Œåˆ™ç›´æ¥ä¸‹å‘ token å¹¶è¿”å› b.comï¼Œå®ç°ç™»å½•</p>]]></content>
    
    
    <categories>
      
      <category>é¢è¯•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>å‰ç«¯</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>cookie-Storage ç¬”è®°</title>
    <link href="/dylan/2021/11/12/cookie-storage/"/>
    <url>/dylan/2021/11/12/cookie-storage/</url>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p><code>cookie</code>ã€<code>sessionStorage</code>ã€<code>localStorage</code> éƒ½æ˜¯æµè§ˆå™¨æ•°æ®å‚¨å­˜çš„æ–¹æ¡ˆï¼ŒindexedDBã€Web SQï¼ˆä»æ¥æ²¡ç”¨è¿‡ã€å‰ç«¯æ•°æ®åº“ï¼Ÿï¼‰</p><h2 id="cookie"><a href="#cookie" class="headerlink" title="cookie"></a>cookie</h2><p><code>cookie</code> æ˜¯æµè§ˆå™¨ä¿å­˜åˆ°ç”¨æˆ·ç”µè„‘ä¸Šçš„ä¸€ä¸ªæ–‡æœ¬ï¼Œç”¨æˆ·é€šè¿‡ http è¯·æ±‚æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨å°†ä¸€äº›å­—å…¸çš„å‡å€¼å¯¹è¿”å›ç»™å®¢æˆ·ç«¯æµè§ˆå™¨ï¼Œå¹¶åŠ ä¸Šä¸€äº›é™åˆ¶æ¡ä»¶ï¼Œåœ¨æ¡ä»¶ç¬¦åˆæ—¶ç”¨æˆ·å†æ¬¡è®¿é—®æœåŠ¡å™¨æ—¶ï¼Œ<code>cookie</code> é€šè¿‡è¯·æ±‚å¤´å®Œæ•´çš„å¸¦å›ç»™æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨æ ¹æ® <code>cookie</code> ä¿¡æ¯åˆ¤æ–­ä¸åŒçš„ç”¨æˆ·ï¼Œè¿™é‡Œæ¶‰åŠåˆ° <code>cookie</code> ä¸ <code>session</code> ï¼Œ<code>session</code> æ˜¯å‚¨å­˜åœ¨æœåŠ¡å™¨æ•°æ®åº“çš„ï¼Œä¸åšå¤ªå¤šå™è¿°ï¼Œå¤§è‡´åŸç†æ˜¯æœåŠ¡å™¨é€šè¿‡ <code>cookie</code> æ‰¾åˆ°å¯¹åº”çš„ <code>session</code> ç”¨æ¥ä¿å­˜ç”¨æˆ·çŠ¶æ€ã€‚</p><p>cookie åˆ†ç±»</p><p>ä¼šè¯çº§åˆ«ï¼šå°±æ˜¯åœ¨æµè§ˆå™¨å…³é—­ä¹‹å <code>cookie</code> å°±ä¼šå¤±æ•ˆã€‚<br>æŒä¹…çº§åˆ«ï¼šä¿å­˜åœ¨ç¡¬ç›˜ï¼Œåªè¦è®¾ç½®äº†è¿‡æœŸæ—¶é—´å°±æ˜¯ã€‚</p><p>cookie å±æ€§</p><p>Name=Value é”®å€¼å¯¹ï¼šNameä¸èƒ½å’Œå…¶ä»–å±æ€§ç›¸åŒ<br>Expires è¿‡æœŸæ—¶é—´<br>Max-Age æœ‰æ•ˆæœŸï¼Œä¼˜å…ˆçº§å¤§äº Expires<br>Domain ç”Ÿæˆ <code>cookie</code> çš„åŸŸåç©ºé—´<br>Path è¿™ä¸ª <code>cookie</code> æ˜¯åœ¨ç³»ç»Ÿå“ªä¸ªæ–‡ä»¶è·¯å¾„ä¸‹ç”Ÿæˆçš„<br>Secure åŠ å¯†è®¾ç½®ï¼Œè®¾ç½®ä¹‹ååªèƒ½åœ¨ SSH è¿æ¥ç¯å¢ƒä¸‹æ‰èƒ½å›ä¼ è¿™ä¸ªcookie å±æ€§</p><p>cookie åˆ›å»º</p><p>Set-Cookie:value [;expires=expires] [;domain=domain] [;path=path] [;secure]</p><h2 id="sessionStorageä¸localStorage"><a href="#sessionStorageä¸localStorage" class="headerlink" title="sessionStorageä¸localStorage"></a>sessionStorageä¸localStorage</h2><p><code>sessionStorage</code>ï¼šå°†æ•°æ®ä¿å­˜åœ¨sessionå¯¹è±¡ä¸­ã€‚æ‰€è°“ sessionï¼Œæ˜¯æŒ‡ç”¨æˆ·åœ¨æµè§ˆæŸä¸ªç½‘ç«™æ—¶ï¼Œä»è¿›å…¥ç½‘ç«™åˆ°æµè§ˆå™¨å…³é—­æ‰€ç»è¿‡çš„è¿™æ®µæ—¶é—´ï¼Œä¹Ÿå°±æ˜¯ç”¨æˆ·æµè§ˆè¿™ä¸ªç½‘ç«™æ‰€èŠ±è´¹çš„æ—¶é—´ã€‚session å¯¹è±¡å¯ä»¥ç”¨æ¥ä¿å­˜åœ¨è¿™æ®µæ—¶é—´å†…æ‰€è¦æ±‚ä¿å­˜çš„ä»»ä½•æ•°æ®ã€‚</p><p><code>localStorage</code>ï¼šå°†æ•°æ®ä¿å­˜åœ¨å®¢æˆ·ç«¯æœ¬åœ°çš„ç¡¬ä»¶è®¾å¤‡(é€šå¸¸æŒ‡ç¡¬ç›˜ï¼Œä¹Ÿå¯ä»¥æ˜¯å…¶ä»–ç¡¬ä»¶è®¾å¤‡)ä¸­ï¼Œå³ä½¿æµè§ˆå™¨è¢«å…³é—­äº†ï¼Œè¯¥æ•°æ®ä»ç„¶å­˜åœ¨ï¼Œä¸‹æ¬¡æ‰“å¼€æµè§ˆå™¨è®¿é—®ç½‘ç«™æ—¶ä»ç„¶å¯ä»¥ç»§ç»­ä½¿ç”¨ã€‚</p><p>è¿™ä¸¤è€…çš„åŒºåˆ«åœ¨äºï¼Œ<code>sessionStorage</code> ä¸ºä¸´æ—¶ä¿å­˜ï¼Œè€Œ <code>localStorage</code> ä¸ºæ°¸ä¹…ä¿å­˜ã€‚</p><p>ä½¿ç”¨ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs javascript">sessionStorage.setItem(<span class="hljs-string">&#x27;name&#x27;</span>,data) <span class="hljs-comment">//åˆ›å»º</span><br>sessionStorage.getItem(<span class="hljs-string">&#x27;name&#x27;</span>) <span class="hljs-comment">//è·å–</span><br>sessionStorage.removeItem(<span class="hljs-string">&#x27;name&#x27;</span>) <span class="hljs-comment">//åˆ é™¤</span><br>sessionStorage.clear() <span class="hljs-comment">//æ¸…ç©ºæ‰€æœ‰</span><br><span class="hljs-built_in">localStorage</span>.setItem(<span class="hljs-string">&#x27;name&#x27;</span>,data) <span class="hljs-comment">//åˆ›å»º</span><br><span class="hljs-built_in">localStorage</span>.getItem(<span class="hljs-string">&#x27;name&#x27;</span>) <span class="hljs-comment">//è·å–</span><br><span class="hljs-built_in">localStorage</span>.removeItem(<span class="hljs-string">&#x27;name&#x27;</span>) <span class="hljs-comment">//åˆ é™¤</span><br><span class="hljs-built_in">localStorage</span>.clear() <span class="hljs-comment">//æ¸…ç©ºæ‰€æœ‰</span><br></code></pre></td></tr></table></figure><h2 id="cookieã€WebStorageåŒºåˆ«"><a href="#cookieã€WebStorageåŒºåˆ«" class="headerlink" title="cookieã€WebStorageåŒºåˆ«"></a>cookieã€WebStorageåŒºåˆ«</h2><ol><li>å‚¨å­˜ç©ºé—´ï¼š<code>cookie</code> ä¸º4kï¼Œ<code>WebStorage</code> ä¸º5M</li><li>ç”Ÿå‘½å‘¨æœŸï¼š<code>cookie</code> æŒ‡å®šè¿‡æœŸæ—¶é—´ï¼Œ<code>sessionStorage</code> é¡µé¢ä¼šè¯æœŸé—´å¯ç”¨ï¼Œ<code>localStorage</code> æ°¸ä¹…æœ‰æ•ˆï¼Œé™¤éæ‰‹åŠ¨åˆ é™¤ã€‚</li><li>é€šä¿¡ï¼š<code>cookie</code> æ¯æ¬¡è¯·æ±‚éƒ½ä¼šæºå¸¦ï¼Œ<code>WebStorage</code> ä¸ä¼šã€‚</li><li>æ˜“ç”¨æ€§ï¼š<code>cookie</code> éœ€è¦è‡ªå·±å°è£… setCookieã€getCookieï¼Œ<code>WebStorage</code> æœ‰åŸç”Ÿ APIï¼Œå¯ä»¥é€šè¿‡ stringify å’Œ parse å‚¨å­˜æ•°ç»„ä¸å¯¹è±¡ã€‚</li></ol>]]></content>
    
    
    <categories>
      
      <category>é¢è¯•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>å‰ç«¯</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å®ç° new ç¬”è®°</title>
    <link href="/dylan/2021/11/10/new/"/>
    <url>/dylan/2021/11/10/new/</url>
    
    <content type="html"><![CDATA[<h2 id="newçš„è¿‡ç¨‹"><a href="#newçš„è¿‡ç¨‹" class="headerlink" title="newçš„è¿‡ç¨‹"></a>newçš„è¿‡ç¨‹</h2><ol><li>åˆ›å»ºä¸€ä¸ªç©ºå¯¹è±¡</li><li>å°†ç©ºå¯¹è±¡çš„åŸå‹æŒ‡å‘æ„é€ å‡½æ•°çš„åŸå‹</li><li>å°†è¿™ä¸ªç©ºå¯¹è±¡çš„ this æŒ‡å‘ä¸ºæ„é€ å‡½æ•°</li></ol><h2 id="å®ç°new"><a href="#å®ç°new" class="headerlink" title="å®ç°new"></a>å®ç°new</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">myNew</span>(<span class="hljs-params"></span>)</span>&#123;<br><span class="hljs-keyword">let</span> args = <span class="hljs-built_in">Array</span>.prototype.slice.call(<span class="hljs-built_in">arguments</span>,<span class="hljs-number">0</span>)  <br><span class="hljs-keyword">let</span> <span class="hljs-title">constructor</span> = <span class="hljs-title">args</span>.<span class="hljs-title">shift</span>(<span class="hljs-params"></span>)                    <br><span class="hljs-title">let</span> <span class="hljs-title">content</span> = &#123;&#125;                                    <br>content.__proto__ = <span class="hljs-title">constructor</span>.<span class="hljs-title">prototype</span>           <br><span class="hljs-title">constructor</span>.<span class="hljs-title">apply</span>(<span class="hljs-params">content,args</span>)                  <br><span class="hljs-title">return</span> <span class="hljs-title">content</span><br>&#125;<br></code></pre></td></tr></table></figure><h2 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h2><p><code>let args = Array.prototype.slice.call(arguments,0)</code>   arguments æ˜¯ä¸€ä¸ªä¼ªæ•°ç»„ï¼Œæ²¡æœ‰æ•°ç»„çš„ä¸€äº›åŸå‹æ–¹æ³•ï¼Œè¿™æ®µä»£ç çš„æ„æ€æ˜¯è®© arguments å€Ÿè°ƒ Array çš„åŸå‹æ–¹æ³• slice è¿”å›åŸæ•°ç»„ï¼Œä½¿ arguments æˆä¸ºäº†ä¸€ä¸ªçœŸæ•°ç»„</p><p><code>let constructor = args.shift()</code> ç°åœ¨çš„ constructor å®é™…ä¸Šå°±æ˜¯ä¼ å…¥çš„æ„é€ å‡½æ•°ï¼Œæ³¨æ„ shift æ–¹æ³•ä¼šæ”¹å˜åŸæ•°ç»„ï¼Œæ‰€ä»¥å‰©ä¸‹çš„ args é‡Œé¢éƒ½æ˜¯å‚æ•°</p><p><code>content.__proto__ = constructor.prototype</code> å°†ç©ºå¯¹è±¡çš„åŸå‹æŒ‡å‘æ„é€ å‡½æ•°çš„åŸå‹</p><p><code>constructor.apply(content,args)</code> æ”¹å˜ç©ºå¯¹è±¡çš„ this æŒ‡å‘ä¸ºæ„é€ å‡½æ•°</p><h2 id="ç»“æœ"><a href="#ç»“æœ" class="headerlink" title="ç»“æœ"></a>ç»“æœ</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">myNew</span>(<span class="hljs-params"></span>)</span>&#123;<br>    <span class="hljs-keyword">let</span> args = <span class="hljs-built_in">Array</span>.prototype.slice.call(<span class="hljs-built_in">arguments</span>,<span class="hljs-number">0</span>)  <br>    <span class="hljs-keyword">let</span> <span class="hljs-title">constructor</span> = <span class="hljs-title">args</span>.<span class="hljs-title">shift</span>(<span class="hljs-params"></span>)                    <br>    <span class="hljs-title">let</span> <span class="hljs-title">content</span> = &#123;&#125;                                    <br>    content.__proto__ = <span class="hljs-title">constructor</span>.<span class="hljs-title">prototype</span>         <br>    <span class="hljs-title">constructor</span>.<span class="hljs-title">apply</span>(<span class="hljs-params">content,args</span>)                    <br><span class="hljs-title">return</span> <span class="hljs-title">content</span><br>&#125;<br><span class="hljs-title">function</span> <span class="hljs-title">Person</span>(<span class="hljs-params">name,age</span>)&#123;<br><span class="hljs-built_in">this</span>.name = name<br>    <span class="hljs-built_in">this</span>.age = age<br>&#125;<br><span class="hljs-keyword">let</span> a = <span class="hljs-keyword">new</span> Person(<span class="hljs-string">&#x27;å¼ ä¸‰&#x27;</span>,<span class="hljs-number">1</span>)<br><span class="hljs-keyword">let</span> b = myNew(Person,<span class="hljs-string">&quot;æå››&quot;</span>,<span class="hljs-number">2</span>)<br><span class="hljs-built_in">console</span>.log(a)<br><span class="hljs-built_in">console</span>.log(b)<br></code></pre></td></tr></table></figure><p><img src="/dylan/imgs/new/1.png" alt="å›¾1"></p>]]></content>
    
    
    <categories>
      
      <category>å­¦ä¹ ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>JavaScript</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ‰‹å†™applyã€callã€bind ç¬”è®°</title>
    <link href="/dylan/2021/11/10/apply-call-bind/"/>
    <url>/dylan/2021/11/10/apply-call-bind/</url>
    
    <content type="html"><![CDATA[<h2 id="apply"><a href="#apply" class="headerlink" title="apply"></a>apply</h2><p>call æ–¹æ³•ä½¿ç”¨ä¸€ä¸ªæŒ‡å®šçš„ this å€¼å’Œå•ç‹¬ç»™å‡ºçš„ä¸€ä¸ªæˆ–å¤šä¸ªå‚æ•°æ¥è°ƒç”¨ä¸€ä¸ªå‡½æ•°</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> value=<span class="hljs-number">1</span>;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">foo</span>(<span class="hljs-params">x,y</span>) </span>&#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">this</span>.value)<br>&#125;<br><span class="hljs-keyword">var</span> obj=&#123;<br>    <span class="hljs-attr">value</span>: <span class="hljs-number">2</span><br>&#125;<br>foo(); <span class="hljs-comment">// 1 </span><br>foo.call(obj,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>);  <span class="hljs-comment">// 2</span><br></code></pre></td></tr></table></figure><p>ç»™ foo å‡½æ•°ç»‘å®š call æ–¹æ³•ï¼Œå°† foo å‡½æ•°é‡Œçš„ this æŒ‡å‘ obj ï¼Œæ‰€ä»¥<code>foo.call(obj,3,4)</code>è¾“å‡ºç»“æœä¸º2</p><p>ç‰¹ç‚¹ï¼š</p><p>1.å‚æ•°ä¼ é€’ä»¥é€—å·éš”å¼€</p><p>2.ç«‹å³æ‰§è¡Œ</p><h2 id="call"><a href="#call" class="headerlink" title="call"></a>call</h2><p>call æ–¹æ³•ä¸ apply ç±»ä¼¼</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> value=<span class="hljs-number">1</span>;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">foo</span>(<span class="hljs-params">x,y</span>) </span>&#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">this</span>.value)<br>&#125;<br><span class="hljs-keyword">var</span> obj=&#123;<br>    <span class="hljs-attr">value</span>: <span class="hljs-number">2</span><br>&#125;<br>foo(); <span class="hljs-comment">// 1 </span><br>foo.apply(obj,[<span class="hljs-number">3</span>,<span class="hljs-number">4</span>]);  <span class="hljs-comment">// 2</span><br></code></pre></td></tr></table></figure><p>ç‰¹ç‚¹ï¼š</p><p>1.å‚æ•°ä¼ é€’ä»¥æ•°ç»„çš„å½¢å¼</p><p>2.ç«‹å³æ‰§è¡Œ</p><h2 id="bind"><a href="#bind" class="headerlink" title="bind"></a>bind</h2><p>bind æ–¹æ³•åˆ›å»ºä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œä¹Ÿå¯ä»¥è¯´æ˜¯å½“å‰è°ƒç”¨bindæ–¹æ³•çš„å‡½æ•°çš„ä¸€ä¸ªå¼•ç”¨ï¼Œè¿™ä¸ªå‡½æ•°çš„ this è¢«ç»‘å®šä¸º bind æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œå…¶ä½™å‚æ•°ä¸ºè¿™ä¸ªæ–°å‡½æ•°çš„å®å‚ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> value=<span class="hljs-number">1</span>;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">foo</span>(<span class="hljs-params">x,y</span>) </span>&#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">this</span>.value)<br>&#125;<br><span class="hljs-keyword">var</span> obj=&#123;<br>    <span class="hljs-attr">value</span>: <span class="hljs-number">2</span><br>&#125;<br><span class="hljs-keyword">var</span> bar=foo.bind(obj,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>);<br>bar(); <span class="hljs-comment">// 2</span><br></code></pre></td></tr></table></figure><p>å½“æˆ‘ä»¬ä½¿ç”¨ bind æ–¹æ³•åˆ›å»ºä¸€ä¸ªæ–°å‡½æ•°ï¼Œè¿™ä¸ªæ–°å‡½æ•°å†ä½¿ç”¨ call æˆ–è€… apply æ¥æ›´æ”¹ this ç»‘å®šæ—¶ï¼Œè¿˜æ˜¯ä»¥ bind ç»‘å®šçš„ this ä¸ºå‡†ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> value=<span class="hljs-number">1</span>;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">foo</span>(<span class="hljs-params">x,y</span>) </span>&#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">this</span>.value)<br>&#125;<br><span class="hljs-keyword">var</span> obj=&#123;<br>    <span class="hljs-attr">value</span>: <span class="hljs-number">2</span><br>&#125;<br><span class="hljs-keyword">var</span> o=&#123;<br>    <span class="hljs-attr">value</span>: <span class="hljs-number">3</span><br>&#125;<br><span class="hljs-keyword">var</span> bar=foo.bind(obj,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>);<br>bar.call(o); <span class="hljs-comment">// 2</span><br></code></pre></td></tr></table></figure><h2 id="åŒºåˆ«"><a href="#åŒºåˆ«" class="headerlink" title="åŒºåˆ«"></a>åŒºåˆ«</h2><p>ç›¸åŒç‚¹ï¼š</p><ol><li>éƒ½ä¼šæ›´æ”¹thisçš„ç»‘å®š</li></ol><p>ä¸åŒç‚¹ï¼š</p><ol><li>call å’Œ apply ä¼šç«‹å³æ‰§è¡Œå‡½æ•°ï¼Œbind ä¸ä¼šã€‚</li><li>apply æ–¹æ³•çš„ä¼ å‚æ ¼å¼ä¸ºæ•°ç»„ï¼Œcall å’Œ bind ä¸æ˜¯ã€‚</li></ol><h2 id="æ‰‹å†™å®ç°"><a href="#æ‰‹å†™å®ç°" class="headerlink" title="æ‰‹å†™å®ç°"></a>æ‰‹å†™å®ç°</h2><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs actionscript"><span class="hljs-keyword">var</span> name = <span class="hljs-number">1</span><br>    Function.prototype.myCall = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(ctx, <span class="hljs-rest_arg">...args</span>)</span> </span>&#123;<br>        let fn = Symbol(<span class="hljs-number">1</span>)<br>        ctx[fn] = <span class="hljs-keyword">this</span><br>        ctx[fn](...args)<br>        <span class="hljs-keyword">delete</span> ctx[fn]<br>    &#125;<br>    Function.prototype.myApply = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(ctx, args = [])</span> </span>&#123;<br>        let fn = Symbol(<span class="hljs-number">1</span>)<br>        <span class="hljs-keyword">if</span>(args&amp;&amp;!(args <span class="hljs-keyword">instanceof</span> Array))&#123;<br>            <span class="hljs-keyword">throw</span>(<span class="hljs-string">&#x27;å‚æ•°ä¸æ˜¯æ•°ç»„&#x27;</span>)<br>        &#125;<br>        ctx[fn] = <span class="hljs-keyword">this</span><br>        ctx[fn](...args)<br>        <span class="hljs-keyword">delete</span> ctx[fn]<br>    &#125;<br>    Function.prototype.myBind = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(ctx, <span class="hljs-rest_arg">...args1</span>)</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> (...args2)=&gt;&#123;<br>            let fn = Symbol(<span class="hljs-number">1</span>)<br>            ctx[fn] = <span class="hljs-keyword">this</span><br>            ctx[fn](...args1.concat(args2))<br>            <span class="hljs-keyword">delete</span> ctx[fn]<br>        &#125;<br>    &#125;<br>    obj2 = &#123;<br>        name: <span class="hljs-number">2</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">show</span><span class="hljs-params">(<span class="hljs-rest_arg">...args</span>)</span> </span>&#123;<br>        console.log(<span class="hljs-keyword">this</span>.name, ...args)<br>    &#125;<br>    show(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>)<span class="hljs-comment">// 1 1 2 3</span><br>    show.myCall(obj2, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>)<span class="hljs-comment">// 2 1 2 3</span><br>    show.myApply(obj2, [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>])<span class="hljs-comment">// 2 1 2 3</span><br>    show.myBind(obj2, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>)()<span class="hljs-comment">// 2 1 2 3</span><br></code></pre></td></tr></table></figure><p><code>let fn = Symbol(1)</code> çš„ä½œç”¨æ˜¯ä¸ºäº†é¿å…è¦†ç›–ï¼Œä¿è¯ fn å±æ€§çš„å”¯ä¸€æ€§ï¼ŒmyApply éœ€è¦åˆ¤æ–­ä¼ å…¥çš„å‚æ•°æ˜¯å¦ä¸ºæ•°ç»„å½¢å¼ï¼ŒmyBind éœ€è¦è¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œå› ä¸º bind ä¸æ˜¯ç«‹å³æ‰§è¡Œçš„ï¼Œæœ€åéœ€è¦ <code>delete ctx[fn]</code> </p>]]></content>
    
    
    <categories>
      
      <category>å­¦ä¹ ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>JavaScript</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>BFC ç¬”è®°</title>
    <link href="/dylan/2021/11/08/BFC/"/>
    <url>/dylan/2021/11/08/BFC/</url>
    
    <content type="html"><![CDATA[<h2 id="ä¸€ã€BFCæ¦‚å¿µ"><a href="#ä¸€ã€BFCæ¦‚å¿µ" class="headerlink" title="ä¸€ã€BFCæ¦‚å¿µ"></a>ä¸€ã€BFCæ¦‚å¿µ</h2><p>BFC  å³  Block Formatting Contexts (å—çº§æ ¼å¼åŒ–ä¸Šä¸‹æ–‡)ï¼Œ<strong>å…·æœ‰ BFC ç‰¹æ€§çš„å…ƒç´ å¯ä»¥çœ‹ä½œæ˜¯éš”ç¦»äº†çš„ç‹¬ç«‹å®¹å™¨ï¼Œå®¹å™¨é‡Œé¢çš„å…ƒç´ ä¸ä¼šåœ¨å¸ƒå±€ä¸Šå½±å“åˆ°å¤–é¢çš„å…ƒç´ ï¼Œå¹¶ä¸” BFC å…·æœ‰æ™®é€šå®¹å™¨æ‰€æ²¡æœ‰çš„ä¸€äº›ç‰¹æ€§ã€‚</strong>é€šä¿—ä¸€ç‚¹æ¥è®²ï¼Œå¯ä»¥æŠŠ BFC ç†è§£ä¸ºä¸€ä¸ªå°é—­çš„å¤§ç®±å­ï¼Œç®±å­å†…éƒ¨çš„å…ƒç´ æ— è®ºå¦‚ä½•ç¿»æ±Ÿå€’æµ·ï¼Œéƒ½ä¸ä¼šå½±å“åˆ°å¤–éƒ¨ï¼ˆBFCçš„å­å…ƒç´ ä¸ä¼šå½±å“BFCå¤–éƒ¨çš„å…ƒç´ ï¼‰ã€‚</p><h2 id="äºŒã€è§¦å‘BFCæ¡ä»¶"><a href="#äºŒã€è§¦å‘BFCæ¡ä»¶" class="headerlink" title="äºŒã€è§¦å‘BFCæ¡ä»¶"></a>äºŒã€è§¦å‘BFCæ¡ä»¶</h2><ul><li><p>body æ ¹å…ƒç´ </p></li><li><p>æµ®åŠ¨å…ƒç´ ï¼šfloat é™¤ none ä»¥å¤–çš„å€¼</p><p><code>float:left;</code> å·¦æµ®åŠ¨ </p><p><code>float:right;</code>  å³æµ®åŠ¨</p><p><code>float:inherit;</code>  ç»§æ‰¿çˆ¶å…ƒç´ floatå±æ€§</p></li><li><p>ç»å¯¹å®šä½å…ƒç´ ï¼šposition (absoluteã€fixed)</p><p><code>position:absolute;</code> ç»å¯¹å®šä½ç›¸å¯¹äºstaticä»¥å¤–çš„ç¬¬ä¸€ä¸ªçˆ¶å…ƒç´  </p><p><code>position:fixed;</code>  ç›¸å¯¹æµè§ˆå™¨å®šä½</p></li><li><p>display ä¸º inline-blockã€table-cellsã€flex</p><p><code>dispaly:inline-block;</code> è¡Œå†…å—å…ƒç´  </p><p><code>display:table-cell;</code> æ­¤å…ƒç´ ä¼šä½œä¸ºä¸€ä¸ªè¡¨æ ¼å•å…ƒæ ¼æ˜¾ç¤º</p><p><code>display:flex;</code>  å¼¹æ€§å¸ƒå±€  </p></li><li><p>overflow é™¤äº† visible ä»¥å¤–çš„å€¼ (hiddenã€autoã€scroll)</p><p><code>overflow:hidden;</code> å†…å®¹ä¼šè¢«ä¿®å‰ªï¼Œå¹¶ä¸”å…¶ä½™å†…å®¹æ˜¯ä¸å¯è§çš„</p><p><code>overflow:scroll;</code> å†…å®¹ä¼šè¢«ä¿®å‰ªï¼Œä½†æ˜¯æµè§ˆå™¨ä¼šæ˜¾ç¤ºæ»šåŠ¨æ¡ä»¥ä¾¿æŸ¥çœ‹å…¶ä½™çš„å†…å®¹ã€‚</p><p><code>overflow:auto;</code> å¦‚æœå†…å®¹è¢«ä¿®å‰ªï¼Œåˆ™æµè§ˆå™¨ä¼šæ˜¾ç¤ºæ»šåŠ¨æ¡ä»¥ä¾¿æŸ¥çœ‹å…¶ä½™çš„å†…å®¹ã€‚</p><p><code>overflow:inherit;</code> è§„å®šåº”è¯¥ä»çˆ¶å…ƒç´ ç»§æ‰¿ overflow å±æ€§çš„å€¼ã€‚</p></li></ul><h2 id="ä¸‰ã€BFCè§£å†³çš„é—®é¢˜"><a href="#ä¸‰ã€BFCè§£å†³çš„é—®é¢˜" class="headerlink" title="ä¸‰ã€BFCè§£å†³çš„é—®é¢˜"></a>ä¸‰ã€BFCè§£å†³çš„é—®é¢˜</h2><h4 id="1-marginé‡åˆ"><a href="#1-marginé‡åˆ" class="headerlink" title="1.marginé‡åˆ"></a>1.marginé‡åˆ</h4><p>ä»£ç å¦‚ä¸‹:</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css"></span><br><span class="css">    <span class="hljs-selector-class">.box1</span> &#123;</span><br><span class="css">        <span class="hljs-attribute">width</span>: <span class="hljs-number">100px</span>;</span><br><span class="css">        <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;</span><br><span class="css">        <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">20px</span>;</span><br><span class="css">        <span class="hljs-attribute">background-color</span>: brown;</span><br><span class="css">    &#125;</span><br><span class="css">    <span class="hljs-selector-class">.box2</span> &#123;</span><br><span class="css">        <span class="hljs-attribute">width</span>: <span class="hljs-number">100px</span>;</span><br><span class="css">        <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;</span><br><span class="css">        <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">20px</span>;</span><br><span class="css">        <span class="hljs-attribute">background-color</span>: aqua;</span><br><span class="css">    &#125;</span><br><span class="css">    <span class="hljs-selector-class">.father</span>&#123;</span><br><span class="css">        <span class="hljs-comment">/* overflow: hidden; */</span></span><br><span class="css">    &#125;</span><br><span class="css"></span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;father&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;box1&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;father&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;box2&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br></code></pre></td></tr></table></figure><p>box1 ä¸ box2 ä¸­é—´å¹¶ä¸ä¼šé—´è· 40pxï¼Œè€Œæ˜¯20pxï¼ŒåŠ å…¥ BFC ä¹‹å box1 ä¸ box2 æ˜æ˜¾é—´éš” 40pxã€‚</p><p>å›¾1åŠ å…¥BFCä¹‹å‰ï¼Œå›¾2åŠ å…¥BFCä¹‹å</p><p><img src="/dylan/imgs/BFC/1.png" alt="å›¾1"><img src="/dylan/imgs/BFC/2.png" alt="å›¾2"></p><h4 id="2-marginå¡Œé™·"><a href="#2-marginå¡Œé™·" class="headerlink" title="2.marginå¡Œé™·"></a>2.marginå¡Œé™·</h4><p>ä»£ç å¦‚ä¸‹:</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css"></span><br><span class="css">    <span class="hljs-selector-class">.box1</span> &#123;</span><br><span class="css">        <span class="hljs-attribute">width</span>: <span class="hljs-number">50px</span>;</span><br><span class="css">        <span class="hljs-attribute">height</span>: <span class="hljs-number">50px</span>;</span><br><span class="css">        <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">50px</span>;</span><br><span class="css">        <span class="hljs-attribute">background-color</span>: brown;</span><br><span class="css">    &#125;</span><br><span class="css">    <span class="hljs-selector-class">.father</span>&#123;</span><br><span class="css">        <span class="hljs-attribute">width</span>: <span class="hljs-number">100px</span>;</span><br><span class="css">        <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;</span><br><span class="css">        <span class="hljs-attribute">background-color</span>: coral;</span><br><span class="css">        <span class="hljs-comment">/* overflow: hidden; */</span></span><br><span class="css">    &#125;</span><br><span class="css"></span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;father&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;box1&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br></code></pre></td></tr></table></figure><p>ç»™çš„æ˜¯box1 <code>margin-top:50px</code> è€Œ father å—åˆ°äº†box1 <code>margin-top:50px</code> çš„å½±å“ï¼Œä¹Ÿå‘ä¸‹åç§»ï¼Œç»™fatheræ’¤é”€ overflow æ³¨é‡Šåï¼Œfather ä½ç½®ä¸å˜ï¼Œbox1 å‘ä¸‹ç§»50pxã€‚</p><p>å›¾3åŠ å…¥BFCä¹‹å‰ï¼Œå›¾4åŠ å…¥BFCä¹‹å</p><p><img src="/dylan/imgs/BFC/3.png" alt="å›¾3"><img src="/dylan/imgs/BFC/4.png" alt="å›¾4"></p><h4 id="3-é«˜åº¦åå¡Œ"><a href="#3-é«˜åº¦åå¡Œ" class="headerlink" title="3.é«˜åº¦åå¡Œ"></a>3.é«˜åº¦åå¡Œ</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css"></span><br><span class="css">    <span class="hljs-selector-class">.box1</span> &#123;</span><br><span class="css">        <span class="hljs-attribute">width</span>: <span class="hljs-number">100px</span>;</span><br><span class="css">        <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;</span><br><span class="css">        <span class="hljs-comment">/* background-color: brown; */</span></span><br><span class="css">        <span class="hljs-attribute">float</span>: left;</span><br><span class="css">    &#125;</span><br><span class="css">    <span class="hljs-selector-class">.father</span>&#123;</span><br><span class="css">        <span class="hljs-attribute">width</span>: <span class="hljs-number">100px</span>;</span><br><span class="css">        <span class="hljs-attribute">background-color</span>: coral;</span><br><span class="css">        <span class="hljs-comment">/* overflow: hidden; */</span></span><br><span class="css">        <span class="hljs-attribute">border</span>: <span class="hljs-number">2px</span> solid black;</span><br><span class="css">    &#125;</span><br><span class="css"></span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;father&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;box1&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br></code></pre></td></tr></table></figure><p>çˆ¶å…ƒç´ æ²¡æœ‰è®¾ç½®é«˜åº¦ï¼Œè€Œ box1 ä¾æ—§å­˜åœ¨ä¸ father æ ‡ç­¾é‡Œé¢ï¼Œå¯çœ‹ä¸è§çˆ¶å…ƒç´ çš„èƒŒæ™¯è‰²ï¼Œè¯´æ˜çˆ¶å…ƒç´ çš„é«˜åº¦å—å­å…ƒç´ çš„å½±å“ã€‚</p><p>å›¾5åŠ å…¥ BFC ä¹‹å‰ï¼Œå›¾6åŠ å…¥ BFC ä¹‹å</p><p><img src="/dylan/imgs/BFC/5.png" alt="å›¾5"><img src="/dylan/imgs/BFC/6.png" alt="å›¾6"></p>]]></content>
    
    
    <categories>
      
      <category>å­¦ä¹ ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>CSS</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hexo-Fluidåšå®¢æ­å»º</title>
    <link href="/dylan/2021/11/03/createBlog/"/>
    <url>/dylan/2021/11/03/createBlog/</url>
    
    <content type="html"><![CDATA[<p class="note note-info">å¤§å­¦è¿˜æ²¡æ¯•ä¸šå°±å¾ˆå–œæ¬¢ Hexo çš„ Fluid ä¸»é¢˜ï¼Œé‚£æ—¶å€™å®ä¹ å…¬å¸é¡¹ç›®ç”¨çš„ React+TSï¼Œæƒ³ç€ç”¨ React å†™ä¸€ä¸ªï¼Œä¸ºäº†æ­åšå®¢è‡ªå·±è¿˜å»å­¦äº† express ï¼ˆå½“æ—¶èœçš„ä¸€æ‰¹ï¼Œå•¥éƒ½å­˜æ•°æ®åº“ï¼‰ï¼Œç…§ç€ Fluid çš„ UI å†™äº†ä¸ªåšå®¢ç³»ç»Ÿï¼Œåæ¥æœåŠ¡å™¨è¿‡æœŸäº†ï¼Œè¿™å‡ å¤©æƒ³ç€ç”¨ github éƒ¨ç½²ä¸‹ï¼Œç°åœ¨æ–‡ç« ç”¨ markdown å†™äº†ã€‚</p><p>è¿™é‡Œè®°å½•ä¸‹æˆ‘æ­åšå®¢çš„è¿‡ç¨‹ã€‚</p><p>å‡†å¤‡å·¥ä½œï¼š</p><p>ï¼ˆ1ï¼‰github ä»“åº“ï¼Œï¼ˆ2ï¼‰node ç¯å¢ƒï¼Œï¼ˆ3ï¼‰ hexo å®‰è£…</p><p>github ä»“åº“å’Œ node ç¯å¢ƒä¸åšä»‹ç»</p><p>hexo å®‰è£…å‘½ä»¤ä¸ºï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">npm install -g hexo-cli<br></code></pre></td></tr></table></figure><p>hexo åˆå§‹åŒ–å‘½ä»¤ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">hexo init myblog<br></code></pre></td></tr></table></figure><p>åšå®¢åˆå§‹åŒ–ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs javascript">cd myblog<span class="hljs-comment">//è¿›å…¥myblogæ–‡ä»¶å¤¹</span><br>npm i<br></code></pre></td></tr></table></figure><h2 id="ä¸€ã€åšå®¢æ­å»º"><a href="#ä¸€ã€åšå®¢æ­å»º" class="headerlink" title="ä¸€ã€åšå®¢æ­å»º"></a>ä¸€ã€åšå®¢æ­å»º</h2><h3 id="1-é€‰æ‹©ä¸»é¢˜"><a href="#1-é€‰æ‹©ä¸»é¢˜" class="headerlink" title="1.é€‰æ‹©ä¸»é¢˜"></a>1.é€‰æ‹©ä¸»é¢˜</h3><p>hexo å®˜ç½‘æœ‰å¾ˆå¤šä¸»é¢˜ï¼Œæˆ‘ä¸»è¦ä»¥ Fluid ä¸ºä¾‹ï¼Œæ¯ä¸ªä¸»é¢˜ github ä¸Šéƒ½æœ‰æè¿°æ–‡æ¡£ï¼Œå»ºè®®ç¿»å¢™è¿› github ï¼ˆå®˜ç½‘è€å´©ï¼‰ï¼ŒFluid ï¼š<a href="https://github.com/fluid-dev/hexo-theme-fluid">https://github.com/fluid-dev/hexo-theme-fluid</a></p><p>ç…§ç€æè¿°æ–‡æ¡£ä¸€æ­¥ä¸€æ­¥é…ç½®ä¸»é¢˜ï¼Œæˆ‘æ˜¯ä¸‹è½½çš„æ–‡ä»¶å¯¼å…¥ï¼ˆå®˜ç½‘å»ºè®®npmç›´æ¥å®‰è£…ï¼‰ï¼Œé‡ç‚¹äºä½ çš„ themes æ–‡ä»¶å¤¹ä¸‹éœ€è¦æœ‰ fluid æ–‡ä»¶å¤¹</p><p><img src="/dylan/imgs/createBlog/2021-11-3-1.png"></p><p>åœ¨æ ¹ç›®å½•æ–‡ä»¶ä¸‹<code>_config.yml</code>ï¼Œä¸æ˜¯ fluid æ–‡ä»¶å¤¹é‡Œçš„ï¼Œä¿®æ”¹ä¸»é¢˜é…ç½®ï¼š</p><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs avrasm"><span class="hljs-symbol">theme:</span> fluid  <span class="hljs-meta"># æŒ‡å®šä¸»é¢˜</span><br></code></pre></td></tr></table></figure><p>ä¹‹åä½¿ç”¨ hexo å‘½ä»¤ç”Ÿæˆé™æ€æ–‡ä»¶ï¼Œå¯åŠ¨</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-attribute">hexo</span> g<span class="hljs-comment"># ç”Ÿæˆé™æ€æ–‡ä»¶ï¼Œä½ å‘ç°æ–‡ä»¶å¤¹å¤šäº†publicæ–‡ä»¶</span><br>hexo s<span class="hljs-comment"># ä¸å‡ºæ„å¤– localhost:4000 å¯ä»¥æµè§ˆä½ çš„åšå®¢äº†</span><br></code></pre></td></tr></table></figure><h3 id="2-ä¸»é¢˜é…ç½®"><a href="#2-ä¸»é¢˜é…ç½®" class="headerlink" title="2.ä¸»é¢˜é…ç½®"></a>2.ä¸»é¢˜é…ç½®</h3><p>è¿™æ—¶ä½ å°±éœ€è¦è¿›å…¥ fluid æ–‡ä»¶å¤¹é‡Œçš„ <code>_config.yml</code> äº†ï¼Œä½ ä¼šå‘ç°é‡Œé¢ä¸€å¤§å †æ³¨é‡Šæ•™ä½ æ€ä¹ˆé…ç½®ä¸»é¢˜ï¼Œä¸»è¦æ˜¯ç•™è¨€æ¿å’Œæµè§ˆé‡é…ç½®æ¯”è¾ƒç»•ï¼Œè¿™ç•™è¨€æ¿æˆ‘é€‰çš„æ˜¯ <a href="https://valine.js.org/">valine</a> ï¼Œæµè§ˆé‡æ˜¯ <a href="https://console.leancloud.cn/apps">leancloud</a> ï¼Œä¸¤ä¸ªéƒ½æ˜¯fluidå†…ç½®çš„ã€‚</p><p>(1)ç•™è¨€æ¿ï¼š</p><p>å¼€å¯è¯„è®ºæ’ä»¶ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">comments:</span><br><span class="hljs-attr">enable:</span> <span class="hljs-literal">true</span><br><span class="hljs-attr">type:</span> <span class="hljs-string">valine</span><br></code></pre></td></tr></table></figure><p>valineé…ç½®ï¼š</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs dts"><span class="hljs-symbol">valine:</span><br><span class="hljs-symbol">appId:</span><span class="hljs-meta"># ä½ leancloudæ³¨å†Œå®Œï¼Œåœ¨è®¾ç½®-&gt;åº”ç”¨å‡­è¯</span><br><span class="hljs-symbol">appKey:</span><span class="hljs-meta"># åŒä¸Š</span><br></code></pre></td></tr></table></figure><p><img src="/dylan/imgs/createBlog/2021-11-3-2.png"></p><p>å¼€å¯æµè§ˆé‡ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">statistics:<br><span class="hljs-built_in">enable</span>: <span class="hljs-literal">true</span><br><span class="hljs-built_in">source</span>: <span class="hljs-string">&quot;leancloud&quot;</span><br></code></pre></td></tr></table></figure><p>leancloudé…ç½®:</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs dts"><span class="hljs-symbol">leancloud:</span><br><span class="hljs-symbol">    app_id:</span> <span class="hljs-comment">//åŒä¸Š</span><br><span class="hljs-symbol">    app_key:</span> <span class="hljs-comment">//åŒä¸Š</span><br></code></pre></td></tr></table></figure><p>å‰©ä¸‹çš„å›¾ç‰‡ï¼Œæ–‡å­—é…ç½®éƒ½å¾ˆç®€å•</p><h2 id="äºŒã€åšå®¢éƒ¨ç½²"><a href="#äºŒã€åšå®¢éƒ¨ç½²" class="headerlink" title="äºŒã€åšå®¢éƒ¨ç½²"></a>äºŒã€åšå®¢éƒ¨ç½²</h2><h3 id="1-github-PagesåŸŸå"><a href="#1-github-PagesåŸŸå" class="headerlink" title="1.github PagesåŸŸå"></a>1.github PagesåŸŸå</h3><p>github ä»“åº“çš„åˆ›å»ºç½‘ä¸Šä¸€å¤§æ¨ï¼Œé¡ºä¾¿ç»™ä¸ª <a href="https://wiki.jikexueyuan.com/project/github-basics/creat-new-repo.html">https://wiki.jikexueyuan.com/project/github-basics/creat-new-repo.html</a></p><p>ä½ å¯ä»¥åˆ›å»ºå¥½ä»“åº“ä¸ç”¨å…³è”ä½ çš„æœ¬åœ°æ–‡ä»¶ï¼Œä¸è¿‡ <a href="https://blog.csdn.net/qq_36667170/article/details/79094257">SSH</a> éœ€è¦é…ç½®å¥½</p><p>è¿›å…¥ä½ çš„ github ä»“åº“ -&gt; settings  -&gt; GitHub Pages </p><p><img src="/dylan/imgs/createBlog/2021-11-3-3.png"></p><p>ä¸€å¼€å§‹æˆ‘ä»¥ä¸ºåªèƒ½éƒ¨ç½²ä¸€ä¸ªé¡¹ç›®ï¼Œå› ä¸ºæ¯ä¸ªäººçš„ github è´¦å·çš„çš„æ ¹ç›®å½•éƒ½æ˜¯: xxx.github.ioï¼Œåæ¥æˆ‘å‘ç°åªéœ€è¦åœ¨åŸŸååè¾¹åŠ ä¸€ä¸ªè·¯ç”±å°±è¡Œï¼Œæ¯”å¦‚æˆ‘çš„ï¼šxxx.github.io/dylan </p><h3 id="2-éƒ¨ç½²"><a href="#2-éƒ¨ç½²" class="headerlink" title="2.éƒ¨ç½²"></a>2.éƒ¨ç½²</h3><p>è¿›å…¥æ ¹ç›®å½•æ–‡ä»¶ä¸‹çš„ <code>_config.yml</code> ï¼Œå†æé†’ä¸€æ¬¡ï¼Œä¸æ˜¯ fluid ï¼Œæ˜¯æ ¹ç›®å½•ï¼</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs dts"><span class="hljs-symbol">deploy:</span><br><span class="hljs-symbol">  type:</span> git<br><span class="hljs-symbol">  repo:</span> https:<span class="hljs-comment">//github.com/sansui-d/dylan.git</span><br><span class="hljs-symbol">  branch:</span> master<br></code></pre></td></tr></table></figure><p>åˆ«å¿˜è®°äº† <code>.git</code> ï¼Œä¹‹åå®‰è£…éƒ¨ç½²å‘½ä»¤ deploy-git </p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ada">npm install hexo-deployer-git <span class="hljs-comment">--save</span><br></code></pre></td></tr></table></figure><p>ç„¶å</p><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs verilog">hexo clean<br>hexo <span class="hljs-keyword">generate</span><span class="hljs-comment">//ç®€å†™ hexo g</span><br>hexo deploy<span class="hljs-comment">//ç®€å†™ hexo d</span><br></code></pre></td></tr></table></figure><p>å®Œæˆä¹‹åï¼Œä½ çš„åšå®¢å°±å¯ä»¥ç”¨ github Pages æ‰“å¼€äº†</p><h2 id="ä¸‰ã€æœ€å"><a href="#ä¸‰ã€æœ€å" class="headerlink" title="ä¸‰ã€æœ€å"></a>ä¸‰ã€æœ€å</h2><p>åšå®¢æ­å¥½äº†å½“ç„¶å°±è¯¥å†™åšå®¢å•¦</p><figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs excel">hexo <span class="hljs-built_in">n</span> <span class="hljs-string">&quot;æˆ‘çš„ç¬¬ä¸€ä¸ªåšå®¢&quot;</span><br></code></pre></td></tr></table></figure><p>æ‰¾åˆ°ä½ çš„ <code>æˆ‘çš„ç¬¬ä¸€ä¸ªåšå®¢.md</code> æ–‡ä»¶å¼€å§‹å·å§ï¼Œæ¨èä¸€æ¬¾ markdown ç¼–å†™å·¥å…· <a href="https://www.typora.io/">Typora</a></p>]]></content>
    
    
    <categories>
      
      <category>å®ç”¨æŠ€å·§</category>
      
    </categories>
    
    
    <tags>
      
      <tag>éƒ¨ç½²</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
